{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.install = exports.videoPlayer = exports.videojs = undefined;\n\nvar _video = require('video.js');\n\nvar _video2 = _interopRequireDefault(_video);\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar DEFAULT_EVENTS = ['loadeddata', 'canplay', 'canplaythrough', 'play', 'pause', 'waiting', 'playing', 'ended', 'error'];\n\nvar videoPlayerDirective = function videoPlayerDirective(globalOptions) {\n  globalOptions.events = globalOptions.events || [];\n  globalOptions.options = globalOptions.options || {};\n\n  var getInstanceName = function getInstanceName(el, binding, vnode) {\n    var instanceName = null;\n\n    if (binding.arg) {\n      instanceName = binding.arg;\n    } else if (vnode.data.attrs && (vnode.data.attrs.instanceName || vnode.data.attrs['instance-name'])) {\n      instanceName = vnode.data.attrs.instanceName || vnode.data.attrs['instance-name'];\n    } else if (el.id) {\n      instanceName = el.id;\n    }\n\n    return instanceName || 'player';\n  };\n\n  var repairDom = function repairDom(el) {\n    if (!el.children.length) {\n      var video = document.createElement('video');\n      video.className = 'video-js';\n      el.appendChild(video);\n    }\n  };\n\n  var initPlayer = function initPlayer(el, binding, vnode) {\n    var self = vnode.context;\n    var attrs = vnode.data.attrs || {};\n    var options = binding.value || {};\n    var instanceName = getInstanceName(el, binding, vnode);\n    var customEventName = attrs.customEventName || 'statechanged';\n    var player = self[instanceName];\n    var componentEvents = attrs.events || [];\n    var playsinline = attrs.playsinline || false;\n\n    if (playsinline) {\n      el.children[0].setAttribute('playsinline', playsinline);\n      el.children[0].setAttribute('webkit-playsinline', playsinline);\n      el.children[0].setAttribute('x5-playsinline', playsinline);\n      el.children[0].setAttribute('x5-video-player-type', 'h5');\n      el.children[0].setAttribute('x5-video-player-fullscreen', false);\n    }\n\n    if (attrs.crossOrigin) {\n      el.children[0].crossOrigin = attrs.crossOrigin;\n      el.children[0].setAttribute('crossOrigin', attrs.crossOrigin);\n    }\n\n    if (!player) {\n      var videoOptions = (0, _objectAssign2.default)({}, {\n        controls: true,\n        controlBar: {\n          remainingTimeDisplay: false,\n          playToggle: {},\n          progressControl: {},\n          fullscreenToggle: {},\n          volumeMenuButton: {\n            inline: false,\n            vertical: true\n          }\n        },\n        techOrder: ['html5'],\n        plugins: {}\n      }, globalOptions.options, options);\n\n      if (videoOptions.plugins) {\n        delete videoOptions.plugins.__ob__;\n      }\n\n      var eventEmit = function eventEmit(vnode, name, data) {\n        var handlers = vnode.data && vnode.data.on || vnode.componentOptions && vnode.componentOptions.listeners;\n        if (handlers && handlers[name]) handlers[name].fns(data);\n      };\n\n      var emitPlayerState = function emitPlayerState(event, value) {\n        if (event) {\n          eventEmit(vnode, event, player);\n        }\n\n        if (value) {\n          eventEmit(vnode, customEventName, _defineProperty({}, event, value));\n        }\n      };\n\n      player = self[instanceName] = (0, _video2.default)(el.children[0], videoOptions, function () {\n        var _this = this;\n\n        var events = DEFAULT_EVENTS.concat(componentEvents).concat(globalOptions.events);\n        var onEdEvents = {};\n\n        for (var i = 0; i < events.length; i++) {\n          if (typeof events[i] === 'string' && onEdEvents[events[i]] === undefined) {\n            (function (event) {\n              onEdEvents[event] = null;\n\n              _this.on(event, function () {\n                emitPlayerState(event, true);\n              });\n            })(events[i]);\n          }\n        }\n\n        this.on('timeupdate', function () {\n          emitPlayerState('timeupdate', this.currentTime());\n        });\n        emitPlayerState('ready');\n      });\n    }\n  };\n\n  var disposePlayer = function disposePlayer(el, binding, vnode) {\n    var self = vnode.context;\n    var instanceName = getInstanceName(el, binding, vnode);\n    var player = self[instanceName];\n\n    if (player && player.dispose) {\n      if (player.techName_ !== 'Flash') {\n        player.pause && player.pause();\n      }\n\n      player.dispose();\n      repairDom(el);\n      self[instanceName] = null;\n      delete self[instanceName];\n    }\n  };\n\n  return {\n    inserted: initPlayer,\n    bind: function bind(el, binding, vnode) {\n      repairDom(el);\n    },\n    update: function update(el, binding, vnode) {\n      var options = binding.value || {};\n      disposePlayer(el, binding, vnode);\n\n      if (options && options.sources && options.sources.length) {\n        initPlayer(el, binding, vnode);\n      }\n    },\n    unbind: disposePlayer\n  };\n};\n\nvar videoPlayer = videoPlayerDirective({});\n\nvar install = function install(Vue) {\n  var globalOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    options: {},\n    events: []\n  };\n  Vue.directive('video-player', videoPlayerDirective(globalOptions));\n};\n\nvar VueVideoPlayer = {\n  videojs: _video2.default,\n  videoPlayer: videoPlayer,\n  install: install\n};\nexports.default = VueVideoPlayer;\nexports.videojs = _video2.default;\nexports.videoPlayer = videoPlayer;\nexports.install = install;","map":{"version":3,"sources":["C:/Users/Administrator/Desktop/data_view/my_project/vue2_app/myapp/node_modules/vue-video-player/dist/ssr.js"],"names":["Object","defineProperty","exports","value","install","videoPlayer","videojs","undefined","_video","require","_video2","_interopRequireDefault","_objectAssign","_objectAssign2","obj","__esModule","default","_defineProperty","key","enumerable","configurable","writable","DEFAULT_EVENTS","videoPlayerDirective","globalOptions","events","options","getInstanceName","el","binding","vnode","instanceName","arg","data","attrs","id","repairDom","children","length","video","document","createElement","className","appendChild","initPlayer","self","context","customEventName","player","componentEvents","playsinline","setAttribute","crossOrigin","videoOptions","controls","controlBar","remainingTimeDisplay","playToggle","progressControl","fullscreenToggle","volumeMenuButton","inline","vertical","techOrder","plugins","__ob__","eventEmit","name","handlers","on","componentOptions","listeners","fns","emitPlayerState","event","_this","concat","onEdEvents","i","currentTime","disposePlayer","dispose","techName_","pause","inserted","bind","update","sources","unbind","Vue","arguments","directive","VueVideoPlayer"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkBF,OAAO,CAACG,WAAR,GAAsBH,OAAO,CAACI,OAAR,GAAkBC,SAA1D;;AAEA,IAAIC,MAAM,GAAGC,OAAO,CAAC,UAAD,CAApB;;AAEA,IAAIC,OAAO,GAAGC,sBAAsB,CAACH,MAAD,CAApC;;AAEA,IAAII,aAAa,GAAGH,OAAO,CAAC,eAAD,CAA3B;;AAEA,IAAII,cAAc,GAAGF,sBAAsB,CAACC,aAAD,CAA3C;;AAEA,SAASD,sBAAT,CAAgCG,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,SAASG,eAAT,CAAyBH,GAAzB,EAA8BI,GAA9B,EAAmCf,KAAnC,EAA0C;AAAE,MAAIe,GAAG,IAAIJ,GAAX,EAAgB;AAAEd,IAAAA,MAAM,CAACC,cAAP,CAAsBa,GAAtB,EAA2BI,GAA3B,EAAgC;AAAEf,MAAAA,KAAK,EAAEA,KAAT;AAAgBgB,MAAAA,UAAU,EAAE,IAA5B;AAAkCC,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAEP,IAAAA,GAAG,CAACI,GAAD,CAAH,GAAWf,KAAX;AAAmB;;AAAC,SAAOW,GAAP;AAAa;;AAEjN,IAAIQ,cAAc,GAAG,CAAC,YAAD,EAAe,SAAf,EAA0B,gBAA1B,EAA4C,MAA5C,EAAoD,OAApD,EAA6D,SAA7D,EAAwE,SAAxE,EAAmF,OAAnF,EAA4F,OAA5F,CAArB;;AAEA,IAAIC,oBAAoB,GAAG,SAASA,oBAAT,CAA8BC,aAA9B,EAA6C;AACtEA,EAAAA,aAAa,CAACC,MAAd,GAAuBD,aAAa,CAACC,MAAd,IAAwB,EAA/C;AACAD,EAAAA,aAAa,CAACE,OAAd,GAAwBF,aAAa,CAACE,OAAd,IAAyB,EAAjD;;AAEA,MAAIC,eAAe,GAAG,SAASA,eAAT,CAAyBC,EAAzB,EAA6BC,OAA7B,EAAsCC,KAAtC,EAA6C;AACjE,QAAIC,YAAY,GAAG,IAAnB;;AACA,QAAIF,OAAO,CAACG,GAAZ,EAAiB;AACfD,MAAAA,YAAY,GAAGF,OAAO,CAACG,GAAvB;AACD,KAFD,MAEO,IAAIF,KAAK,CAACG,IAAN,CAAWC,KAAX,KAAqBJ,KAAK,CAACG,IAAN,CAAWC,KAAX,CAAiBH,YAAjB,IAAiCD,KAAK,CAACG,IAAN,CAAWC,KAAX,CAAiB,eAAjB,CAAtD,CAAJ,EAA8F;AACnGH,MAAAA,YAAY,GAAGD,KAAK,CAACG,IAAN,CAAWC,KAAX,CAAiBH,YAAjB,IAAiCD,KAAK,CAACG,IAAN,CAAWC,KAAX,CAAiB,eAAjB,CAAhD;AACD,KAFM,MAEA,IAAIN,EAAE,CAACO,EAAP,EAAW;AAChBJ,MAAAA,YAAY,GAAGH,EAAE,CAACO,EAAlB;AACD;;AACD,WAAOJ,YAAY,IAAI,QAAvB;AACD,GAVD;;AAYA,MAAIK,SAAS,GAAG,SAASA,SAAT,CAAmBR,EAAnB,EAAuB;AACrC,QAAI,CAACA,EAAE,CAACS,QAAH,CAAYC,MAAjB,EAAyB;AACvB,UAAIC,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAZ;AACAF,MAAAA,KAAK,CAACG,SAAN,GAAkB,UAAlB;AACAd,MAAAA,EAAE,CAACe,WAAH,CAAeJ,KAAf;AACD;AACF,GAND;;AAQA,MAAIK,UAAU,GAAG,SAASA,UAAT,CAAoBhB,EAApB,EAAwBC,OAAxB,EAAiCC,KAAjC,EAAwC;AAEvD,QAAIe,IAAI,GAAGf,KAAK,CAACgB,OAAjB;AACA,QAAIZ,KAAK,GAAGJ,KAAK,CAACG,IAAN,CAAWC,KAAX,IAAoB,EAAhC;AACA,QAAIR,OAAO,GAAGG,OAAO,CAAC1B,KAAR,IAAiB,EAA/B;AACA,QAAI4B,YAAY,GAAGJ,eAAe,CAACC,EAAD,EAAKC,OAAL,EAAcC,KAAd,CAAlC;AACA,QAAIiB,eAAe,GAAGb,KAAK,CAACa,eAAN,IAAyB,cAA/C;AACA,QAAIC,MAAM,GAAGH,IAAI,CAACd,YAAD,CAAjB;AAEA,QAAIkB,eAAe,GAAGf,KAAK,CAACT,MAAN,IAAgB,EAAtC;AACA,QAAIyB,WAAW,GAAGhB,KAAK,CAACgB,WAAN,IAAqB,KAAvC;;AAEA,QAAIA,WAAJ,EAAiB;AACftB,MAAAA,EAAE,CAACS,QAAH,CAAY,CAAZ,EAAec,YAAf,CAA4B,aAA5B,EAA2CD,WAA3C;AACAtB,MAAAA,EAAE,CAACS,QAAH,CAAY,CAAZ,EAAec,YAAf,CAA4B,oBAA5B,EAAkDD,WAAlD;AACAtB,MAAAA,EAAE,CAACS,QAAH,CAAY,CAAZ,EAAec,YAAf,CAA4B,gBAA5B,EAA8CD,WAA9C;AACAtB,MAAAA,EAAE,CAACS,QAAH,CAAY,CAAZ,EAAec,YAAf,CAA4B,sBAA5B,EAAoD,IAApD;AACAvB,MAAAA,EAAE,CAACS,QAAH,CAAY,CAAZ,EAAec,YAAf,CAA4B,4BAA5B,EAA0D,KAA1D;AACD;;AAED,QAAIjB,KAAK,CAACkB,WAAV,EAAuB;AACrBxB,MAAAA,EAAE,CAACS,QAAH,CAAY,CAAZ,EAAee,WAAf,GAA6BlB,KAAK,CAACkB,WAAnC;AACAxB,MAAAA,EAAE,CAACS,QAAH,CAAY,CAAZ,EAAec,YAAf,CAA4B,aAA5B,EAA2CjB,KAAK,CAACkB,WAAjD;AACD;;AAED,QAAI,CAACJ,MAAL,EAAa;AACX,UAAIK,YAAY,GAAG,CAAC,GAAGxC,cAAc,CAACG,OAAnB,EAA4B,EAA5B,EAAgC;AACjDsC,QAAAA,QAAQ,EAAE,IADuC;AAEjDC,QAAAA,UAAU,EAAE;AACVC,UAAAA,oBAAoB,EAAE,KADZ;AAEVC,UAAAA,UAAU,EAAE,EAFF;AAGVC,UAAAA,eAAe,EAAE,EAHP;AAIVC,UAAAA,gBAAgB,EAAE,EAJR;AAKVC,UAAAA,gBAAgB,EAAE;AAChBC,YAAAA,MAAM,EAAE,KADQ;AAEhBC,YAAAA,QAAQ,EAAE;AAFM;AALR,SAFqC;AAYjDC,QAAAA,SAAS,EAAE,CAAC,OAAD,CAZsC;AAajDC,QAAAA,OAAO,EAAE;AAbwC,OAAhC,EAchBxC,aAAa,CAACE,OAdE,EAcOA,OAdP,CAAnB;;AAgBA,UAAI2B,YAAY,CAACW,OAAjB,EAA0B;AACxB,eAAOX,YAAY,CAACW,OAAb,CAAqBC,MAA5B;AACD;;AAED,UAAIC,SAAS,GAAG,SAASA,SAAT,CAAmBpC,KAAnB,EAA0BqC,IAA1B,EAAgClC,IAAhC,EAAsC;AACpD,YAAImC,QAAQ,GAAGtC,KAAK,CAACG,IAAN,IAAcH,KAAK,CAACG,IAAN,CAAWoC,EAAzB,IAA+BvC,KAAK,CAACwC,gBAAN,IAA0BxC,KAAK,CAACwC,gBAAN,CAAuBC,SAA/F;AACA,YAAIH,QAAQ,IAAIA,QAAQ,CAACD,IAAD,CAAxB,EAAgCC,QAAQ,CAACD,IAAD,CAAR,CAAeK,GAAf,CAAmBvC,IAAnB;AACjC,OAHD;;AAKA,UAAIwC,eAAe,GAAG,SAASA,eAAT,CAAyBC,KAAzB,EAAgCvE,KAAhC,EAAuC;AAC3D,YAAIuE,KAAJ,EAAW;AACTR,UAAAA,SAAS,CAACpC,KAAD,EAAQ4C,KAAR,EAAe1B,MAAf,CAAT;AACD;;AACD,YAAI7C,KAAJ,EAAW;AACT+D,UAAAA,SAAS,CAACpC,KAAD,EAAQiB,eAAR,EAAyB9B,eAAe,CAAC,EAAD,EAAKyD,KAAL,EAAYvE,KAAZ,CAAxC,CAAT;AACD;AACF,OAPD;;AASA6C,MAAAA,MAAM,GAAGH,IAAI,CAACd,YAAD,CAAJ,GAAqB,CAAC,GAAGrB,OAAO,CAACM,OAAZ,EAAqBY,EAAE,CAACS,QAAH,CAAY,CAAZ,CAArB,EAAqCgB,YAArC,EAAmD,YAAY;AAC3F,YAAIsB,KAAK,GAAG,IAAZ;;AAEA,YAAIlD,MAAM,GAAGH,cAAc,CAACsD,MAAf,CAAsB3B,eAAtB,EAAuC2B,MAAvC,CAA8CpD,aAAa,CAACC,MAA5D,CAAb;AAEA,YAAIoD,UAAU,GAAG,EAAjB;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGrD,MAAM,CAACa,MAA3B,EAAmCwC,CAAC,EAApC,EAAwC;AACtC,cAAI,OAAOrD,MAAM,CAACqD,CAAD,CAAb,KAAqB,QAArB,IAAiCD,UAAU,CAACpD,MAAM,CAACqD,CAAD,CAAP,CAAV,KAA0BvE,SAA/D,EAA0E;AACxE,aAAC,UAAUmE,KAAV,EAAiB;AAChBG,cAAAA,UAAU,CAACH,KAAD,CAAV,GAAoB,IAApB;;AACAC,cAAAA,KAAK,CAACN,EAAN,CAASK,KAAT,EAAgB,YAAY;AAC1BD,gBAAAA,eAAe,CAACC,KAAD,EAAQ,IAAR,CAAf;AACD,eAFD;AAGD,aALD,EAKGjD,MAAM,CAACqD,CAAD,CALT;AAMD;AACF;;AAED,aAAKT,EAAL,CAAQ,YAAR,EAAsB,YAAY;AAChCI,UAAAA,eAAe,CAAC,YAAD,EAAe,KAAKM,WAAL,EAAf,CAAf;AACD,SAFD;AAIAN,QAAAA,eAAe,CAAC,OAAD,CAAf;AACD,OAtB6B,CAA9B;AAuBD;AACF,GApFD;;AAsFA,MAAIO,aAAa,GAAG,SAASA,aAAT,CAAuBpD,EAAvB,EAA2BC,OAA3B,EAAoCC,KAApC,EAA2C;AAC7D,QAAIe,IAAI,GAAGf,KAAK,CAACgB,OAAjB;AACA,QAAIf,YAAY,GAAGJ,eAAe,CAACC,EAAD,EAAKC,OAAL,EAAcC,KAAd,CAAlC;AACA,QAAIkB,MAAM,GAAGH,IAAI,CAACd,YAAD,CAAjB;;AACA,QAAIiB,MAAM,IAAIA,MAAM,CAACiC,OAArB,EAA8B;AAC5B,UAAIjC,MAAM,CAACkC,SAAP,KAAqB,OAAzB,EAAkC;AAChClC,QAAAA,MAAM,CAACmC,KAAP,IAAgBnC,MAAM,CAACmC,KAAP,EAAhB;AACD;;AACDnC,MAAAA,MAAM,CAACiC,OAAP;AACA7C,MAAAA,SAAS,CAACR,EAAD,CAAT;AACAiB,MAAAA,IAAI,CAACd,YAAD,CAAJ,GAAqB,IAArB;AACA,aAAOc,IAAI,CAACd,YAAD,CAAX;AACD;AACF,GAbD;;AAeA,SAAO;AACLqD,IAAAA,QAAQ,EAAExC,UADL;AAGLyC,IAAAA,IAAI,EAAE,SAASA,IAAT,CAAczD,EAAd,EAAkBC,OAAlB,EAA2BC,KAA3B,EAAkC;AACtCM,MAAAA,SAAS,CAACR,EAAD,CAAT;AACD,KALI;AAML0D,IAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB1D,EAAhB,EAAoBC,OAApB,EAA6BC,KAA7B,EAAoC;AAC1C,UAAIJ,OAAO,GAAGG,OAAO,CAAC1B,KAAR,IAAiB,EAA/B;AACA6E,MAAAA,aAAa,CAACpD,EAAD,EAAKC,OAAL,EAAcC,KAAd,CAAb;;AACA,UAAIJ,OAAO,IAAIA,OAAO,CAAC6D,OAAnB,IAA8B7D,OAAO,CAAC6D,OAAR,CAAgBjD,MAAlD,EAA0D;AACxDM,QAAAA,UAAU,CAAChB,EAAD,EAAKC,OAAL,EAAcC,KAAd,CAAV;AACD;AACF,KAZI;AAcL0D,IAAAA,MAAM,EAAER;AAdH,GAAP;AAgBD,CA7ID;;AA+IA,IAAI3E,WAAW,GAAGkB,oBAAoB,CAAC,EAAD,CAAtC;;AAEA,IAAInB,OAAO,GAAG,SAASA,OAAT,CAAiBqF,GAAjB,EAAsB;AAClC,MAAIjE,aAAa,GAAGkE,SAAS,CAACpD,MAAV,GAAmB,CAAnB,IAAwBoD,SAAS,CAAC,CAAD,CAAT,KAAiBnF,SAAzC,GAAqDmF,SAAS,CAAC,CAAD,CAA9D,GAAoE;AACtFhE,IAAAA,OAAO,EAAE,EAD6E;AAEtFD,IAAAA,MAAM,EAAE;AAF8E,GAAxF;AAKAgE,EAAAA,GAAG,CAACE,SAAJ,CAAc,cAAd,EAA8BpE,oBAAoB,CAACC,aAAD,CAAlD;AACD,CAPD;;AASA,IAAIoE,cAAc,GAAG;AAAEtF,EAAAA,OAAO,EAAEI,OAAO,CAACM,OAAnB;AAA4BX,EAAAA,WAAW,EAAEA,WAAzC;AAAsDD,EAAAA,OAAO,EAAEA;AAA/D,CAArB;AAEAF,OAAO,CAACc,OAAR,GAAkB4E,cAAlB;AACA1F,OAAO,CAACI,OAAR,GAAkBI,OAAO,CAACM,OAA1B;AACAd,OAAO,CAACG,WAAR,GAAsBA,WAAtB;AACAH,OAAO,CAACE,OAAR,GAAkBA,OAAlB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.install = exports.videoPlayer = exports.videojs = undefined;\n\nvar _video = require('video.js');\n\nvar _video2 = _interopRequireDefault(_video);\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar DEFAULT_EVENTS = ['loadeddata', 'canplay', 'canplaythrough', 'play', 'pause', 'waiting', 'playing', 'ended', 'error'];\n\nvar videoPlayerDirective = function videoPlayerDirective(globalOptions) {\n  globalOptions.events = globalOptions.events || [];\n  globalOptions.options = globalOptions.options || {};\n\n  var getInstanceName = function getInstanceName(el, binding, vnode) {\n    var instanceName = null;\n    if (binding.arg) {\n      instanceName = binding.arg;\n    } else if (vnode.data.attrs && (vnode.data.attrs.instanceName || vnode.data.attrs['instance-name'])) {\n      instanceName = vnode.data.attrs.instanceName || vnode.data.attrs['instance-name'];\n    } else if (el.id) {\n      instanceName = el.id;\n    }\n    return instanceName || 'player';\n  };\n\n  var repairDom = function repairDom(el) {\n    if (!el.children.length) {\n      var video = document.createElement('video');\n      video.className = 'video-js';\n      el.appendChild(video);\n    }\n  };\n\n  var initPlayer = function initPlayer(el, binding, vnode) {\n\n    var self = vnode.context;\n    var attrs = vnode.data.attrs || {};\n    var options = binding.value || {};\n    var instanceName = getInstanceName(el, binding, vnode);\n    var customEventName = attrs.customEventName || 'statechanged';\n    var player = self[instanceName];\n\n    var componentEvents = attrs.events || [];\n    var playsinline = attrs.playsinline || false;\n\n    if (playsinline) {\n      el.children[0].setAttribute('playsinline', playsinline);\n      el.children[0].setAttribute('webkit-playsinline', playsinline);\n      el.children[0].setAttribute('x5-playsinline', playsinline);\n      el.children[0].setAttribute('x5-video-player-type', 'h5');\n      el.children[0].setAttribute('x5-video-player-fullscreen', false);\n    }\n\n    if (attrs.crossOrigin) {\n      el.children[0].crossOrigin = attrs.crossOrigin;\n      el.children[0].setAttribute('crossOrigin', attrs.crossOrigin);\n    }\n\n    if (!player) {\n      var videoOptions = (0, _objectAssign2.default)({}, {\n        controls: true,\n        controlBar: {\n          remainingTimeDisplay: false,\n          playToggle: {},\n          progressControl: {},\n          fullscreenToggle: {},\n          volumeMenuButton: {\n            inline: false,\n            vertical: true\n          }\n        },\n        techOrder: ['html5'],\n        plugins: {}\n      }, globalOptions.options, options);\n\n      if (videoOptions.plugins) {\n        delete videoOptions.plugins.__ob__;\n      }\n\n      var eventEmit = function eventEmit(vnode, name, data) {\n        var handlers = vnode.data && vnode.data.on || vnode.componentOptions && vnode.componentOptions.listeners;\n        if (handlers && handlers[name]) handlers[name].fns(data);\n      };\n\n      var emitPlayerState = function emitPlayerState(event, value) {\n        if (event) {\n          eventEmit(vnode, event, player);\n        }\n        if (value) {\n          eventEmit(vnode, customEventName, _defineProperty({}, event, value));\n        }\n      };\n\n      player = self[instanceName] = (0, _video2.default)(el.children[0], videoOptions, function () {\n        var _this = this;\n\n        var events = DEFAULT_EVENTS.concat(componentEvents).concat(globalOptions.events);\n\n        var onEdEvents = {};\n        for (var i = 0; i < events.length; i++) {\n          if (typeof events[i] === 'string' && onEdEvents[events[i]] === undefined) {\n            (function (event) {\n              onEdEvents[event] = null;\n              _this.on(event, function () {\n                emitPlayerState(event, true);\n              });\n            })(events[i]);\n          }\n        }\n\n        this.on('timeupdate', function () {\n          emitPlayerState('timeupdate', this.currentTime());\n        });\n\n        emitPlayerState('ready');\n      });\n    }\n  };\n\n  var disposePlayer = function disposePlayer(el, binding, vnode) {\n    var self = vnode.context;\n    var instanceName = getInstanceName(el, binding, vnode);\n    var player = self[instanceName];\n    if (player && player.dispose) {\n      if (player.techName_ !== 'Flash') {\n        player.pause && player.pause();\n      }\n      player.dispose();\n      repairDom(el);\n      self[instanceName] = null;\n      delete self[instanceName];\n    }\n  };\n\n  return {\n    inserted: initPlayer,\n\n    bind: function bind(el, binding, vnode) {\n      repairDom(el);\n    },\n    update: function update(el, binding, vnode) {\n      var options = binding.value || {};\n      disposePlayer(el, binding, vnode);\n      if (options && options.sources && options.sources.length) {\n        initPlayer(el, binding, vnode);\n      }\n    },\n\n    unbind: disposePlayer\n  };\n};\n\nvar videoPlayer = videoPlayerDirective({});\n\nvar install = function install(Vue) {\n  var globalOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    options: {},\n    events: []\n  };\n\n  Vue.directive('video-player', videoPlayerDirective(globalOptions));\n};\n\nvar VueVideoPlayer = { videojs: _video2.default, videoPlayer: videoPlayer, install: install };\n\nexports.default = VueVideoPlayer;\nexports.videojs = _video2.default;\nexports.videoPlayer = videoPlayer;\nexports.install = install;\n"]},"metadata":{},"sourceType":"script"}