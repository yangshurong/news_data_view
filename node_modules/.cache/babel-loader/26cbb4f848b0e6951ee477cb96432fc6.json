{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Administrator/Desktop/data_view/my_project/vue2_app/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      cur_info: {\n        year: \"2017\",\n        title: \"政治\",\n        region: \"青岛\",\n        region_data: \"\"\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.set_region_map();\n  },\n  methods: {\n    set_region_map: function set_region_map() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _data, scar_data, i, x, y, z, speed_region_option;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.$axios({\n                  url: \"https://geo.datav.aliyun.com/areas_v3/bound/370200_full.json\",\n                  method: \"get\"\n                }).then(function (res) {\n                  _this.cur_info.region_data = res.data;\n                });\n\n              case 2:\n                _this.$echarts.registerMap(_this.cur_info.region, _this.cur_info.region_data);\n\n                _data = _this.cur_info.region_data.features, scar_data = [];\n\n                for (i in _data) {\n                  x = _data[i].properties.center[0], y = _data[i].properties.center[1], z = _data[i].properties.name;\n                  scar_data.push([x, y, z]);\n                }\n\n                _this.speed_region_Chart = _this.$echarts.init(_this.$refs.region);\n                speed_region_option = {\n                  geo: {\n                    map: _this.cur_info.region,\n                    z: 2,\n                    aspectScale: 1,\n                    layoutCenter: [\"50%\", \"50%\"],\n                    //地图位置\n                    layoutSize: '500',\n                    zoom: 1,\n                    //当前视角的缩放比例\n                    scaleLimit: {\n                      //滚轮缩放的极限控制\n                      min: 1,\n                      max: 2\n                    },\n                    label: {\n                      normal: {\n                        show: true,\n                        textStyle: {\n                          color: \"#FFFFFF\",\n                          fontSize: 18\n                        }\n                      },\n                      emphasis: {\n                        show: true,\n                        textStyle: {\n                          color: \"#FFFFFF\",\n                          fontSize: 18\n                        }\n                      }\n                    },\n                    itemStyle: {\n                      normal: {\n                        shadowColor: \"rgba(21,55,112,255)\",\n                        shadowOffsetX: 10,\n                        shadowOffsetY: 10,\n                        areaColor: \"rgba(24,48,82,255)\",\n                        borderColor: \"rgba(84,113,166)\",\n                        borderWidth: 1.5\n                      },\n                      emphasis: {\n                        areaColor: \"rgba(7,69,162)\"\n                      }\n                    }\n                  },\n                  series: [{\n                    type: \"map\",\n                    mapType: _this.cur_info.region,\n                    aspectScale: 1,\n                    zoom: 1,\n                    layoutSize: '500',\n                    z: 1,\n                    layoutCenter: [\"50%\", \"50%\"],\n                    //地图位置\n                    label: {\n                      normal: {\n                        show: false\n                      },\n                      emphasis: {\n                        show: false\n                      }\n                    },\n                    itemStyle: {\n                      normal: {\n                        shadowColor: \"rgba(22,57,89,255)\",\n                        shadowOffsetX: 20,\n                        shadowOffsetY: 20,\n                        //areaColor: \"rgba(22,57,89,255)\",\n                        borderColor: \"#4a75ff\",\n                        borderWidth: 7\n                      },\n                      emphasis: {\n                        areaColor: \"rgba(22,57,89,0)\"\n                      }\n                    }\n                  }]\n                };\n\n                _this.speed_region_Chart.setOption(speed_region_option);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.speed_region_Chart) {\n      this.speed_region_Chart.dispose();\n      this.speed_region_Chart = null;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACAA,MADA,kBACA;AACA;AACAC;AACAC,oBADA;AAEAC,mBAFA;AAGAC,oBAHA;AAIAC;AAJA;AADA;AAQA,GAVA;AAWAC,SAXA,qBAWA;AACA;AACA,GAbA;AAcAC;AACAC,kBADA,4BACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA;AACAC,qFADA;AAEAC;AAFA,mBAGAC,IAHA,CAGA;AACA;AACA,iBALA,CADA;;AAAA;AAOA,2CACA,qBADA,EAEA,0BAFA;;AAIAC,qBAXA,GAWA,mCAXA,EAYAC,SAZA,GAYA,EAZA;;AAaA;AACAC,mBADA,GACAF,6BADA,EAEAG,CAFA,GAEAH,6BAFA,EAGAI,CAHA,GAGAJ,wBAHA;AAIAC;AACA;;AACA;AACAI,mCApBA,GAoBA;AACAC;AACAC,8CADA;AAEAH,wBAFA;AAGAI,kCAHA;AAIAC,gDAJA;AAIA;AACAC,qCALA;AAMAC,2BANA;AAMA;AACAC;AACA;AACAC,4BAFA;AAGAC;AAHA,qBAPA;AAYAC;AACAC;AACAC,kCADA;AAEAC;AACAC,0CADA;AAEAC;AAFA;AAFA,uBADA;AAQAC;AACAJ,kCADA;AAEAC;AACAC,0CADA;AAEAC;AAFA;AAFA;AARA,qBAZA;AA4BAE;AACAN;AACAO,0DADA;AAEAC,yCAFA;AAGAC,yCAHA;AAIAC,uDAJA;AAKAC,uDALA;AAMAC;AANA,uBADA;AASAP;AACAK;AADA;AATA;AA5BA,mBADA;AA4CAG,2BACA;AACAC,+BADA;AAEAC,kDAFA;AAGAvB,kCAHA;AAIAG,2BAJA;AAKAD,qCALA;AAMAN,wBANA;AAOAK,gDAPA;AAOA;AACAM;AACAC;AACAC;AADA,uBADA;AAIAI;AACAJ;AADA;AAJA,qBARA;AAgBAK;AACAN;AACAO,yDADA;AAEAC,yCAFA;AAGAC,yCAHA;AAIA;AACAE,8CALA;AAMAC;AANA,uBADA;AASAP;AACAK;AADA;AATA;AAhBA,mBADA;AA5CA,iBApBA;;AAiGA;;AAjGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkGA;AAnGA,GAdA;AAmHAM,eAnHA,2BAmHA;AACA;AACA;AACA;AACA;AACA;AAxHA","names":["data","cur_info","year","title","region","region_data","mounted","methods","set_region_map","url","method","then","_data","scar_data","x","y","z","speed_region_option","geo","map","aspectScale","layoutCenter","layoutSize","zoom","scaleLimit","min","max","label","normal","show","textStyle","color","fontSize","emphasis","itemStyle","shadowColor","shadowOffsetX","shadowOffsetY","areaColor","borderColor","borderWidth","series","type","mapType","beforeDestroy"],"sourceRoot":"src/views","sources":["ShiView.vue"],"sourcesContent":["<template>\r\n  <div class=\"ShiBackground\">\r\n    <div class=\"title\"></div>\r\n    <div class=\"content\">\r\n      <div class=\"policy_content\"></div>\r\n      <div class=\"news_content\">\r\n        <div class=\"map_chart\">\r\n          <div\r\n            ref=\"region\"\r\n            style=\"width: 100%; height: 100%; margin-left: 0px\"\r\n          ></div>\r\n        </div>\r\n        <div class=\"time\"></div>\r\n        <div class=\"mind\"></div>\r\n      </div>\r\n      <div class=\"right\">\r\n        <div class=\"tag_num\"></div>\r\n        <div class=\"wordCloud\"></div>\r\n        <div class=\"rank_speed\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      cur_info: {\r\n        year: \"2017\",\r\n        title: \"政治\",\r\n        region: \"青岛\",\r\n        region_data: \"\",\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.set_region_map();\r\n  },\r\n  methods: {\r\n    async set_region_map() {\r\n      await this.$axios({\r\n        url: \"https://geo.datav.aliyun.com/areas_v3/bound/370200_full.json\",\r\n        method: \"get\",\r\n      }).then((res) => {\r\n        this.cur_info.region_data = res.data;\r\n      });\r\n      this.$echarts.registerMap(\r\n        this.cur_info.region,\r\n        this.cur_info.region_data\r\n      );\r\n      let _data = this.cur_info.region_data.features,\r\n        scar_data = [];\r\n      for (let i in _data) {\r\n        let x = _data[i].properties.center[0],\r\n          y = _data[i].properties.center[1],\r\n          z = _data[i].properties.name;\r\n        scar_data.push([x, y, z]);\r\n      }\r\n      this.speed_region_Chart = this.$echarts.init(this.$refs.region);\r\n      let speed_region_option = {\r\n        geo: {\r\n          map: this.cur_info.region,\r\n          z: 2,\r\n          aspectScale: 1,\r\n          layoutCenter: [\"50%\", \"50%\"], //地图位置\r\n          layoutSize:'500',\r\n          zoom: 1, //当前视角的缩放比例\r\n          scaleLimit: {\r\n            //滚轮缩放的极限控制\r\n            min: 1,\r\n            max: 2,\r\n          },\r\n          label: {\r\n            normal: {\r\n              show: true,\r\n              textStyle: {\r\n                color: \"#FFFFFF\",\r\n                fontSize: 18,\r\n              },\r\n            },\r\n            emphasis: {\r\n              show: true,\r\n              textStyle: {\r\n                color: \"#FFFFFF\",\r\n                fontSize: 18,\r\n              },\r\n            },\r\n          },\r\n          itemStyle: {\r\n            normal: {\r\n              shadowColor: \"rgba(21,55,112,255)\",\r\n              shadowOffsetX: 10,\r\n              shadowOffsetY: 10,\r\n              areaColor: \"rgba(24,48,82,255)\",\r\n              borderColor: \"rgba(84,113,166)\",\r\n              borderWidth: 1.5,\r\n            },\r\n            emphasis: {\r\n              areaColor: \"rgba(7,69,162)\",\r\n            },\r\n          },\r\n        },\r\n\r\n        series: [\r\n          {\r\n            type: \"map\",\r\n            mapType: this.cur_info.region,\r\n            aspectScale: 1,\r\n            zoom: 1,\r\n            layoutSize:'500',\r\n            z: 1,\r\n            layoutCenter: [\"50%\", \"50%\"], //地图位置\r\n            label: {\r\n              normal: {\r\n                show: false,\r\n              },\r\n              emphasis: {\r\n                show: false,\r\n              },\r\n            },\r\n            itemStyle: {\r\n              normal: {\r\n                shadowColor: \"rgba(22,57,89,255)\",\r\n                shadowOffsetX: 20,\r\n                shadowOffsetY: 20,\r\n                //areaColor: \"rgba(22,57,89,255)\",\r\n                borderColor: \"#4a75ff\",\r\n                borderWidth: 7,\r\n              },\r\n              emphasis: {\r\n                areaColor: \"rgba(22,57,89,0)\",\r\n              },\r\n            },\r\n          },\r\n        ],\r\n      };\r\n      this.speed_region_Chart.setOption(speed_region_option);\r\n    },\r\n  },\r\n  beforeDestroy() {\r\n    if (this.speed_region_Chart) {\r\n      this.speed_region_Chart.dispose();\r\n      this.speed_region_Chart = null;\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.tag_num {\r\n  width: 100%;\r\n  height: 340px;\r\n  background: url(../assets/Shi/tag_num.png) no-repeat;\r\n  background-size: 100% 100%;\r\n  background-position: center top;\r\n}\r\n.wordCloud {\r\n  width: 100%;\r\n  margin-top: 12px;\r\n  height: 302px;\r\n  background: url(../assets/Shi/3dwordCloud.png) no-repeat;\r\n  background-size: 100% 100%;\r\n  background-position: center top;\r\n}\r\n.rank_speed {\r\n  width: 100%;\r\n  margin-top: 12px;\r\n  margin-left: 6px;\r\n  height: 327px;\r\n  background: url(../assets/Shi/rank_speed.png) no-repeat;\r\n  background-size: 100% 100%;\r\n  background-position: center top;\r\n}\r\n.news_content {\r\n  width: 735px;\r\n  height: 947px;\r\n  margin-top: 114px;\r\n  margin-left: 45px;\r\n  background: url(../assets/Shi/news_content.png) no-repeat;\r\n  background-size: 100% 100%;\r\n  background-position: center top;\r\n  display: flex;\r\n  flex-flow: column;\r\n  .map_chart {\r\n    width: 686px;\r\n    height: 415px;\r\n    margin: 99px 0 0 22px;\r\n  }\r\n}\r\n.policy_content {\r\n  width: 487px;\r\n  height: 997px;\r\n  margin-top: 43px;\r\n  margin-left: 54px;\r\n  background: url(../assets/Shi/policy_content.png) no-repeat;\r\n  background-size: 100% 100%;\r\n  background-position: center top;\r\n}\r\n.right {\r\n  margin-top: 69px;\r\n  margin-left: 36px;\r\n  width: 567px;\r\n  height: 775px+287px;\r\n  display: flex;\r\n  flex-flow: column;\r\n\r\n  justify-content: flex-start;\r\n}\r\n\r\n.ShiBackground {\r\n  width: 1936px;\r\n  height: 1083px;\r\n  background: url(../assets/Sheng/ShengBackground.PNG) no-repeat;\r\n  background-size: 100% 100%;\r\n  .title {\r\n    width: 1936px;\r\n    height: 343px;\r\n    background: url(../assets/main_page_title.png) no-repeat;\r\n    background-size: 100% 100%;\r\n    background-position: center top;\r\n  }\r\n  .content {\r\n    margin-top: -343px;\r\n    width: 1936px;\r\n    height: 1083px-343px;\r\n    display: flex;\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}