{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport \"../../node_modules/echarts/map/js/china.js\";\nimport '../../node_modules/echarts/map/js/province/hubei.js';\nexport default {\n  data: function data() {\n    return {};\n  },\n  mounted: function mounted() {\n    this.boxDepth = 80;\n    this.options = {\n      series: [{\n        type: 'map3D',\n        name: '中国',\n        roam: true,\n        boxDepth: this.boxDepth,\n        //地图倾斜度\n        regionHeight: 9.8,\n        //地图高度\n        map: 'china',\n        //groundPlane:{\n        //    show:true,\n        //    color:\"#CCCCCC\"\n        //},\n        viewControl: {\n          distance: 80,\n          //地图视角 控制初始大小\n          rotateSensitivity: 0,\n          //禁止旋转\n          zoomSensitivity: 0,\n          //禁止缩放\n          panSensitivity: 0\n        },\n        label: {\n          show: false,\n          textStyle: {\n            color: \"#0a1640\",\n            //文字颜色\n            fontSize: 20,\n            //文字大小\n            backgroundColor: \"rgba(0,0,0,0)\"\n          }\n        },\n        itemStyle: {\n          color: \"#1A7DD5\",\n          //地图颜色\n          borderWidth: 10,\n          //分界线wdith    \n          borderColor: \"#459bca\",\n          //分界线颜色  \n          opacity: 1\n        }\n      }, {\n        type: 'map3D',\n        name: '中国',\n        roam: true,\n        boxDepth: this.boxDepth,\n        //地图倾斜度\n        regionHeight: 10,\n        //地图高度\n        map: 'china',\n        //groundPlane:{\n        //    show:true,\n        //    color:\"#CCCCCC\"\n        //},\n        viewControl: {\n          distance: 80,\n          //地图视角 控制初始大小\n          rotateSensitivity: 0,\n          //禁止旋转\n          zoomSensitivity: 0,\n          //禁止缩放\n          panSensitivity: 0\n        },\n        label: {\n          show: true,\n          textStyle: {\n            color: \"#0a1640\",\n            //文字颜色\n            fontSize: 20,\n            //文字大小\n            backgroundColor: \"rgba(0,0,0,0)\"\n          }\n        },\n        itemStyle: {\n          color: \"#1A7DD5\",\n          //地图颜色\n          borderWidth: 2,\n          //分界线wdith    \n          borderColor: \"#459bca\",\n          //分界线颜色  \n          opacity: 1\n        },\n        emphasis: {\n          label: {\n            show: true,\n            //是否显示高亮\n            textStyle: {\n              color: '#fff' //高亮文字颜色\n\n            }\n          },\n          itemStyle: {\n            color: '#55A3DF' //地图高亮颜色\n\n          }\n        } //高亮市区  echarts  bug 不生效\n\n      }]\n    };\n    console.log(this.$refs.myEchart);\n    this.myChart = this.$echarts.init(this.$refs.myEchart);\n    this.myChart.setOption(this.options); //echarts自适应\n    //window.onresize = this.myChart.resize;\n\n    var than = this; //绑定市区点击事件\n\n    this.myChart.on(\"click\", function (e) {\n      //防止重复点击\n      if (than.name == e.name) {\n        return false;\n      }\n\n      than.options.series[0].data[0].name = e.name;\n      than.myChart.setOption(than.options);\n      than.styles.left = e.event.event.offsetX - 132 + \"px\"; //-132 根据布局计算偏移量\n\n      than.styles.top = e.event.event.offsetY + 80 + \"px\"; //80根据布局计算偏移量\n\n      than.name = e.name; //请求后台接口获取对应数据 ---此处模拟\n\n      than.tabsChange(than.btn[0]);\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (!this.myChart) {\n      return;\n    }\n\n    this.myChart.dispose();\n    this.myChart = null;\n  }\n}; // 基于准备好的dom，初始化echarts实例","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AAEAA,MAFA,kBAEA;AACA;AACA,GAJA;AAKAC,SALA,qBAKA;AACA;AACA;AACAC,eACA;AACAC,qBADA;AAEAC,kBAFA;AAGAC,kBAHA;AAIAC,+BAJA;AAIA;AACAC,yBALA;AAKA;AACAC,oBANA;AAOA;AACA;AACA;AACA;AACAC;AACAC,sBADA;AACA;AACAC,8BAFA;AAEA;AACAC,4BAHA;AAGA;AACAC;AAJA,SAXA;AAiBAC;AACAC,qBADA;AAEAC;AACAC,4BADA;AACA;AACAC,wBAFA;AAEA;AACAC;AAHA;AAFA,SAjBA;AA0BAC;AACAH,0BADA;AACA;AACAI,yBAFA;AAEA;AACAC,gCAHA;AAGA;AACAC;AAJA;AA1BA,OADA,EAkCA;AACApB,qBADA;AAEAC,kBAFA;AAGAC,kBAHA;AAIAC,+BAJA;AAIA;AACAC,wBALA;AAKA;AACAC,oBANA;AAOA;AACA;AACA;AACA;AACAC;AACAC,sBADA;AACA;AACAC,8BAFA;AAEA;AACAC,4BAHA;AAGA;AACAC;AAJA,SAXA;AAiBAC;AACAC,oBADA;AAEAC;AACAC,4BADA;AACA;AACAC,wBAFA;AAEA;AACAC;AAHA;AAFA,SAjBA;AA0BAC;AACAH,0BADA;AACA;AACAI,wBAFA;AAEA;AACAC,gCAHA;AAGA;AACAC;AAJA,SA1BA;AAgCAC;AACAV;AACAC,sBADA;AACA;AACAC;AACAC,2BADA,CACA;;AADA;AAFA,WADA;AAOAG;AACAH,4BADA,CACA;;AADA;AAPA,SAhCA,CA2CA;;AA3CA,OAlCA;AADA;AAmFAQ;AACA;AACA,yCAvFA,CAwFA;AACA;;AACA,oBA1FA,CA2FA;;AACA;AACA;AACA;AACA;AACA;;AACAC;AACAA;AACAA,4DAPA,CAOA;;AACAA,0DARA,CAQA;;AACAA,yBATA,CAUA;;AACAA;AACA,KAZA;AAaA,GA9GA;AA+GAC,eA/GA,2BA+GA;AACA;AACA;AACA;;AACA;AACA;AACA;AArHA,E,CAuHA","names":["data","mounted","series","type","name","roam","boxDepth","regionHeight","map","viewControl","distance","rotateSensitivity","zoomSensitivity","panSensitivity","label","show","textStyle","color","fontSize","backgroundColor","itemStyle","borderWidth","borderColor","opacity","emphasis","console","than","beforeDestroy"],"sourceRoot":"src/components","sources":["MainPageRightMap.vue"],"sourcesContent":["<template>\r\n    <div class=\"h-3\" style=\"position: relative; width: 100%;height:100%;\">\r\n        <!--弹窗-->\r\n        <!-- <div class=\"layer\" ref=\"layer\" :style=\"styles\" v-if=\"layerList.length>0\">\r\n            <div class=\"content\">\r\n                <p>LPL夏季赛({{name}})</p>\r\n                <Row style=\"text-align: center;line-height: 22px;height: 24px;\">\r\n                    <Button style=\"margin-left:4px\" :type=\"item.selected?'warning':'info'\" size=\"small\" @click=\"tabsChange(item)\" v-for=\"(item,index) in btn\" :key=\"index\">{{item.name}}</Button>\r\n                </Row>\r\n                <Row style=\"text-align: center;padding-bottom: 20px;\">\r\n                    <Col span=\"8\" v-for=\"(item,index) in layerList\" :key=\"index\" class=\"col-item\">\r\n                        <div class=\"num\">{{item.circle}}</div>\r\n                        <div class=\"text\">{{item.text}}</div>\r\n                    </Col>\r\n                </Row>\r\n                <Spin fix style=\"background: rgba(0,0,0,0.5);font-size: 20px;\" v-if=\"loading\">\r\n                    <Icon type=\"ios-loading\" size=18 class=\"demo-spin-icon-load\"></Icon>\r\n                    <div>Loading</div>\r\n                </Spin>\r\n            </div>\r\n        </div> -->\r\n        <div ref=\"myEchart\" style=\"width: 100%;height:100%;\"></div>\r\n    </div>\r\n    \r\n</template>\r\n<script>\r\nimport \"../../node_modules/echarts/map/js/china.js\";\r\nimport '../../node_modules/echarts/map/js/province/hubei.js'\r\nexport default {\r\n    \r\n    data(){\r\n        return {}\r\n    },\r\n    mounted(){\r\n        this.boxDepth=80\r\n        this.options =  {\r\n            series: [\r\n            {\r\n                type: 'map3D',           \r\n                name: '中国', \r\n                roam: true,\r\n                boxDepth:this.boxDepth,//地图倾斜度\r\n                regionHeight:9.8,//地图高度\r\n                map: 'china',\r\n                //groundPlane:{\r\n                //    show:true,\r\n                //    color:\"#CCCCCC\"\r\n                //},\r\n                viewControl:{\r\n                    distance:80,//地图视角 控制初始大小\r\n                    rotateSensitivity:0,//禁止旋转\r\n                    zoomSensitivity:0,//禁止缩放\r\n                    panSensitivity:0\r\n                },\r\n                label: {\r\n                    show: false,\r\n                    textStyle: {\r\n                        color:\"#0a1640\",//文字颜色\r\n                        fontSize:20,//文字大小\r\n                        backgroundColor:\"rgba(0,0,0,0)\",\r\n                    }\r\n                \r\n                },\r\n                itemStyle: {\r\n                    color:\"#1A7DD5\",//地图颜色\r\n                    borderWidth: 10,//分界线wdith    \r\n                    borderColor: \"#459bca\",//分界线颜色  \r\n                    opacity:1\r\n                },\r\n              },\r\n            {\r\n                type: 'map3D',           \r\n                name: '中国', \r\n                roam: true,\r\n                boxDepth:this.boxDepth,//地图倾斜度\r\n                regionHeight:10,//地图高度\r\n                map: 'china',\r\n                //groundPlane:{\r\n                //    show:true,\r\n                //    color:\"#CCCCCC\"\r\n                //},\r\n                viewControl:{\r\n                    distance:80,//地图视角 控制初始大小\r\n                    rotateSensitivity:0,//禁止旋转\r\n                    zoomSensitivity:0,//禁止缩放\r\n                    panSensitivity:0\r\n                },\r\n                label: {\r\n                    show: true,\r\n                    textStyle: {\r\n                        color:\"#0a1640\",//文字颜色\r\n                        fontSize:20,//文字大小\r\n                        backgroundColor:\"rgba(0,0,0,0)\",\r\n                    }\r\n                \r\n                },\r\n                itemStyle: {\r\n                    color:\"#1A7DD5\",//地图颜色\r\n                    borderWidth: 2,//分界线wdith    \r\n                    borderColor: \"#459bca\",//分界线颜色  \r\n                    opacity:1\r\n                },\r\n                emphasis:{\r\n                    label:{\r\n                        show: true,//是否显示高亮\r\n                        textStyle:{\r\n                            color: '#fff',//高亮文字颜色\r\n                        }\r\n                    },\r\n                    itemStyle:{\r\n                        color: '#55A3DF',//地图高亮颜色\r\n                    }\r\n                },\r\n                //高亮市区  echarts  bug 不生效\r\n              },\r\n            \r\n            ]\r\n        }\r\n        console.log(this.$refs.myEchart)\r\n        this.myChart = this.$echarts.init(this.$refs.myEchart);\r\n        this.myChart.setOption(this.options);\r\n        //echarts自适应\r\n        //window.onresize = this.myChart.resize;\r\n        let than = this ;\r\n        //绑定市区点击事件\r\n        this.myChart.on(\"click\",function(e){\r\n            //防止重复点击\r\n            if(than.name == e.name){\r\n                return false;\r\n            }\r\n            than.options.series[0].data[0].name = e.name;\r\n            than.myChart.setOption(than.options);\r\n            than.styles.left = (e.event.event.offsetX-132)+\"px\";//-132 根据布局计算偏移量\r\n            than.styles.top = (e.event.event.offsetY+80)+\"px\";//80根据布局计算偏移量\r\n            than.name = e.name;\r\n            //请求后台接口获取对应数据 ---此处模拟\r\n            than.tabsChange(than.btn[0]);\r\n        })\r\n    },\r\n    beforeDestroy() {\r\n        if (!this.myChart) {\r\n              return;\r\n        }\r\n        this.myChart.dispose();\r\n        this.myChart = null;\r\n    },\r\n}\r\n// 基于准备好的dom，初始化echarts实例\r\n    \r\n</script>\r\n<style lang=\"less\">\r\n    /*懒加载图标动画*/\r\n    .demo-spin-icon-load{\r\n        animation: ani-demo-spin 1s linear infinite;\r\n    }\r\n    @keyframes ani-demo-spin {\r\n        from { transform: rotate(0deg);}\r\n        50%  { transform: rotate(180deg);}\r\n        to   { transform: rotate(360deg);}\r\n    }\r\n    /*弹窗样式*/\r\n    .layer{\r\n        position: absolute;\r\n        left: 400px;\r\n        top: 300px;\r\n        z-index: 100;\r\n        width: 360px;\r\n        height: 280px;\r\n        background:rgba(10,22,64,0.9) ;\r\n        border-radius: 5px;\r\n        border: 1px solid #122253;\r\n        transform: translate(-100%,-100%);\r\n        .content{\r\n            width: 100%;\r\n            height: 100%;\r\n            position: relative;\r\n            text-align: center;\r\n            p{\r\n                font-size: 20px;\r\n                color: #fff;\r\n                line-height: 50px;\r\n            }\r\n            .col-item{\r\n                height: 41px;\r\n                margin-top: 20px;\r\n                border-right: 1px solid #172353;\r\n                .num{\r\n                    color: #ebf8ff;\r\n                    font-size: 18px;\r\n                }\r\n                .text{\r\n                    color: #507ebc;\r\n                    font-size: 12px;\r\n                }\r\n            }\r\n        }\r\n        .content::after{\r\n            content: \"\";\r\n            width: 120px;\r\n            height: 2px;\r\n            background: #FFCCFF;\r\n            position: absolute;\r\n            right: -120px;\r\n            top: 50%;\r\n            transform: translateY(-50%);\r\n        }\r\n        .content::before{\r\n            content: \"\";\r\n            width: 2px;\r\n            height: 80px;\r\n            background: #FFB800;\r\n            position: absolute;\r\n            right: -134px;\r\n            top: 136px;\r\n            transform:rotateZ(-20deg) ;\r\n        }\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}