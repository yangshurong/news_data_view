{"ast":null,"code":"var _typeof = require(\"C:/Users/Administrator/Desktop/data_view/my_project/vue2_app/myapp/node_modules/@babel/runtime/helpers/typeof.js\").default;\n\nrequire(\"core-js/modules/es.array.fill.js\");\n\nrequire(\"core-js/modules/web.immediate.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.number.to-fixed.js\");\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nrequire(\"core-js/modules/es.array.sort.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.symbol.to-string-tag.js\");\n\nrequire(\"core-js/modules/es.json.to-string-tag.js\");\n\nrequire(\"core-js/modules/es.math.to-string-tag.js\");\n\n/*! For license information please see echarts-wordcloud.min.js.LICENSE.txt */\n!function (t, e) {\n  \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) && \"object\" == (typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) ? module.exports = e(require(\"echarts\")) : \"function\" == typeof define && define.amd ? define([\"echarts\"], e) : \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) ? exports[\"echarts-wordcloud\"] = e(require(\"echarts\")) : t[\"echarts-wordcloud\"] = e(t.echarts);\n}(self, function (t) {\n  return function () {\n    \"use strict\";\n\n    var e = {\n      638: function _(t, e, a) {\n        a.r(e);\n        var o = a(83);\n        o.extendSeriesModel({\n          type: \"series.wordCloud\",\n          visualStyleAccessPath: \"textStyle\",\n          visualStyleMapper: function visualStyleMapper(t) {\n            return {\n              fill: t.get(\"color\")\n            };\n          },\n          visualDrawType: \"fill\",\n          optionUpdated: function optionUpdated() {\n            var t = this.option;\n            t.gridSize = Math.max(Math.floor(t.gridSize), 4);\n          },\n          getInitialData: function getInitialData(t, e) {\n            var a = o.helper.createDimensions(t.data, {\n              coordDimensions: [\"value\"]\n            }),\n                i = new o.List(a, this);\n            return i.initData(t.data), i;\n          },\n          defaultOption: {\n            maskImage: null,\n            shape: \"circle\",\n            left: \"center\",\n            top: \"center\",\n            width: \"70%\",\n            height: \"80%\",\n            sizeRange: [12, 60],\n            rotationRange: [-90, 90],\n            rotationStep: 45,\n            gridSize: 8,\n            drawOutOfBound: !1,\n            textStyle: {\n              fontWeight: \"normal\"\n            }\n          }\n        }), o.extendChartView({\n          type: \"wordCloud\",\n          render: function render(t, e, a) {\n            var i = this.group;\n            i.removeAll();\n            var r = t.getData(),\n                n = t.get(\"gridSize\");\n            t.layoutInstance.ondraw = function (e, a, s, l) {\n              var d = r.getItemModel(s),\n                  u = d.getModel(\"textStyle\"),\n                  f = new o.graphic.Text({\n                style: o.helper.createTextStyle(u),\n                scaleX: 1 / l.info.mu,\n                scaleY: 1 / l.info.mu,\n                x: (l.gx + l.info.gw / 2) * n,\n                y: (l.gy + l.info.gh / 2) * n,\n                rotation: l.rot\n              });\n              f.setStyle({\n                x: l.info.fillTextOffsetX,\n                y: l.info.fillTextOffsetY + .5 * a,\n                text: e,\n                verticalAlign: \"middle\",\n                fill: r.getItemVisual(s, \"style\").fill,\n                fontSize: a\n              }), i.add(f), r.setItemGraphicEl(s, f), f.ensureState(\"emphasis\").style = o.helper.createTextStyle(d.getModel([\"emphasis\", \"textStyle\"]), {\n                state: \"emphasis\"\n              }), f.ensureState(\"blur\").style = o.helper.createTextStyle(d.getModel([\"blur\", \"textStyle\"]), {\n                state: \"blur\"\n              }), o.helper.enableHoverEmphasis(f, d.get([\"emphasis\", \"focus\"]), d.get([\"emphasis\", \"blurScope\"])), f.stateTransition = {\n                duration: t.get(\"animation\") ? t.get([\"stateAnimation\", \"duration\"]) : 0,\n                easing: t.get([\"stateAnimation\", \"easing\"])\n              }, f.__highDownDispatcher = !0;\n            }, this._model = t;\n          },\n          remove: function remove() {\n            this.group.removeAll(), this._model.layoutInstance.dispose();\n          },\n          dispose: function dispose() {\n            this._model.layoutInstance.dispose();\n          }\n        }), window.setImmediate || (window.setImmediate = window.msSetImmediate || window.webkitSetImmediate || window.mozSetImmediate || window.oSetImmediate || function () {\n          if (!window.postMessage || !window.addEventListener) return null;\n          var t = [void 0],\n              e = \"zero-timeout-message\";\n          return window.addEventListener(\"message\", function (a) {\n            if (\"string\" == typeof a.data && a.data.substr(0, e.length) === e) {\n              a.stopImmediatePropagation();\n              var o = parseInt(a.data.substr(e.length), 36);\n              t[o] && (t[o](), t[o] = void 0);\n            }\n          }, !0), window.clearImmediate = function (e) {\n            t[e] && (t[e] = void 0);\n          }, function (a) {\n            var o = t.length;\n            return t.push(a), window.postMessage(e + o.toString(36), \"*\"), o;\n          };\n        }() || function (t) {\n          window.setTimeout(t, 0);\n        }), window.clearImmediate || (window.clearImmediate = window.msClearImmediate || window.webkitClearImmediate || window.mozClearImmediate || window.oClearImmediate || function (t) {\n          window.clearTimeout(t);\n        });\n\n        var i = function () {\n          var t = document.createElement(\"canvas\");\n          if (!t || !t.getContext) return !1;\n          var e = t.getContext(\"2d\");\n          return !!(e.getImageData && e.fillText && Array.prototype.some && Array.prototype.push);\n        }(),\n            r = function () {\n          if (i) {\n            for (var t, e, a = document.createElement(\"canvas\").getContext(\"2d\"), o = 20; o;) {\n              if (a.font = o.toString(10) + \"px sans-serif\", a.measureText(\"Ｗ\").width === t && a.measureText(\"m\").width === e) return o + 1;\n              t = a.measureText(\"Ｗ\").width, e = a.measureText(\"m\").width, o--;\n            }\n\n            return 0;\n          }\n        }(),\n            n = function n(t) {\n          for (var e, a, o = t.length; o; e = Math.floor(Math.random() * o), a = t[--o], t[o] = t[e], t[e] = a) {\n            ;\n          }\n\n          return t;\n        },\n            s = function s(t, e) {\n          if (i) {\n            Array.isArray(t) || (t = [t]), t.forEach(function (e, a) {\n              if (\"string\" == typeof e) {\n                if (t[a] = document.getElementById(e), !t[a]) throw \"The element id specified is not found.\";\n              } else if (!e.tagName && !e.appendChild) throw \"You must pass valid HTML elements, or ID of the element.\";\n            });\n            var a = {\n              list: [],\n              fontFamily: '\"Trebuchet MS\", \"Heiti TC\", \"微軟正黑體\", \"Arial Unicode MS\", \"Droid Fallback Sans\", sans-serif',\n              fontWeight: \"normal\",\n              color: \"random-dark\",\n              minSize: 0,\n              weightFactor: 1,\n              clearCanvas: !0,\n              backgroundColor: \"#fff\",\n              gridSize: 8,\n              drawOutOfBound: !1,\n              origin: null,\n              drawMask: !1,\n              maskColor: \"rgba(255,0,0,0.3)\",\n              maskGapWidth: .3,\n              layoutAnimation: !0,\n              wait: 0,\n              abortThreshold: 0,\n              abort: function abort() {},\n              minRotation: -Math.PI / 2,\n              maxRotation: Math.PI / 2,\n              rotationStep: .1,\n              shuffle: !0,\n              rotateRatio: .1,\n              shape: \"circle\",\n              ellipticity: .65,\n              classes: null,\n              hover: null,\n              click: null\n            };\n            if (e) for (var o in e) {\n              o in a && (a[o] = e[o]);\n            }\n\n            if (\"function\" != typeof a.weightFactor) {\n              var s = a.weightFactor;\n\n              a.weightFactor = function (t) {\n                return t * s;\n              };\n            }\n\n            if (\"function\" != typeof a.shape) switch (a.shape) {\n              case \"circle\":\n              default:\n                a.shape = \"circle\";\n                break;\n\n              case \"cardioid\":\n                a.shape = function (t) {\n                  return 1 - Math.sin(t);\n                };\n\n                break;\n\n              case \"diamond\":\n              case \"square\":\n                a.shape = function (t) {\n                  var e = t % (2 * Math.PI / 4);\n                  return 1 / (Math.cos(e) + Math.sin(e));\n                };\n\n                break;\n\n              case \"triangle-forward\":\n                a.shape = function (t) {\n                  var e = t % (2 * Math.PI / 3);\n                  return 1 / (Math.cos(e) + Math.sqrt(3) * Math.sin(e));\n                };\n\n                break;\n\n              case \"triangle\":\n              case \"triangle-upright\":\n                a.shape = function (t) {\n                  var e = (t + 3 * Math.PI / 2) % (2 * Math.PI / 3);\n                  return 1 / (Math.cos(e) + Math.sqrt(3) * Math.sin(e));\n                };\n\n                break;\n\n              case \"pentagon\":\n                a.shape = function (t) {\n                  var e = (t + .955) % (2 * Math.PI / 5);\n                  return 1 / (Math.cos(e) + .726543 * Math.sin(e));\n                };\n\n                break;\n\n              case \"star\":\n                a.shape = function (t) {\n                  var e = (t + .955) % (2 * Math.PI / 10);\n                  return (t + .955) % (2 * Math.PI / 5) - 2 * Math.PI / 10 >= 0 ? 1 / (Math.cos(2 * Math.PI / 10 - e) + 3.07768 * Math.sin(2 * Math.PI / 10 - e)) : 1 / (Math.cos(e) + 3.07768 * Math.sin(e));\n                };\n\n            }\n            a.gridSize = Math.max(Math.floor(a.gridSize), 4);\n            var l,\n                d,\n                u,\n                f,\n                c,\n                h,\n                m,\n                g = a.gridSize,\n                v = g - a.maskGapWidth,\n                w = Math.abs(a.maxRotation - a.minRotation),\n                p = Math.min(a.maxRotation, a.minRotation),\n                y = a.rotationStep;\n\n            switch (a.color) {\n              case \"random-dark\":\n                m = function m() {\n                  return R(10, 50);\n                };\n\n                break;\n\n              case \"random-light\":\n                m = function m() {\n                  return R(50, 90);\n                };\n\n                break;\n\n              default:\n                \"function\" == typeof a.color && (m = a.color);\n            }\n\n            var x = null;\n            \"function\" == typeof a.classes && (x = a.classes);\n\n            var M,\n                S = !1,\n                b = [],\n                I = function I(t) {\n              var e,\n                  a,\n                  o = t.currentTarget,\n                  i = o.getBoundingClientRect();\n              t.touches ? (e = t.touches[0].clientX, a = t.touches[0].clientY) : (e = t.clientX, a = t.clientY);\n              var r = e - i.left,\n                  n = a - i.top,\n                  s = Math.floor(r * (o.width / i.width || 1) / g),\n                  l = Math.floor(n * (o.height / i.height || 1) / g);\n              return b[s][l];\n            },\n                T = function T(t) {\n              var e = I(t);\n              M !== e && (M = e, e ? a.hover(e.item, e.dimension, t) : a.hover(void 0, void 0, t));\n            },\n                C = function C(t) {\n              var e = I(t);\n              e && (a.click(e.item, e.dimension, t), t.preventDefault());\n            },\n                E = [],\n                k = function k(t) {\n              if (E[t]) return E[t];\n              var e = 8 * t,\n                  o = e,\n                  i = [];\n\n              for (0 === t && i.push([f[0], f[1], 0]); o--;) {\n                var r = 1;\n                \"circle\" !== a.shape && (r = a.shape(o / e * 2 * Math.PI)), i.push([f[0] + t * r * Math.cos(-o / e * 2 * Math.PI), f[1] + t * r * Math.sin(-o / e * 2 * Math.PI) * a.ellipticity, o / e * 2 * Math.PI]);\n              }\n\n              return E[t] = i, i;\n            },\n                O = function O() {\n              return a.abortThreshold > 0 && new Date().getTime() - h > a.abortThreshold;\n            },\n                P = function P(e, a, o, i, r) {\n              e >= d || a >= u || e < 0 || a < 0 || (l[e][a] = !1, o && t[0].getContext(\"2d\").fillRect(e * g, a * g, v, v), S && (b[e][a] = {\n                item: r,\n                dimension: i\n              }));\n            },\n                D = function D(e, a, o) {\n              if (a) return !t.some(function (t) {\n                var i = document.createEvent(\"CustomEvent\");\n                return i.initCustomEvent(e, !0, a, o || {}), !t.dispatchEvent(i);\n              }, this);\n              t.forEach(function (t) {\n                var i = document.createEvent(\"CustomEvent\");\n                i.initCustomEvent(e, !0, a, o || {}), t.dispatchEvent(i);\n              }, this);\n            };\n\n            !function () {\n              var e = t[0];\n              if (e.getContext) d = Math.ceil(e.width / g), u = Math.ceil(e.height / g);else {\n                var o = e.getBoundingClientRect();\n                d = Math.ceil(o.width / g), u = Math.ceil(o.height / g);\n              }\n\n              if (D(\"wordcloudstart\", !0)) {\n                var i, s, v, I, E;\n                if (f = a.origin ? [a.origin[0] / g, a.origin[1] / g] : [d / 2, u / 2], c = Math.floor(Math.sqrt(d * d + u * u)), l = [], !e.getContext || a.clearCanvas) for (t.forEach(function (t) {\n                  if (t.getContext) {\n                    var e = t.getContext(\"2d\");\n                    e.fillStyle = a.backgroundColor, e.clearRect(0, 0, d * (g + 1), u * (g + 1)), e.fillRect(0, 0, d * (g + 1), u * (g + 1));\n                  } else t.textContent = \"\", t.style.backgroundColor = a.backgroundColor, t.style.position = \"relative\";\n                }), i = d; i--;) {\n                  for (l[i] = [], s = u; s--;) {\n                    l[i][s] = !0;\n                  }\n                } else {\n                  var R = document.createElement(\"canvas\").getContext(\"2d\");\n                  R.fillStyle = a.backgroundColor, R.fillRect(0, 0, 1, 1);\n                  var A,\n                      z,\n                      F = R.getImageData(0, 0, 1, 1).data,\n                      L = e.getContext(\"2d\").getImageData(0, 0, d * g, u * g).data;\n\n                  for (i = d; i--;) {\n                    for (l[i] = [], s = u; s--;) {\n                      z = g;\n\n                      t: for (; z--;) {\n                        for (A = g; A--;) {\n                          for (v = 4; v--;) {\n                            if (L[4 * ((s * g + z) * d * g + (i * g + A)) + v] !== F[v]) {\n                              l[i][s] = !1;\n                              break t;\n                            }\n                          }\n                        }\n                      }\n\n                      !1 !== l[i][s] && (l[i][s] = !0);\n                    }\n                  }\n\n                  L = R = F = void 0;\n                }\n\n                if (a.hover || a.click) {\n                  for (S = !0, i = d + 1; i--;) {\n                    b[i] = [];\n                  }\n\n                  a.hover && e.addEventListener(\"mousemove\", T), a.click && (e.addEventListener(\"click\", C), e.addEventListener(\"touchstart\", C), e.addEventListener(\"touchend\", function (t) {\n                    t.preventDefault();\n                  }), e.style.webkitTapHighlightColor = \"rgba(0, 0, 0, 0)\"), e.addEventListener(\"wordcloudstart\", function t() {\n                    e.removeEventListener(\"wordcloudstart\", t), e.removeEventListener(\"mousemove\", T), e.removeEventListener(\"click\", C), M = void 0;\n                  });\n                }\n\n                v = 0;\n                var W = !0;\n                a.layoutAnimation ? 0 !== a.wait ? (I = window.setTimeout, E = window.clearTimeout) : (I = window.setImmediate, E = window.clearImmediate) : (I = function I(t) {\n                  t();\n                }, E = function E() {\n                  W = !1;\n                });\n\n                var B = function B(e, a) {\n                  t.forEach(function (t) {\n                    t.removeEventListener(e, a);\n                  }, this);\n                },\n                    X = function t() {\n                  B(\"wordcloudstart\", t), E(Y);\n                };\n\n                !function (e, a) {\n                  t.forEach(function (t) {\n                    t.addEventListener(\"wordcloudstart\", a);\n                  }, this);\n                }(0, X);\n                var Y = (a.layoutAnimation ? I : setTimeout)(function e() {\n                  if (W) {\n                    if (v >= a.list.length) return E(Y), D(\"wordcloudstop\", !1), void B(\"wordcloudstart\", X);\n                    h = new Date().getTime();\n\n                    var o = function (e) {\n                      var o, i, s;\n                      Array.isArray(e) ? (o = e[0], i = e[1]) : (o = e.word, i = e.weight, s = e.attributes);\n\n                      var f,\n                          h,\n                          v,\n                          M = 0 === a.rotateRatio || Math.random() > a.rotateRatio ? 0 : 0 === w ? p : p + Math.round(Math.random() * w / y) * y,\n                          b = function (t, e, o) {\n                        var i = a.weightFactor(e);\n                        if (i <= a.minSize) return !1;\n                        var n = 1;\n                        i < r && (n = function () {\n                          for (var t = 2; t * i < r;) {\n                            t += 2;\n                          }\n\n                          return t;\n                        }());\n                        var s = document.createElement(\"canvas\"),\n                            l = s.getContext(\"2d\", {\n                          willReadFrequently: !0\n                        });\n                        l.font = a.fontWeight + \" \" + (i * n).toString(10) + \"px \" + a.fontFamily;\n                        var d = l.measureText(t).width / n,\n                            u = Math.max(i * n, l.measureText(\"m\").width, l.measureText(\"Ｗ\").width) / n,\n                            f = d + 2 * u,\n                            c = 3 * u,\n                            h = Math.ceil(f / g),\n                            m = Math.ceil(c / g);\n                        f = h * g, c = m * g;\n                        var v = -d / 2,\n                            w = .4 * -u,\n                            p = Math.ceil((f * Math.abs(Math.sin(o)) + c * Math.abs(Math.cos(o))) / g),\n                            y = Math.ceil((f * Math.abs(Math.cos(o)) + c * Math.abs(Math.sin(o))) / g),\n                            x = y * g,\n                            M = p * g;\n                        s.setAttribute(\"width\", x), s.setAttribute(\"height\", M), l.scale(1 / n, 1 / n), l.translate(x * n / 2, M * n / 2), l.rotate(-o), l.font = a.fontWeight + \" \" + (i * n).toString(10) + \"px \" + a.fontFamily, l.fillStyle = \"#000\", l.textBaseline = \"middle\", l.fillText(t, v * n, (w + .5 * i) * n);\n                        var S = l.getImageData(0, 0, x, M).data;\n                        if (O()) return !1;\n\n                        for (var b, I, T, C = [], E = y, k = [p / 2, y / 2, p / 2, y / 2]; E--;) {\n                          for (b = p; b--;) {\n                            T = g;\n\n                            t: for (; T--;) {\n                              for (I = g; I--;) {\n                                if (S[4 * ((b * g + T) * x + (E * g + I)) + 3]) {\n                                  C.push([E, b]), E < k[3] && (k[3] = E), E > k[1] && (k[1] = E), b < k[0] && (k[0] = b), b > k[2] && (k[2] = b);\n                                  break t;\n                                }\n                              }\n                            }\n                          }\n                        }\n\n                        return {\n                          mu: n,\n                          occupied: C,\n                          bounds: k,\n                          gw: y,\n                          gh: p,\n                          fillTextOffsetX: v,\n                          fillTextOffsetY: w,\n                          fillTextWidth: d,\n                          fillTextHeight: u,\n                          fontSize: i\n                        };\n                      }(o, i, M);\n\n                      if (!b) return !1;\n                      if (O()) return !1;\n\n                      if (!a.drawOutOfBound) {\n                        var I = b.bounds;\n                        if (I[1] - I[3] + 1 > d || I[2] - I[0] + 1 > u) return !1;\n                      }\n\n                      for (var T = c + 1; T--;) {\n                        var C = k(c - T);\n                        a.shuffle && (C = [].concat(C), n(C));\n\n                        for (var E = 0; E < C.length; E++) {\n                          var D = (f = C[E], h = void 0, v = void 0, h = Math.floor(f[0] - b.gw / 2), v = Math.floor(f[1] - b.gh / 2), b.gw, b.gh, !!function (t, e, o, i, r) {\n                            for (var n = r.length; n--;) {\n                              var s = t + r[n][0],\n                                  f = e + r[n][1];\n\n                              if (s >= d || f >= u || s < 0 || f < 0) {\n                                if (!a.drawOutOfBound) return !1;\n                              } else if (!l[s][f]) return !1;\n                            }\n\n                            return !0;\n                          }(h, v, 0, 0, b.occupied) && (function (e, o, i, r, n, s, l, d, u) {\n                            var f,\n                                c,\n                                h = i.fontSize;\n                            f = m ? m(r, n, h, s, l) : a.color, c = x ? x(r, n, h, s, l) : a.classes;\n                            var v = i.bounds;\n                            v[3], v[0], v[1], v[3], v[2], v[0], t.forEach(function (t) {\n                              if (t.getContext) {\n                                var n = t.getContext(\"2d\"),\n                                    s = i.mu;\n                                n.save(), n.scale(1 / s, 1 / s), n.font = a.fontWeight + \" \" + (h * s).toString(10) + \"px \" + a.fontFamily, n.fillStyle = f, n.translate((e + i.gw / 2) * g * s, (o + i.gh / 2) * g * s), 0 !== d && n.rotate(-d), n.textBaseline = \"middle\", n.fillText(r, i.fillTextOffsetX * s, (i.fillTextOffsetY + .5 * h) * s), n.restore();\n                              } else {\n                                var l = document.createElement(\"span\"),\n                                    m = \"\";\n                                m = \"rotate(\" + -d / Math.PI * 180 + \"deg) \", 1 !== i.mu && (m += \"translateX(-\" + i.fillTextWidth / 4 + \"px) scale(\" + 1 / i.mu + \")\");\n                                var v = {\n                                  position: \"absolute\",\n                                  display: \"block\",\n                                  font: a.fontWeight + \" \" + h * i.mu + \"px \" + a.fontFamily,\n                                  left: (e + i.gw / 2) * g + i.fillTextOffsetX + \"px\",\n                                  top: (o + i.gh / 2) * g + i.fillTextOffsetY + \"px\",\n                                  width: i.fillTextWidth + \"px\",\n                                  height: i.fillTextHeight + \"px\",\n                                  lineHeight: h + \"px\",\n                                  whiteSpace: \"nowrap\",\n                                  transform: m,\n                                  webkitTransform: m,\n                                  msTransform: m,\n                                  transformOrigin: \"50% 40%\",\n                                  webkitTransformOrigin: \"50% 40%\",\n                                  msTransformOrigin: \"50% 40%\"\n                                };\n\n                                for (var w in f && (v.color = f), l.textContent = r, v) {\n                                  l.style[w] = v[w];\n                                }\n\n                                if (u) for (var p in u) {\n                                  l.setAttribute(p, u[p]);\n                                }\n                                c && (l.className += c), t.appendChild(l);\n                              }\n                            });\n                          }(h, v, b, o, i, c - T, f[2], M, s), function (e, o, i, r, n, s) {\n                            var l,\n                                f,\n                                c = n.occupied,\n                                h = a.drawMask;\n\n                            if (h && ((l = t[0].getContext(\"2d\")).save(), l.fillStyle = a.maskColor), S) {\n                              var m = n.bounds;\n                              f = {\n                                x: (e + m[3]) * g,\n                                y: (o + m[0]) * g,\n                                w: (m[1] - m[3] + 1) * g,\n                                h: (m[2] - m[0] + 1) * g\n                              };\n                            }\n\n                            for (var v = c.length; v--;) {\n                              var w = e + c[v][0],\n                                  p = o + c[v][1];\n                              w >= d || p >= u || w < 0 || p < 0 || P(w, p, h, f, s);\n                            }\n\n                            h && l.restore();\n                          }(h, v, 0, 0, b, e), {\n                            gx: h,\n                            gy: v,\n                            rot: M,\n                            info: b\n                          }));\n                          if (D) return D;\n                        }\n                      }\n\n                      return null;\n                    }(a.list[v]),\n                        i = !D(\"wordclouddrawn\", !0, {\n                      item: a.list[v],\n                      drawn: o\n                    });\n\n                    if (O() || i) return E(Y), a.abort(), D(\"wordcloudabort\", !1), D(\"wordcloudstop\", !1), void B(\"wordcloudstart\", X);\n                    v++, Y = I(e, a.wait);\n                  }\n                }, a.wait);\n              }\n            }();\n          }\n\n          function R(t, e) {\n            return \"hsl(\" + (360 * Math.random()).toFixed() + \",\" + (30 * Math.random() + 70).toFixed() + \"%,\" + (Math.random() * (e - t) + t).toFixed() + \"%)\";\n          }\n        };\n\n        s.isSupported = i, s.minFontSize = r;\n        var l = s;\n        if (!l.isSupported) throw new Error(\"Sorry your browser not support wordCloud\");\n        o.registerLayout(function (t, e) {\n          t.eachSeriesByType(\"wordCloud\", function (a) {\n            var i = o.helper.getLayoutRect(a.getBoxLayoutParams(), {\n              width: e.getWidth(),\n              height: e.getHeight()\n            }),\n                r = a.getData(),\n                n = document.createElement(\"canvas\");\n            n.width = i.width, n.height = i.height;\n            var s = n.getContext(\"2d\"),\n                d = a.get(\"maskImage\");\n            if (d) try {\n              s.drawImage(d, 0, 0, n.width, n.height), function (t) {\n                for (var e = t.getContext(\"2d\"), a = e.getImageData(0, 0, t.width, t.height), o = e.createImageData(a), i = 0, r = 0, n = 0; n < a.data.length; n += 4) {\n                  a.data[n + 3] > 128 && (i += l = a.data[n] + a.data[n + 1] + a.data[n + 2], ++r);\n                }\n\n                var s = i / r;\n\n                for (n = 0; n < a.data.length; n += 4) {\n                  var l = a.data[n] + a.data[n + 1] + a.data[n + 2];\n                  a.data[n + 3] < 128 || l > s ? (o.data[n] = 0, o.data[n + 1] = 0, o.data[n + 2] = 0, o.data[n + 3] = 0) : (o.data[n] = 255, o.data[n + 1] = 255, o.data[n + 2] = 255, o.data[n + 3] = 255);\n                }\n\n                e.putImageData(o, 0, 0);\n              }(n);\n            } catch (t) {\n              console.error(\"Invalid mask image\"), console.error(t.toString());\n            }\n            var u = a.get(\"sizeRange\"),\n                f = a.get(\"rotationRange\"),\n                c = r.getDataExtent(\"value\"),\n                h = Math.PI / 180,\n                m = a.get(\"gridSize\");\n\n            function g(t) {\n              var e = t.detail.item;\n              t.detail.drawn && a.layoutInstance.ondraw && (t.detail.drawn.gx += i.x / m, t.detail.drawn.gy += i.y / m, a.layoutInstance.ondraw(e[0], e[1], e[2], t.detail.drawn));\n            }\n\n            l(n, {\n              list: r.mapArray(\"value\", function (t, e) {\n                var a = r.getItemModel(e);\n                return [r.getName(e), a.get(\"textStyle.fontSize\", !0) || o.number.linearMap(t, c, u), e];\n              }).sort(function (t, e) {\n                return e[1] - t[1];\n              }),\n              fontFamily: a.get(\"textStyle.fontFamily\") || a.get(\"emphasis.textStyle.fontFamily\") || t.get(\"textStyle.fontFamily\"),\n              fontWeight: a.get(\"textStyle.fontWeight\") || a.get(\"emphasis.textStyle.fontWeight\") || t.get(\"textStyle.fontWeight\"),\n              gridSize: m,\n              ellipticity: i.height / i.width,\n              minRotation: f[0] * h,\n              maxRotation: f[1] * h,\n              clearCanvas: !d,\n              rotateRatio: 1,\n              rotationStep: a.get(\"rotationStep\") * h,\n              drawOutOfBound: a.get(\"drawOutOfBound\"),\n              layoutAnimation: a.get(\"layoutAnimation\"),\n              shuffle: !1,\n              shape: a.get(\"shape\")\n            }), n.addEventListener(\"wordclouddrawn\", g), a.layoutInstance && a.layoutInstance.dispose(), a.layoutInstance = {\n              ondraw: null,\n              dispose: function dispose() {\n                n.removeEventListener(\"wordclouddrawn\", g), n.addEventListener(\"wordclouddrawn\", function (t) {\n                  t.preventDefault();\n                });\n              }\n            };\n          });\n        }), o.registerPreprocessor(function (t) {\n          var e = (t || {}).series;\n          !o.util.isArray(e) && (e = e ? [e] : []);\n          var a = [\"shadowColor\", \"shadowBlur\", \"shadowOffsetX\", \"shadowOffsetY\"];\n\n          function i(t) {\n            t && o.util.each(a, function (e) {\n              t.hasOwnProperty(e) && (t[\"text\" + o.format.capitalFirst(e)] = t[e]);\n            });\n          }\n\n          o.util.each(e, function (t) {\n            if (t && \"wordCloud\" === t.type) {\n              var e = t.textStyle || {};\n              i(e.normal), i(e.emphasis);\n            }\n          });\n        });\n      },\n      83: function _(e) {\n        e.exports = t;\n      }\n    },\n        a = {};\n\n    function o(t) {\n      if (a[t]) return a[t].exports;\n      var i = a[t] = {\n        exports: {}\n      };\n      return e[t](i, i.exports, o), i.exports;\n    }\n\n    return o.r = function (t) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, o(638);\n  }();\n});","map":{"version":3,"mappings":"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","names":["root","factory","exports","module","require","define","amd","echarts","self","__WEBPACK_EXTERNAL_MODULE__83__","o","type","visualStyleAccessPath","visualStyleMapper","model","fill","get","visualDrawType","optionUpdated","option","this","gridSize","Math","max","floor","getInitialData","ecModel","dimensions","data","coordDimensions","list","initData","defaultOption","maskImage","shape","left","top","width","height","sizeRange","rotationRange","rotationStep","drawOutOfBound","textStyle","fontWeight","render","seriesModel","api","group","removeAll","getData","layoutInstance","ondraw","text","size","dataIdx","drawn","itemModel","getItemModel","textStyleModel","getModel","textEl","style","scaleX","info","mu","scaleY","x","gx","gw","y","gy","gh","rotation","rot","setStyle","fillTextOffsetX","fillTextOffsetY","verticalAlign","getItemVisual","fontSize","add","setItemGraphicEl","ensureState","state","stateTransition","duration","easing","__highDownDispatcher","_model","remove","dispose","window","setImmediate","msSetImmediate","webkitSetImmediate","mozSetImmediate","oSetImmediate","postMessage","addEventListener","callbacks","undefined","message","evt","substr","length","stopImmediatePropagation","id","parseInt","clearImmediate","callback","push","toString","fn","setTimeout","msClearImmediate","webkitClearImmediate","mozClearImmediate","oClearImmediate","timer","clearTimeout","isSupported","canvas","document","createElement","getContext","ctx","getImageData","fillText","Array","prototype","some","minFontSize","hanWidth","mWidth","font","measureText","shuffleArray","arr","j","i","random","WordCloud","elements","options","isArray","forEach","el","getElementById","tagName","appendChild","settings","fontFamily","color","minSize","weightFactor","clearCanvas","backgroundColor","origin","drawMask","maskColor","maskGapWidth","layoutAnimation","wait","abortThreshold","abort","minRotation","PI","maxRotation","shuffle","rotateRatio","ellipticity","classes","hover","click","key","factor","pt","theta","sin","thetaPrime","cos","sqrt","grid","ngx","ngy","center","maxRadius","escapeTime","getTextColor","g","maskRectWidth","abs","min","random_hsl_color","getTextClasses","hovered","interactive","infoGrid","getInfoGridFromMouseTouchEvent","clientX","clientY","currentTarget","rect","getBoundingClientRect","touches","eventX","eventY","wordcloudhover","item","dimension","wordcloudclick","preventDefault","pointsAtRadius","getPointsAtRadius","radius","T","t","points","rx","exceedTime","Date","getTime","fillGridAt","fillRect","sendEvent","cancelable","detail","createEvent","initCustomEvent","dispatchEvent","ceil","loopingFunction","stoppingFunction","fillStyle","clearRect","textContent","position","bctx","bgPixel","imageData","singleGridLoop","e","webkitTapHighlightColor","stopInteraction","removeEventListener","layouting","cb","listener","anotherWordCloudStart","loop","word","weight","attributes","gxy","rotateDeg","round","fcanvas","fctx","willReadFrequently","fw","fh","boxWidth","boxHeight","fgw","fgh","cgh","cgw","setAttribute","scale","translate","rotate","textBaseline","occupied","bounds","fillTextWidth","fillTextHeight","getTextInfo","r","concat","res","px","py","canFitText","distance","save","restore","span","transformRule","styleRules","display","lineHeight","whiteSpace","transform","webkitTransform","msTransform","transformOrigin","webkitTransformOrigin","msTransformOrigin","cssProp","attribute","className","drawText","w","h","updateGrid","putWord","canceled","start","toFixed","l","Error","eachSeriesByType","gridRect","getBoxLayoutParams","getWidth","getHeight","drawImage","maskCanvas","newImageData","createImageData","toneSum","toneCnt","tone","threshold","putImageData","updateCanvasMask","console","error","valueExtent","getDataExtent","DEGREE_TO_RAD","onWordCloudDrawn","mapArray","value","idx","getName","sort","a","b","series","compats","compatTextStyle","hasOwnProperty","seriesItem","normal","emphasis","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","Symbol","toStringTag","Object","defineProperty"],"sourceRoot":"","sources":["webpack://echarts-wordcloud/webpack/universalModuleDefinition","webpack://echarts-wordcloud/./src/WordCloudSeries.js","webpack://echarts-wordcloud/./src/WordCloudView.js","webpack://echarts-wordcloud/./src/layout.js","webpack://echarts-wordcloud/./src/wordCloud.js","webpack://echarts-wordcloud/external \"echarts\"","webpack://echarts-wordcloud/webpack/bootstrap","webpack://echarts-wordcloud/webpack/startup","webpack://echarts-wordcloud/webpack/runtime/make namespace object"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"echarts\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"echarts\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"echarts-wordcloud\"] = factory(require(\"echarts\"));\n\telse\n\t\troot[\"echarts-wordcloud\"] = factory(root[\"echarts\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__83__) {\nreturn ","import * as echarts from 'echarts/lib/echarts';\n\necharts.extendSeriesModel({\n\n    type: 'series.wordCloud',\n\n    visualStyleAccessPath: 'textStyle',\n    visualStyleMapper: function (model) {\n        return {\n            fill: model.get('color')\n        };\n    },\n    visualDrawType: 'fill',\n\n    optionUpdated: function () {\n        var option = this.option;\n        option.gridSize = Math.max(Math.floor(option.gridSize), 4);\n    },\n\n    getInitialData: function (option, ecModel) {\n        var dimensions = echarts.helper.createDimensions(option.data, {\n            coordDimensions: ['value']\n        });\n        var list = new echarts.List(dimensions, this);\n        list.initData(option.data);\n        return list;\n    },\n\n    // Most of options are from https://github.com/timdream/wordcloud2.js/blob/gh-pages/API.md\n    defaultOption: {\n\n        maskImage: null,\n\n        // Shape can be 'circle', 'cardioid', 'diamond', 'triangle-forward', 'triangle', 'pentagon', 'star'\n        shape: 'circle',\n\n        left: 'center',\n\n        top: 'center',\n\n        width: '70%',\n\n        height: '80%',\n\n        sizeRange: [12, 60],\n\n        rotationRange: [-90, 90],\n\n        rotationStep: 45,\n\n        gridSize: 8,\n\n        drawOutOfBound: false,\n\n        textStyle: {\n            fontWeight: 'normal'\n        }\n    }\n});\n","import * as echarts from 'echarts/lib/echarts';\n\necharts.extendChartView({\n\n    type: 'wordCloud',\n\n    render: function (seriesModel, ecModel, api) {\n        var group = this.group;\n        group.removeAll();\n\n        var data = seriesModel.getData();\n\n        var gridSize = seriesModel.get('gridSize');\n\n        seriesModel.layoutInstance.ondraw = function (text, size, dataIdx, drawn) {\n            var itemModel = data.getItemModel(dataIdx);\n            var textStyleModel = itemModel.getModel('textStyle');\n\n            var textEl = new echarts.graphic.Text({\n                style: echarts.helper.createTextStyle(textStyleModel),\n                scaleX: 1 / drawn.info.mu,\n                scaleY: 1 / drawn.info.mu,\n                x: (drawn.gx + drawn.info.gw / 2) * gridSize,\n                y: (drawn.gy + drawn.info.gh / 2) * gridSize,\n                rotation: drawn.rot\n            });\n            textEl.setStyle({\n                x: drawn.info.fillTextOffsetX,\n                y: drawn.info.fillTextOffsetY + size * 0.5,\n                text: text,\n                verticalAlign: 'middle',\n                fill: data.getItemVisual(dataIdx, 'style').fill,\n                fontSize: size\n            });\n\n            group.add(textEl);\n\n            data.setItemGraphicEl(dataIdx, textEl);\n\n            textEl.ensureState('emphasis').style = echarts.helper.createTextStyle(itemModel.getModel(['emphasis', 'textStyle']), {\n                state: 'emphasis'\n            });\n            textEl.ensureState('blur').style = echarts.helper.createTextStyle(itemModel.getModel(['blur', 'textStyle']), {\n                state: 'blur'\n            });\n\n            echarts.helper.enableHoverEmphasis(\n                textEl,\n                itemModel.get(['emphasis', 'focus']),\n                itemModel.get(['emphasis', 'blurScope'])\n            );\n\n            textEl.stateTransition = {\n                duration: seriesModel.get('animation') ? seriesModel.get(['stateAnimation', 'duration']) : 0,\n                easing: seriesModel.get(['stateAnimation', 'easing'])\n            };\n            // TODO\n            textEl.__highDownDispatcher = true;\n        };\n\n        this._model = seriesModel;\n    },\n\n    remove: function () {\n        this.group.removeAll();\n\n        this._model.layoutInstance.dispose();\n    },\n\n    dispose: function () {\n        this._model.layoutInstance.dispose();\n    }\n});\n","/*!\n * wordcloud2.js\n * http://timdream.org/wordcloud2.js/\n *\n * Copyright 2011 - 2013 Tim Chien\n * Released under the MIT license\n */\n\n'use strict';\n\n// setImmediate\nif (!window.setImmediate) {\n  window.setImmediate = (function setupSetImmediate() {\n    return window.msSetImmediate ||\n    window.webkitSetImmediate ||\n    window.mozSetImmediate ||\n    window.oSetImmediate ||\n    (function setupSetZeroTimeout() {\n      if (!window.postMessage || !window.addEventListener) {\n        return null;\n      }\n\n      var callbacks = [undefined];\n      var message = 'zero-timeout-message';\n\n      // Like setTimeout, but only takes a function argument.  There's\n      // no time argument (always zero) and no arguments (you have to\n      // use a closure).\n      var setZeroTimeout = function setZeroTimeout(callback) {\n        var id = callbacks.length;\n        callbacks.push(callback);\n        window.postMessage(message + id.toString(36), '*');\n\n        return id;\n      };\n\n      window.addEventListener('message', function setZeroTimeoutMessage(evt) {\n        // Skipping checking event source, retarded IE confused this window\n        // object with another in the presence of iframe\n        if (typeof evt.data !== 'string' ||\n            evt.data.substr(0, message.length) !== message/* ||\n            evt.source !== window */) {\n          return;\n        }\n\n        evt.stopImmediatePropagation();\n\n        var id = parseInt(evt.data.substr(message.length), 36);\n        if (!callbacks[id]) {\n          return;\n        }\n\n        callbacks[id]();\n        callbacks[id] = undefined;\n      }, true);\n\n      /* specify clearImmediate() here since we need the scope */\n      window.clearImmediate = function clearZeroTimeout(id) {\n        if (!callbacks[id]) {\n          return;\n        }\n\n        callbacks[id] = undefined;\n      };\n\n      return setZeroTimeout;\n    })() ||\n    // fallback\n    function setImmediateFallback(fn) {\n      window.setTimeout(fn, 0);\n    };\n  })();\n}\n\nif (!window.clearImmediate) {\n  window.clearImmediate = (function setupClearImmediate() {\n    return window.msClearImmediate ||\n    window.webkitClearImmediate ||\n    window.mozClearImmediate ||\n    window.oClearImmediate ||\n    // \"clearZeroTimeout\" is implement on the previous block ||\n    // fallback\n    function clearImmediateFallback(timer) {\n      window.clearTimeout(timer);\n    };\n  })();\n}\n\n  // Check if WordCloud can run on this browser\n  var isSupported = (function isSupported() {\n    var canvas = document.createElement('canvas');\n    if (!canvas || !canvas.getContext) {\n      return false;\n    }\n\n    var ctx = canvas.getContext('2d');\n    if (!ctx.getImageData) {\n      return false;\n    }\n    if (!ctx.fillText) {\n      return false;\n    }\n\n    if (!Array.prototype.some) {\n      return false;\n    }\n    if (!Array.prototype.push) {\n      return false;\n    }\n\n    return true;\n  }());\n\n  // Find out if the browser impose minium font size by\n  // drawing small texts on a canvas and measure it's width.\n  var minFontSize = (function getMinFontSize() {\n    if (!isSupported) {\n      return;\n    }\n\n    var ctx = document.createElement('canvas').getContext('2d');\n\n    // start from 20\n    var size = 20;\n\n    // two sizes to measure\n    var hanWidth, mWidth;\n\n    while (size) {\n      ctx.font = size.toString(10) + 'px sans-serif';\n      if ((ctx.measureText('\\uFF37').width === hanWidth) &&\n          (ctx.measureText('m').width) === mWidth) {\n        return (size + 1);\n      }\n\n      hanWidth = ctx.measureText('\\uFF37').width;\n      mWidth = ctx.measureText('m').width;\n\n      size--;\n    }\n\n    return 0;\n  })();\n\n  // Based on http://jsfromhell.com/array/shuffle\n  var shuffleArray = function shuffleArray(arr) {\n    for (var j, x, i = arr.length; i;\n      j = Math.floor(Math.random() * i),\n      x = arr[--i], arr[i] = arr[j],\n      arr[j] = x) {}\n    return arr;\n  };\n\n  var WordCloud = function WordCloud(elements, options) {\n    if (!isSupported) {\n      return;\n    }\n\n    if (!Array.isArray(elements)) {\n      elements = [elements];\n    }\n\n    elements.forEach(function(el, i) {\n      if (typeof el === 'string') {\n        elements[i] = document.getElementById(el);\n        if (!elements[i]) {\n          throw 'The element id specified is not found.';\n        }\n      } else if (!el.tagName && !el.appendChild) {\n        throw 'You must pass valid HTML elements, or ID of the element.';\n      }\n    });\n\n    /* Default values to be overwritten by options object */\n    var settings = {\n      list: [],\n      fontFamily: '\"Trebuchet MS\", \"Heiti TC\", \"微軟正黑體\", ' +\n                  '\"Arial Unicode MS\", \"Droid Fallback Sans\", sans-serif',\n      fontWeight: 'normal',\n      color: 'random-dark',\n      minSize: 0, // 0 to disable\n      weightFactor: 1,\n      clearCanvas: true,\n      backgroundColor: '#fff',  // opaque white = rgba(255, 255, 255, 1)\n\n      gridSize: 8,\n      drawOutOfBound: false,\n      origin: null,\n\n      drawMask: false,\n      maskColor: 'rgba(255,0,0,0.3)',\n      maskGapWidth: 0.3,\n\n      layoutAnimation: true,\n\n      wait: 0,\n      abortThreshold: 0, // disabled\n      abort: function noop() {},\n\n      minRotation: - Math.PI / 2,\n      maxRotation: Math.PI / 2,\n      rotationStep: 0.1,\n\n      shuffle: true,\n      rotateRatio: 0.1,\n\n      shape: 'circle',\n      ellipticity: 0.65,\n\n      classes: null,\n\n      hover: null,\n      click: null\n    };\n\n    if (options) {\n      for (var key in options) {\n        if (key in settings) {\n          settings[key] = options[key];\n        }\n      }\n    }\n\n    /* Convert weightFactor into a function */\n    if (typeof settings.weightFactor !== 'function') {\n      var factor = settings.weightFactor;\n      settings.weightFactor = function weightFactor(pt) {\n        return pt * factor; //in px\n      };\n    }\n\n    /* Convert shape into a function */\n    if (typeof settings.shape !== 'function') {\n      switch (settings.shape) {\n        case 'circle':\n        /* falls through */\n        default:\n          // 'circle' is the default and a shortcut in the code loop.\n          settings.shape = 'circle';\n          break;\n\n        case 'cardioid':\n          settings.shape = function shapeCardioid(theta) {\n            return 1 - Math.sin(theta);\n          };\n          break;\n\n        /*\n        To work out an X-gon, one has to calculate \"m\",\n        where 1/(cos(2*PI/X)+m*sin(2*PI/X)) = 1/(cos(0)+m*sin(0))\n        http://www.wolframalpha.com/input/?i=1%2F%28cos%282*PI%2FX%29%2Bm*sin%28\n        2*PI%2FX%29%29+%3D+1%2F%28cos%280%29%2Bm*sin%280%29%29\n        Copy the solution into polar equation r = 1/(cos(t') + m*sin(t'))\n        where t' equals to mod(t, 2PI/X);\n        */\n\n        case 'diamond':\n        case 'square':\n          // http://www.wolframalpha.com/input/?i=plot+r+%3D+1%2F%28cos%28mod+\n          // %28t%2C+PI%2F2%29%29%2Bsin%28mod+%28t%2C+PI%2F2%29%29%29%2C+t+%3D\n          // +0+..+2*PI\n          settings.shape = function shapeSquare(theta) {\n            var thetaPrime = theta % (2 * Math.PI / 4);\n            return 1 / (Math.cos(thetaPrime) + Math.sin(thetaPrime));\n          };\n          break;\n\n        case 'triangle-forward':\n          // http://www.wolframalpha.com/input/?i=plot+r+%3D+1%2F%28cos%28mod+\n          // %28t%2C+2*PI%2F3%29%29%2Bsqrt%283%29sin%28mod+%28t%2C+2*PI%2F3%29\n          // %29%29%2C+t+%3D+0+..+2*PI\n          settings.shape = function shapeTriangle(theta) {\n            var thetaPrime = theta % (2 * Math.PI / 3);\n            return 1 / (Math.cos(thetaPrime) +\n                        Math.sqrt(3) * Math.sin(thetaPrime));\n          };\n          break;\n\n        case 'triangle':\n        case 'triangle-upright':\n          settings.shape = function shapeTriangle(theta) {\n            var thetaPrime = (theta + Math.PI * 3 / 2) % (2 * Math.PI / 3);\n            return 1 / (Math.cos(thetaPrime) +\n                        Math.sqrt(3) * Math.sin(thetaPrime));\n          };\n          break;\n\n        case 'pentagon':\n          settings.shape = function shapePentagon(theta) {\n            var thetaPrime = (theta + 0.955) % (2 * Math.PI / 5);\n            return 1 / (Math.cos(thetaPrime) +\n                        0.726543 * Math.sin(thetaPrime));\n          };\n          break;\n\n        case 'star':\n          settings.shape = function shapeStar(theta) {\n            var thetaPrime = (theta + 0.955) % (2 * Math.PI / 10);\n            if ((theta + 0.955) % (2 * Math.PI / 5) - (2 * Math.PI / 10) >= 0) {\n              return 1 / (Math.cos((2 * Math.PI / 10) - thetaPrime) +\n                          3.07768 * Math.sin((2 * Math.PI / 10) - thetaPrime));\n            } else {\n              return 1 / (Math.cos(thetaPrime) +\n                          3.07768 * Math.sin(thetaPrime));\n            }\n          };\n          break;\n      }\n    }\n\n    /* Make sure gridSize is a whole number and is not smaller than 4px */\n    settings.gridSize = Math.max(Math.floor(settings.gridSize), 4);\n\n    /* shorthand */\n    var g = settings.gridSize;\n    var maskRectWidth = g - settings.maskGapWidth;\n\n    /* normalize rotation settings */\n    var rotationRange = Math.abs(settings.maxRotation - settings.minRotation);\n    var minRotation = Math.min(settings.maxRotation, settings.minRotation);\n    var rotationStep = settings.rotationStep;\n\n    /* information/object available to all functions, set when start() */\n    var grid, // 2d array containing filling information\n      ngx, ngy, // width and height of the grid\n      center, // position of the center of the cloud\n      maxRadius;\n\n    /* timestamp for measuring each putWord() action */\n    var escapeTime;\n\n    /* function for getting the color of the text */\n    var getTextColor;\n    function random_hsl_color(min, max) {\n      return 'hsl(' +\n        (Math.random() * 360).toFixed() + ',' +\n        (Math.random() * 30 + 70).toFixed() + '%,' +\n        (Math.random() * (max - min) + min).toFixed() + '%)';\n    }\n    switch (settings.color) {\n      case 'random-dark':\n        getTextColor = function getRandomDarkColor() {\n          return random_hsl_color(10, 50);\n        };\n        break;\n\n      case 'random-light':\n        getTextColor = function getRandomLightColor() {\n          return random_hsl_color(50, 90);\n        };\n        break;\n\n      default:\n        if (typeof settings.color === 'function') {\n          getTextColor = settings.color;\n        }\n        break;\n    }\n\n    /* function for getting the classes of the text */\n    var getTextClasses = null;\n    if (typeof settings.classes === 'function') {\n      getTextClasses = settings.classes;\n    }\n\n    /* Interactive */\n    var interactive = false;\n    var infoGrid = [];\n    var hovered;\n\n    var getInfoGridFromMouseTouchEvent =\n    function getInfoGridFromMouseTouchEvent(evt) {\n      var canvas = evt.currentTarget;\n      var rect = canvas.getBoundingClientRect();\n      var clientX;\n      var clientY;\n      /** Detect if touches are available */\n      if (evt.touches) {\n        clientX = evt.touches[0].clientX;\n        clientY = evt.touches[0].clientY;\n      } else {\n        clientX = evt.clientX;\n        clientY = evt.clientY;\n      }\n      var eventX = clientX - rect.left;\n      var eventY = clientY - rect.top;\n\n      var x = Math.floor(eventX * ((canvas.width / rect.width) || 1) / g);\n      var y = Math.floor(eventY * ((canvas.height / rect.height) || 1) / g);\n\n      return infoGrid[x][y];\n    };\n\n    var wordcloudhover = function wordcloudhover(evt) {\n      var info = getInfoGridFromMouseTouchEvent(evt);\n\n      if (hovered === info) {\n        return;\n      }\n\n      hovered = info;\n      if (!info) {\n        settings.hover(undefined, undefined, evt);\n\n        return;\n      }\n\n      settings.hover(info.item, info.dimension, evt);\n\n    };\n\n    var wordcloudclick = function wordcloudclick(evt) {\n      var info = getInfoGridFromMouseTouchEvent(evt);\n      if (!info) {\n        return;\n      }\n\n      settings.click(info.item, info.dimension, evt);\n      evt.preventDefault();\n    };\n\n    /* Get points on the grid for a given radius away from the center */\n    var pointsAtRadius = [];\n    var getPointsAtRadius = function getPointsAtRadius(radius) {\n      if (pointsAtRadius[radius]) {\n        return pointsAtRadius[radius];\n      }\n\n      // Look for these number of points on each radius\n      var T = radius * 8;\n\n      // Getting all the points at this radius\n      var t = T;\n      var points = [];\n\n      if (radius === 0) {\n        points.push([center[0], center[1], 0]);\n      }\n\n      while (t--) {\n        // distort the radius to put the cloud in shape\n        var rx = 1;\n        if (settings.shape !== 'circle') {\n          rx = settings.shape(t / T * 2 * Math.PI); // 0 to 1\n        }\n\n        // Push [x, y, t]; t is used solely for getTextColor()\n        points.push([\n          center[0] + radius * rx * Math.cos(-t / T * 2 * Math.PI),\n          center[1] + radius * rx * Math.sin(-t / T * 2 * Math.PI) *\n            settings.ellipticity,\n          t / T * 2 * Math.PI]);\n      }\n\n      pointsAtRadius[radius] = points;\n      return points;\n    };\n\n    /* Return true if we had spent too much time */\n    var exceedTime = function exceedTime() {\n      return ((settings.abortThreshold > 0) &&\n        ((new Date()).getTime() - escapeTime > settings.abortThreshold));\n    };\n\n    /* Get the deg of rotation according to settings, and luck. */\n    var getRotateDeg = function getRotateDeg() {\n      if (settings.rotateRatio === 0) {\n        return 0;\n      }\n\n      if (Math.random() > settings.rotateRatio) {\n        return 0;\n      }\n\n      if (rotationRange === 0) {\n        return minRotation;\n      }\n\n      return minRotation + Math.round(Math.random() * rotationRange / rotationStep) * rotationStep;\n    };\n\n    var getTextInfo = function getTextInfo(word, weight, rotateDeg) {\n      // calculate the acutal font size\n      // fontSize === 0 means weightFactor function wants the text skipped,\n      // and size < minSize means we cannot draw the text.\n      var debug = false;\n      var fontSize = settings.weightFactor(weight);\n      if (fontSize <= settings.minSize) {\n        return false;\n      }\n\n      // Scale factor here is to make sure fillText is not limited by\n      // the minium font size set by browser.\n      // It will always be 1 or 2n.\n      var mu = 1;\n      if (fontSize < minFontSize) {\n        mu = (function calculateScaleFactor() {\n          var mu = 2;\n          while (mu * fontSize < minFontSize) {\n            mu += 2;\n          }\n          return mu;\n        })();\n      }\n\n      var fcanvas = document.createElement('canvas');\n      var fctx = fcanvas.getContext('2d', { willReadFrequently: true });\n\n      fctx.font = settings.fontWeight + ' ' +\n        (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n\n      // Estimate the dimension of the text with measureText().\n      var fw = fctx.measureText(word).width / mu;\n      var fh = Math.max(fontSize * mu,\n                        fctx.measureText('m').width,\n                        fctx.measureText('\\uFF37').width) / mu;\n\n      // Create a boundary box that is larger than our estimates,\n      // so text don't get cut of (it sill might)\n      var boxWidth = fw + fh * 2;\n      var boxHeight = fh * 3;\n      var fgw = Math.ceil(boxWidth / g);\n      var fgh = Math.ceil(boxHeight / g);\n      boxWidth = fgw * g;\n      boxHeight = fgh * g;\n\n      // Calculate the proper offsets to make the text centered at\n      // the preferred position.\n\n      // This is simply half of the width.\n      var fillTextOffsetX = - fw / 2;\n      // Instead of moving the box to the exact middle of the preferred\n      // position, for Y-offset we move 0.4 instead, so Latin alphabets look\n      // vertical centered.\n      var fillTextOffsetY = - fh * 0.4;\n\n      // Calculate the actual dimension of the canvas, considering the rotation.\n      var cgh = Math.ceil((boxWidth * Math.abs(Math.sin(rotateDeg)) +\n                           boxHeight * Math.abs(Math.cos(rotateDeg))) / g);\n      var cgw = Math.ceil((boxWidth * Math.abs(Math.cos(rotateDeg)) +\n                           boxHeight * Math.abs(Math.sin(rotateDeg))) / g);\n      var width = cgw * g;\n      var height = cgh * g;\n\n      fcanvas.setAttribute('width', width);\n      fcanvas.setAttribute('height', height);\n\n      if (debug) {\n        // Attach fcanvas to the DOM\n        document.body.appendChild(fcanvas);\n        // Save it's state so that we could restore and draw the grid correctly.\n        fctx.save();\n      }\n\n      // Scale the canvas with |mu|.\n      fctx.scale(1 / mu, 1 / mu);\n      fctx.translate(width * mu / 2, height * mu / 2);\n      fctx.rotate(- rotateDeg);\n\n      // Once the width/height is set, ctx info will be reset.\n      // Set it again here.\n      fctx.font = settings.fontWeight + ' ' +\n        (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n\n      // Fill the text into the fcanvas.\n      // XXX: We cannot because textBaseline = 'top' here because\n      // Firefox and Chrome uses different default line-height for canvas.\n      // Please read https://bugzil.la/737852#c6.\n      // Here, we use textBaseline = 'middle' and draw the text at exactly\n      // 0.5 * fontSize lower.\n      fctx.fillStyle = '#000';\n      fctx.textBaseline = 'middle';\n      fctx.fillText(word, fillTextOffsetX * mu,\n                    (fillTextOffsetY + fontSize * 0.5) * mu);\n\n      // Get the pixels of the text\n      var imageData = fctx.getImageData(0, 0, width, height).data;\n\n      if (exceedTime()) {\n        return false;\n      }\n\n      if (debug) {\n        // Draw the box of the original estimation\n        fctx.strokeRect(fillTextOffsetX * mu,\n                        fillTextOffsetY, fw * mu, fh * mu);\n        fctx.restore();\n      }\n\n      // Read the pixels and save the information to the occupied array\n      var occupied = [];\n      var gx = cgw, gy, x, y;\n      var bounds = [cgh / 2, cgw / 2, cgh / 2, cgw / 2];\n      while (gx--) {\n        gy = cgh;\n        while (gy--) {\n          y = g;\n          singleGridLoop: {\n            while (y--) {\n              x = g;\n              while (x--) {\n                if (imageData[((gy * g + y) * width +\n                               (gx * g + x)) * 4 + 3]) {\n                  occupied.push([gx, gy]);\n\n                  if (gx < bounds[3]) {\n                    bounds[3] = gx;\n                  }\n                  if (gx > bounds[1]) {\n                    bounds[1] = gx;\n                  }\n                  if (gy < bounds[0]) {\n                    bounds[0] = gy;\n                  }\n                  if (gy > bounds[2]) {\n                    bounds[2] = gy;\n                  }\n\n                  if (debug) {\n                    fctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n                    fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5);\n                  }\n                  break singleGridLoop;\n                }\n              }\n            }\n            if (debug) {\n              fctx.fillStyle = 'rgba(0, 0, 255, 0.5)';\n              fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5);\n            }\n          }\n        }\n      }\n\n      if (debug) {\n        fctx.fillStyle = 'rgba(0, 255, 0, 0.5)';\n        fctx.fillRect(bounds[3] * g,\n                      bounds[0] * g,\n                      (bounds[1] - bounds[3] + 1) * g,\n                      (bounds[2] - bounds[0] + 1) * g);\n      }\n\n      // Return information needed to create the text on the real canvas\n      return {\n        mu: mu,\n        occupied: occupied,\n        bounds: bounds,\n        gw: cgw,\n        gh: cgh,\n        fillTextOffsetX: fillTextOffsetX,\n        fillTextOffsetY: fillTextOffsetY,\n        fillTextWidth: fw,\n        fillTextHeight: fh,\n        fontSize: fontSize\n      };\n    };\n\n    /* Determine if there is room available in the given dimension */\n    var canFitText = function canFitText(gx, gy, gw, gh, occupied) {\n      // Go through the occupied points,\n      // return false if the space is not available.\n      var i = occupied.length;\n      while (i--) {\n        var px = gx + occupied[i][0];\n        var py = gy + occupied[i][1];\n\n        if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n          if (!settings.drawOutOfBound) {\n            return false;\n          }\n          continue;\n        }\n\n        if (!grid[px][py]) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    /* Actually draw the text on the grid */\n    var drawText = function drawText(gx, gy, info, word, weight,\n                                     distance, theta, rotateDeg, attributes) {\n\n      var fontSize = info.fontSize;\n      var color;\n      if (getTextColor) {\n        color = getTextColor(word, weight, fontSize, distance, theta);\n      } else {\n        color = settings.color;\n      }\n\n      var classes;\n      if (getTextClasses) {\n        classes = getTextClasses(word, weight, fontSize, distance, theta);\n      } else {\n        classes = settings.classes;\n      }\n\n      var dimension;\n      var bounds = info.bounds;\n      dimension = {\n        x: (gx + bounds[3]) * g,\n        y: (gy + bounds[0]) * g,\n        w: (bounds[1] - bounds[3] + 1) * g,\n        h: (bounds[2] - bounds[0] + 1) * g\n      };\n\n      elements.forEach(function(el) {\n        if (el.getContext) {\n          var ctx = el.getContext('2d');\n          var mu = info.mu;\n\n          // Save the current state before messing it\n          ctx.save();\n          ctx.scale(1 / mu, 1 / mu);\n\n          ctx.font = settings.fontWeight + ' ' +\n                     (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n          ctx.fillStyle = color;\n\n          // Translate the canvas position to the origin coordinate of where\n          // the text should be put.\n          ctx.translate((gx + info.gw / 2) * g * mu,\n                        (gy + info.gh / 2) * g * mu);\n\n          if (rotateDeg !== 0) {\n            ctx.rotate(- rotateDeg);\n          }\n\n          // Finally, fill the text.\n\n          // XXX: We cannot because textBaseline = 'top' here because\n          // Firefox and Chrome uses different default line-height for canvas.\n          // Please read https://bugzil.la/737852#c6.\n          // Here, we use textBaseline = 'middle' and draw the text at exactly\n          // 0.5 * fontSize lower.\n          ctx.textBaseline = 'middle';\n          ctx.fillText(word, info.fillTextOffsetX * mu,\n                             (info.fillTextOffsetY + fontSize * 0.5) * mu);\n\n          // The below box is always matches how <span>s are positioned\n          /* ctx.strokeRect(info.fillTextOffsetX, info.fillTextOffsetY,\n            info.fillTextWidth, info.fillTextHeight); */\n\n          // Restore the state.\n          ctx.restore();\n        } else {\n          // drawText on DIV element\n          var span = document.createElement('span');\n          var transformRule = '';\n          transformRule = 'rotate(' + (- rotateDeg / Math.PI * 180) + 'deg) ';\n          if (info.mu !== 1) {\n            transformRule +=\n              'translateX(-' + (info.fillTextWidth / 4) + 'px) ' +\n              'scale(' + (1 / info.mu) + ')';\n          }\n          var styleRules = {\n            'position': 'absolute',\n            'display': 'block',\n            'font': settings.fontWeight + ' ' +\n                    (fontSize * info.mu) + 'px ' + settings.fontFamily,\n            'left': ((gx + info.gw / 2) * g + info.fillTextOffsetX) + 'px',\n            'top': ((gy + info.gh / 2) * g + info.fillTextOffsetY) + 'px',\n            'width': info.fillTextWidth + 'px',\n            'height': info.fillTextHeight + 'px',\n            'lineHeight': fontSize + 'px',\n            'whiteSpace': 'nowrap',\n            'transform': transformRule,\n            'webkitTransform': transformRule,\n            'msTransform': transformRule,\n            'transformOrigin': '50% 40%',\n            'webkitTransformOrigin': '50% 40%',\n            'msTransformOrigin': '50% 40%'\n          };\n          if (color) {\n            styleRules.color = color;\n          }\n          span.textContent = word;\n          for (var cssProp in styleRules) {\n            span.style[cssProp] = styleRules[cssProp];\n          }\n          if (attributes) {\n            for (var attribute in attributes) {\n              span.setAttribute(attribute, attributes[attribute]);\n            }\n          }\n          if (classes) {\n            span.className += classes;\n          }\n          el.appendChild(span);\n        }\n      });\n    };\n\n    /* Help function to updateGrid */\n    var fillGridAt = function fillGridAt(x, y, drawMask, dimension, item) {\n      if (x >= ngx || y >= ngy || x < 0 || y < 0) {\n        return;\n      }\n\n      grid[x][y] = false;\n\n      if (drawMask) {\n        var ctx = elements[0].getContext('2d');\n        ctx.fillRect(x * g, y * g, maskRectWidth, maskRectWidth);\n      }\n\n      if (interactive) {\n        infoGrid[x][y] = { item: item, dimension: dimension };\n      }\n    };\n\n    /* Update the filling information of the given space with occupied points.\n       Draw the mask on the canvas if necessary. */\n    var updateGrid = function updateGrid(gx, gy, gw, gh, info, item) {\n      var occupied = info.occupied;\n      var drawMask = settings.drawMask;\n      var ctx;\n      if (drawMask) {\n        ctx = elements[0].getContext('2d');\n        ctx.save();\n        ctx.fillStyle = settings.maskColor;\n      }\n\n      var dimension;\n      if (interactive) {\n        var bounds = info.bounds;\n        dimension = {\n          x: (gx + bounds[3]) * g,\n          y: (gy + bounds[0]) * g,\n          w: (bounds[1] - bounds[3] + 1) * g,\n          h: (bounds[2] - bounds[0] + 1) * g\n        };\n      }\n\n      var i = occupied.length;\n      while (i--) {\n        var px = gx + occupied[i][0];\n        var py = gy + occupied[i][1];\n\n        if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n          continue;\n        }\n\n        fillGridAt(px, py, drawMask, dimension, item);\n      }\n\n      if (drawMask) {\n        ctx.restore();\n      }\n    };\n\n    /* putWord() processes each item on the list,\n       calculate it's size and determine it's position, and actually\n       put it on the canvas. */\n    var putWord = function putWord(item) {\n      var word, weight, attributes;\n      if (Array.isArray(item)) {\n        word = item[0];\n        weight = item[1];\n      } else {\n        word = item.word;\n        weight = item.weight;\n        attributes = item.attributes;\n      }\n      var rotateDeg = getRotateDeg();\n\n      // get info needed to put the text onto the canvas\n      var info = getTextInfo(word, weight, rotateDeg);\n\n      // not getting the info means we shouldn't be drawing this one.\n      if (!info) {\n        return false;\n      }\n\n      if (exceedTime()) {\n        return false;\n      }\n\n      // If drawOutOfBound is set to false,\n      // skip the loop if we have already know the bounding box of\n      // word is larger than the canvas.\n      if (!settings.drawOutOfBound) {\n        var bounds = info.bounds;\n        if ((bounds[1] - bounds[3] + 1) > ngx ||\n          (bounds[2] - bounds[0] + 1) > ngy) {\n          return false;\n        }\n      }\n\n      // Determine the position to put the text by\n      // start looking for the nearest points\n      var r = maxRadius + 1;\n\n      var tryToPutWordAtPoint = function(gxy) {\n        var gx = Math.floor(gxy[0] - info.gw / 2);\n        var gy = Math.floor(gxy[1] - info.gh / 2);\n        var gw = info.gw;\n        var gh = info.gh;\n\n        // If we cannot fit the text at this position, return false\n        // and go to the next position.\n        if (!canFitText(gx, gy, gw, gh, info.occupied)) {\n          return false;\n        }\n\n        // Actually put the text on the canvas\n        drawText(gx, gy, info, word, weight,\n                 (maxRadius - r), gxy[2], rotateDeg, attributes);\n\n        // Mark the spaces on the grid as filled\n        updateGrid(gx, gy, gw, gh, info, item);\n\n        return {\n          gx: gx,\n          gy: gy,\n          rot: rotateDeg,\n          info: info\n        };\n      };\n\n      while (r--) {\n        var points = getPointsAtRadius(maxRadius - r);\n\n        if (settings.shuffle) {\n          points = [].concat(points);\n          shuffleArray(points);\n        }\n\n        // Try to fit the words by looking at each point.\n        // array.some() will stop and return true\n        // when putWordAtPoint() returns true.\n        for (var i = 0; i < points.length; i++) {\n          var res = tryToPutWordAtPoint(points[i]);\n          if (res) {\n            return res;\n          }\n        }\n\n        // var drawn = points.some(tryToPutWordAtPoint);\n        // if (drawn) {\n        //   // leave putWord() and return true\n        //   return true;\n        // }\n      }\n      // we tried all distances but text won't fit, return null\n      return null;\n    };\n\n    /* Send DOM event to all elements. Will stop sending event and return\n       if the previous one is canceled (for cancelable events). */\n    var sendEvent = function sendEvent(type, cancelable, detail) {\n      if (cancelable) {\n        return !elements.some(function(el) {\n          var evt = document.createEvent('CustomEvent');\n          evt.initCustomEvent(type, true, cancelable, detail || {});\n          return !el.dispatchEvent(evt);\n        }, this);\n      } else {\n        elements.forEach(function(el) {\n          var evt = document.createEvent('CustomEvent');\n          evt.initCustomEvent(type, true, cancelable, detail || {});\n          el.dispatchEvent(evt);\n        }, this);\n      }\n    };\n\n    /* Start drawing on a canvas */\n    var start = function start() {\n      // For dimensions, clearCanvas etc.,\n      // we only care about the first element.\n      var canvas = elements[0];\n\n      if (canvas.getContext) {\n        ngx = Math.ceil(canvas.width / g);\n        ngy = Math.ceil(canvas.height / g);\n      } else {\n        var rect = canvas.getBoundingClientRect();\n        ngx = Math.ceil(rect.width / g);\n        ngy = Math.ceil(rect.height / g);\n      }\n\n      // Sending a wordcloudstart event which cause the previous loop to stop.\n      // Do nothing if the event is canceled.\n      if (!sendEvent('wordcloudstart', true)) {\n        return;\n      }\n\n      // Determine the center of the word cloud\n      center = (settings.origin) ?\n        [settings.origin[0]/g, settings.origin[1]/g] :\n        [ngx / 2, ngy / 2];\n\n      // Maxium radius to look for space\n      maxRadius = Math.floor(Math.sqrt(ngx * ngx + ngy * ngy));\n\n      /* Clear the canvas only if the clearCanvas is set,\n         if not, update the grid to the current canvas state */\n      grid = [];\n\n      var gx, gy, i;\n      if (!canvas.getContext || settings.clearCanvas) {\n        elements.forEach(function(el) {\n          if (el.getContext) {\n            var ctx = el.getContext('2d');\n            ctx.fillStyle = settings.backgroundColor;\n            ctx.clearRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n            ctx.fillRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n          } else {\n            el.textContent = '';\n            el.style.backgroundColor = settings.backgroundColor;\n            el.style.position = 'relative';\n          }\n        });\n\n        /* fill the grid with empty state */\n        gx = ngx;\n        while (gx--) {\n          grid[gx] = [];\n          gy = ngy;\n          while (gy--) {\n            grid[gx][gy] = true;\n          }\n        }\n      } else {\n        /* Determine bgPixel by creating\n           another canvas and fill the specified background color. */\n        var bctx = document.createElement('canvas').getContext('2d');\n\n        bctx.fillStyle = settings.backgroundColor;\n        bctx.fillRect(0, 0, 1, 1);\n        var bgPixel = bctx.getImageData(0, 0, 1, 1).data;\n\n        /* Read back the pixels of the canvas we got to tell which part of the\n           canvas is empty.\n           (no clearCanvas only works with a canvas, not divs) */\n        var imageData =\n          canvas.getContext('2d').getImageData(0, 0, ngx * g, ngy * g).data;\n\n        gx = ngx;\n        var x, y;\n        while (gx--) {\n          grid[gx] = [];\n          gy = ngy;\n          while (gy--) {\n            y = g;\n            singleGridLoop: while (y--) {\n              x = g;\n              while (x--) {\n                i = 4;\n                while (i--) {\n                  if (imageData[((gy * g + y) * ngx * g +\n                                 (gx * g + x)) * 4 + i] !== bgPixel[i]) {\n                    grid[gx][gy] = false;\n                    break singleGridLoop;\n                  }\n                }\n              }\n            }\n            if (grid[gx][gy] !== false) {\n              grid[gx][gy] = true;\n            }\n          }\n        }\n\n        imageData = bctx = bgPixel = undefined;\n      }\n\n      // fill the infoGrid with empty state if we need it\n      if (settings.hover || settings.click) {\n\n        interactive = true;\n\n        /* fill the grid with empty state */\n        gx = ngx + 1;\n        while (gx--) {\n          infoGrid[gx] = [];\n        }\n\n        if (settings.hover) {\n          canvas.addEventListener('mousemove', wordcloudhover);\n        }\n\n        if (settings.click) {\n          canvas.addEventListener('click', wordcloudclick);\n          canvas.addEventListener('touchstart', wordcloudclick);\n          canvas.addEventListener('touchend', function (e) {\n            e.preventDefault();\n          });\n          canvas.style.webkitTapHighlightColor = 'rgba(0, 0, 0, 0)';\n        }\n\n        canvas.addEventListener('wordcloudstart', function stopInteraction() {\n          canvas.removeEventListener('wordcloudstart', stopInteraction);\n\n          canvas.removeEventListener('mousemove', wordcloudhover);\n          canvas.removeEventListener('click', wordcloudclick);\n          hovered = undefined;\n        });\n      }\n\n      i = 0;\n      var loopingFunction, stoppingFunction;\n      var layouting = true;\n      if (!settings.layoutAnimation) {\n        loopingFunction = function (cb) {\n          cb();\n        }\n        stoppingFunction = function () {\n          layouting = false;\n        }\n      }\n      else if (settings.wait !== 0) {\n        loopingFunction = window.setTimeout;\n        stoppingFunction = window.clearTimeout;\n      } else {\n        loopingFunction = window.setImmediate;\n        stoppingFunction = window.clearImmediate;\n      }\n\n      var addEventListener = function addEventListener(type, listener) {\n        elements.forEach(function(el) {\n          el.addEventListener(type, listener);\n        }, this);\n      };\n\n      var removeEventListener = function removeEventListener(type, listener) {\n        elements.forEach(function(el) {\n          el.removeEventListener(type, listener);\n        }, this);\n      };\n\n      var anotherWordCloudStart = function anotherWordCloudStart() {\n        removeEventListener('wordcloudstart', anotherWordCloudStart);\n        stoppingFunction(timer);\n      };\n\n      addEventListener('wordcloudstart', anotherWordCloudStart);\n\n      // At least wait the following code before call the first iteration.\n      var timer = (settings.layoutAnimation ? loopingFunction : setTimeout)(function loop() {\n        if (!layouting) {\n          return;\n        }\n        if (i >= settings.list.length) {\n          stoppingFunction(timer);\n          sendEvent('wordcloudstop', false);\n          removeEventListener('wordcloudstart', anotherWordCloudStart);\n\n          return;\n        }\n        escapeTime = (new Date()).getTime();\n        var drawn = putWord(settings.list[i]);\n        var canceled = !sendEvent('wordclouddrawn', true, {\n          item: settings.list[i], drawn: drawn });\n        if (exceedTime() || canceled) {\n          stoppingFunction(timer);\n          settings.abort();\n          sendEvent('wordcloudabort', false);\n          sendEvent('wordcloudstop', false);\n          removeEventListener('wordcloudstart', anotherWordCloudStart);\n          return;\n        }\n        i++;\n        timer = loopingFunction(loop, settings.wait);\n      }, settings.wait);\n    };\n\n    // All set, start the drawing\n    start();\n  };\n\n  WordCloud.isSupported = isSupported;\n  WordCloud.minFontSize = minFontSize;\n\n  export default WordCloud;","import * as echarts from 'echarts/lib/echarts';\n\nimport './WordCloudSeries';\nimport './WordCloudView';\n\nimport wordCloudLayoutHelper from './layout';\n\nif (!wordCloudLayoutHelper.isSupported) {\n    throw new Error('Sorry your browser not support wordCloud');\n}\n\n// https://github.com/timdream/wordcloud2.js/blob/c236bee60436e048949f9becc4f0f67bd832dc5c/index.js#L233\nfunction updateCanvasMask(maskCanvas) {\n    var ctx = maskCanvas.getContext('2d');\n    var imageData = ctx.getImageData(\n        0, 0, maskCanvas.width, maskCanvas.height);\n    var newImageData = ctx.createImageData(imageData);\n\n    var toneSum = 0;\n    var toneCnt = 0;\n    for (var i = 0; i < imageData.data.length; i += 4) {\n        var alpha = imageData.data[i + 3];\n        if (alpha > 128) {\n            var tone = imageData.data[i]\n                + imageData.data[i + 1]\n                + imageData.data[i + 2];\n            toneSum += tone;\n            ++toneCnt;\n        }\n    }\n    var threshold = toneSum / toneCnt;\n\n    for (var i = 0; i < imageData.data.length; i += 4) {\n        var tone = imageData.data[i]\n            + imageData.data[i + 1]\n            + imageData.data[i + 2];\n        var alpha = imageData.data[i + 3];\n\n        if (alpha < 128 || tone > threshold) {\n            // Area not to draw\n            newImageData.data[i] = 0;\n            newImageData.data[i + 1] = 0;\n            newImageData.data[i + 2] = 0;\n            newImageData.data[i + 3] = 0;\n        }\n        else {\n            // Area to draw\n            // The color must be same with backgroundColor\n            newImageData.data[i] = 255;\n            newImageData.data[i + 1] = 255;\n            newImageData.data[i + 2] = 255;\n            newImageData.data[i + 3] = 255;\n        }\n    }\n\n    ctx.putImageData(newImageData, 0, 0);\n}\n\necharts.registerLayout(function (ecModel, api) {\n    ecModel.eachSeriesByType('wordCloud', function (seriesModel) {\n        var gridRect = echarts.helper.getLayoutRect(\n            seriesModel.getBoxLayoutParams(), {\n                width: api.getWidth(),\n                height: api.getHeight()\n            }\n        );\n        var data = seriesModel.getData();\n\n        var canvas = document.createElement('canvas');\n        canvas.width = gridRect.width;\n        canvas.height = gridRect.height;\n\n        var ctx = canvas.getContext('2d');\n        var maskImage = seriesModel.get('maskImage');\n        if (maskImage) {\n            try {\n                ctx.drawImage(maskImage, 0, 0, canvas.width, canvas.height);\n                updateCanvasMask(canvas);\n            }\n            catch (e) {\n                console.error('Invalid mask image');\n                console.error(e.toString());\n            }\n        }\n\n        var sizeRange = seriesModel.get('sizeRange');\n        var rotationRange = seriesModel.get('rotationRange');\n        var valueExtent = data.getDataExtent('value');\n\n        var DEGREE_TO_RAD = Math.PI / 180;\n        var gridSize = seriesModel.get('gridSize');\n        wordCloudLayoutHelper(canvas, {\n            list: data.mapArray('value', function (value, idx) {\n                var itemModel = data.getItemModel(idx);\n                return [\n                    data.getName(idx),\n                    itemModel.get('textStyle.fontSize', true)\n                        || echarts.number.linearMap(value, valueExtent, sizeRange),\n                    idx\n                ];\n            }).sort(function (a, b) {\n                // Sort from large to small in case there is no more room for more words\n                return b[1] - a[1];\n            }),\n            fontFamily: seriesModel.get('textStyle.fontFamily')\n                || seriesModel.get('emphasis.textStyle.fontFamily')\n                || ecModel.get('textStyle.fontFamily'),\n            fontWeight: seriesModel.get('textStyle.fontWeight')\n                || seriesModel.get('emphasis.textStyle.fontWeight')\n                || ecModel.get('textStyle.fontWeight'),\n\n            gridSize: gridSize,\n\n            ellipticity: gridRect.height / gridRect.width,\n\n            minRotation: rotationRange[0] * DEGREE_TO_RAD,\n            maxRotation: rotationRange[1] * DEGREE_TO_RAD,\n\n            clearCanvas: !maskImage,\n\n            rotateRatio: 1,\n\n            rotationStep: seriesModel.get('rotationStep') * DEGREE_TO_RAD,\n\n            drawOutOfBound: seriesModel.get('drawOutOfBound'),\n\n            layoutAnimation: seriesModel.get('layoutAnimation'),\n\n            shuffle: false,\n\n            shape: seriesModel.get('shape')\n        });\n\n        function onWordCloudDrawn(e) {\n            var item = e.detail.item;\n            if (e.detail.drawn && seriesModel.layoutInstance.ondraw) {\n                e.detail.drawn.gx += gridRect.x / gridSize;\n                e.detail.drawn.gy += gridRect.y / gridSize;\n                seriesModel.layoutInstance.ondraw(\n                    item[0], item[1], item[2], e.detail.drawn\n                );\n            }\n        }\n\n        canvas.addEventListener('wordclouddrawn', onWordCloudDrawn);\n\n        if (seriesModel.layoutInstance) {\n            // Dispose previous\n            seriesModel.layoutInstance.dispose();\n        }\n\n        seriesModel.layoutInstance = {\n            ondraw: null,\n\n            dispose: function () {\n                canvas.removeEventListener('wordclouddrawn', onWordCloudDrawn);\n                // Abort\n                canvas.addEventListener('wordclouddrawn', function (e) {\n                    // Prevent default to cancle the event and stop the loop\n                    e.preventDefault();\n                });\n            }\n        };\n    });\n});\n\necharts.registerPreprocessor(function (option) {\n    var series = (option || {}).series;\n    !echarts.util.isArray(series) && (series = series ? [series] : []);\n\n    var compats = ['shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n\n    echarts.util.each(series, function (seriesItem) {\n        if (seriesItem && seriesItem.type === 'wordCloud') {\n            var textStyle = seriesItem.textStyle || {};\n\n            compatTextStyle(textStyle.normal);\n            compatTextStyle(textStyle.emphasis);\n        }\n    });\n\n    function compatTextStyle(textStyle) {\n        textStyle && echarts.util.each(compats, function (key) {\n            if (textStyle.hasOwnProperty(key)) {\n                textStyle['text' + echarts.format.capitalFirst(key)] = textStyle[key];\n            }\n        });\n    }\n});\n","module.exports = __WEBPACK_EXTERNAL_MODULE__83__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(638);\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"]},"metadata":{},"sourceType":"script"}