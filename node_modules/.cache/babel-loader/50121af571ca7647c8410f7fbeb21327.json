{"ast":null,"code":"var _typeof2=require(\"C:/Users/Administrator/Desktop/data_view/my_project/vue2_app/myapp/node_modules/@babel/runtime/helpers/typeof.js\").default;require(\"core-js/modules/es.global-this.js\");require(\"core-js/modules/es.object.get-own-property-descriptor.js\");require(\"core-js/modules/es.object.to-string.js\");require(\"core-js/modules/es.typed-array.float32-array.js\");require(\"core-js/modules/es.typed-array.at.js\");require(\"core-js/modules/es.typed-array.copy-within.js\");require(\"core-js/modules/es.typed-array.every.js\");require(\"core-js/modules/es.typed-array.fill.js\");require(\"core-js/modules/es.typed-array.filter.js\");require(\"core-js/modules/es.typed-array.find.js\");require(\"core-js/modules/es.typed-array.find-index.js\");require(\"core-js/modules/es.typed-array.for-each.js\");require(\"core-js/modules/es.typed-array.includes.js\");require(\"core-js/modules/es.typed-array.index-of.js\");require(\"core-js/modules/es.typed-array.iterator.js\");require(\"core-js/modules/es.typed-array.join.js\");require(\"core-js/modules/es.typed-array.last-index-of.js\");require(\"core-js/modules/es.typed-array.map.js\");require(\"core-js/modules/es.typed-array.reduce.js\");require(\"core-js/modules/es.typed-array.reduce-right.js\");require(\"core-js/modules/es.typed-array.reverse.js\");require(\"core-js/modules/es.typed-array.set.js\");require(\"core-js/modules/es.typed-array.slice.js\");require(\"core-js/modules/es.typed-array.some.js\");require(\"core-js/modules/es.typed-array.sort.js\");require(\"core-js/modules/es.typed-array.subarray.js\");require(\"core-js/modules/es.typed-array.to-locale-string.js\");require(\"core-js/modules/es.typed-array.to-string.js\");require(\"core-js/modules/es.typed-array.int16-array.js\");require(\"core-js/modules/es.typed-array.uint8-clamped-array.js\");require(\"core-js/modules/es.symbol.js\");require(\"core-js/modules/es.symbol.description.js\");require(\"core-js/modules/es.symbol.iterator.js\");require(\"core-js/modules/es.string.iterator.js\");require(\"core-js/modules/web.dom-collections.iterator.js\");require(\"core-js/modules/es.regexp.exec.js\");require(\"core-js/modules/es.regexp.test.js\");require(\"core-js/modules/es.regexp.to-string.js\");require(\"core-js/modules/web.url.js\");require(\"core-js/modules/web.url-search-params.js\");require(\"core-js/modules/es.json.stringify.js\");require(\"core-js/modules/es.string.split.js\");require(\"core-js/modules/es.array.splice.js\");require(\"core-js/modules/es.string.trim.js\");require(\"core-js/modules/es.error.cause.js\");require(\"core-js/modules/es.function.name.js\");require(\"core-js/modules/es.number.constructor.js\");require(\"core-js/modules/es.array.concat.js\");require(\"core-js/modules/es.array.slice.js\");require(\"core-js/modules/es.string.replace.js\");require(\"core-js/modules/es.array.join.js\");require(\"core-js/modules/web.dom-collections.for-each.js\");require(\"core-js/modules/es.array.fill.js\");require(\"core-js/modules/es.typed-array.uint8-array.js\");typeof navigator!==\"undefined\"&&function(global,factory){(typeof exports===\"undefined\"?\"undefined\":_typeof2(exports))==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):(global=typeof globalThis!=='undefined'?globalThis:global||self,global.lottie=factory());}(this,function(){'use strict';var svgNS='http://www.w3.org/2000/svg';var locationHref='';var _useWebWorker=false;var initialDefaultFrame=-999999;var setWebWorker=function setWebWorker(flag){_useWebWorker=!!flag;};var getWebWorker=function getWebWorker(){return _useWebWorker;};var setLocationHref=function setLocationHref(value){locationHref=value;};var getLocationHref=function getLocationHref(){return locationHref;};function createTag(type){// return {appendChild:function(){},setAttribute:function(){},style:{}}\nreturn document.createElement(type);}function extendPrototype(sources,destination){var i;var len=sources.length;var sourcePrototype;for(i=0;i<len;i+=1){sourcePrototype=sources[i].prototype;for(var attr in sourcePrototype){if(Object.prototype.hasOwnProperty.call(sourcePrototype,attr))destination.prototype[attr]=sourcePrototype[attr];}}}function getDescriptor(object,prop){return Object.getOwnPropertyDescriptor(object,prop);}function createProxyFunction(prototype){function ProxyFunction(){}ProxyFunction.prototype=prototype;return ProxyFunction;}// import Howl from '../../3rd_party/howler';\nvar audioControllerFactory=function(){function AudioController(audioFactory){this.audios=[];this.audioFactory=audioFactory;this._volume=1;this._isMuted=false;}AudioController.prototype={addAudio:function addAudio(audio){this.audios.push(audio);},pause:function pause(){var i;var len=this.audios.length;for(i=0;i<len;i+=1){this.audios[i].pause();}},resume:function resume(){var i;var len=this.audios.length;for(i=0;i<len;i+=1){this.audios[i].resume();}},setRate:function setRate(rateValue){var i;var len=this.audios.length;for(i=0;i<len;i+=1){this.audios[i].setRate(rateValue);}},createAudio:function createAudio(assetPath){if(this.audioFactory){return this.audioFactory(assetPath);}if(window.Howl){return new window.Howl({src:[assetPath]});}return{isPlaying:false,play:function play(){this.isPlaying=true;},seek:function seek(){this.isPlaying=false;},playing:function playing(){},rate:function rate(){},setVolume:function setVolume(){}};},setAudioFactory:function setAudioFactory(audioFactory){this.audioFactory=audioFactory;},setVolume:function setVolume(value){this._volume=value;this._updateVolume();},mute:function mute(){this._isMuted=true;this._updateVolume();},unmute:function unmute(){this._isMuted=false;this._updateVolume();},getVolume:function getVolume(){return this._volume;},_updateVolume:function _updateVolume(){var i;var len=this.audios.length;for(i=0;i<len;i+=1){this.audios[i].volume(this._volume*(this._isMuted?0:1));}}};return function(){return new AudioController();};}();var createTypedArray=function(){function createRegularArray(type,len){var i=0;var arr=[];var value;switch(type){case'int16':case'uint8c':value=1;break;default:value=1.1;break;}for(i=0;i<len;i+=1){arr.push(value);}return arr;}function createTypedArrayFactory(type,len){if(type==='float32'){return new Float32Array(len);}if(type==='int16'){return new Int16Array(len);}if(type==='uint8c'){return new Uint8ClampedArray(len);}return createRegularArray(type,len);}if(typeof Uint8ClampedArray==='function'&&typeof Float32Array==='function'){return createTypedArrayFactory;}return createRegularArray;}();function createSizedArray(len){return Array.apply(null,{length:len});}function _typeof$6(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$6=function _typeof(obj){return typeof obj;};}else{_typeof$6=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$6(obj);}var subframeEnabled=true;var expressionsPlugin=null;var idPrefix$1='';var isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);var _shouldRoundValues=false;var bmPow=Math.pow;var bmSqrt=Math.sqrt;var bmFloor=Math.floor;var bmMax=Math.max;var bmMin=Math.min;var BMMath={};(function(){var propertyNames=['abs','acos','acosh','asin','asinh','atan','atanh','atan2','ceil','cbrt','expm1','clz32','cos','cosh','exp','floor','fround','hypot','imul','log','log1p','log2','log10','max','min','pow','random','round','sign','sin','sinh','sqrt','tan','tanh','trunc','E','LN10','LN2','LOG10E','LOG2E','PI','SQRT1_2','SQRT2'];var i;var len=propertyNames.length;for(i=0;i<len;i+=1){BMMath[propertyNames[i]]=Math[propertyNames[i]];}})();function ProjectInterface$1(){return{};}BMMath.random=Math.random;BMMath.abs=function(val){var tOfVal=_typeof$6(val);if(tOfVal==='object'&&val.length){var absArr=createSizedArray(val.length);var i;var len=val.length;for(i=0;i<len;i+=1){absArr[i]=Math.abs(val[i]);}return absArr;}return Math.abs(val);};var defaultCurveSegments=150;var degToRads=Math.PI/180;var roundCorner=0.5519;function roundValues(flag){_shouldRoundValues=!!flag;}function bmRnd(value){if(_shouldRoundValues){return Math.round(value);}return value;}function styleDiv(element){element.style.position='absolute';element.style.top=0;element.style.left=0;element.style.display='block';element.style.transformOrigin='0 0';element.style.webkitTransformOrigin='0 0';element.style.backfaceVisibility='visible';element.style.webkitBackfaceVisibility='visible';element.style.transformStyle='preserve-3d';element.style.webkitTransformStyle='preserve-3d';element.style.mozTransformStyle='preserve-3d';}function BMEnterFrameEvent(type,currentTime,totalTime,frameMultiplier){this.type=type;this.currentTime=currentTime;this.totalTime=totalTime;this.direction=frameMultiplier<0?-1:1;}function BMCompleteEvent(type,frameMultiplier){this.type=type;this.direction=frameMultiplier<0?-1:1;}function BMCompleteLoopEvent(type,totalLoops,currentLoop,frameMultiplier){this.type=type;this.currentLoop=currentLoop;this.totalLoops=totalLoops;this.direction=frameMultiplier<0?-1:1;}function BMSegmentStartEvent(type,firstFrame,totalFrames){this.type=type;this.firstFrame=firstFrame;this.totalFrames=totalFrames;}function BMDestroyEvent(type,target){this.type=type;this.target=target;}function BMRenderFrameErrorEvent(nativeError,currentTime){this.type='renderFrameError';this.nativeError=nativeError;this.currentTime=currentTime;}function BMConfigErrorEvent(nativeError){this.type='configError';this.nativeError=nativeError;}function BMAnimationConfigErrorEvent(type,nativeError){this.type=type;this.nativeError=nativeError;}var createElementID=function(){var _count=0;return function createID(){_count+=1;return idPrefix$1+'__lottie_element_'+_count;};}();function HSVtoRGB(h,s,v){var r;var g;var b;var i;var f;var p;var q;var t;i=Math.floor(h*6);f=h*6-i;p=v*(1-s);q=v*(1-f*s);t=v*(1-(1-f)*s);switch(i%6){case 0:r=v;g=t;b=p;break;case 1:r=q;g=v;b=p;break;case 2:r=p;g=v;b=t;break;case 3:r=p;g=q;b=v;break;case 4:r=t;g=p;b=v;break;case 5:r=v;g=p;b=q;break;default:break;}return[r,g,b];}function RGBtoHSV(r,g,b){var max=Math.max(r,g,b);var min=Math.min(r,g,b);var d=max-min;var h;var s=max===0?0:d/max;var v=max/255;switch(max){case min:h=0;break;case r:h=g-b+d*(g<b?6:0);h/=6*d;break;case g:h=b-r+d*2;h/=6*d;break;case b:h=r-g+d*4;h/=6*d;break;default:break;}return[h,s,v];}function addSaturationToRGB(color,offset){var hsv=RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);hsv[1]+=offset;if(hsv[1]>1){hsv[1]=1;}else if(hsv[1]<=0){hsv[1]=0;}return HSVtoRGB(hsv[0],hsv[1],hsv[2]);}function addBrightnessToRGB(color,offset){var hsv=RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);hsv[2]+=offset;if(hsv[2]>1){hsv[2]=1;}else if(hsv[2]<0){hsv[2]=0;}return HSVtoRGB(hsv[0],hsv[1],hsv[2]);}function addHueToRGB(color,offset){var hsv=RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);hsv[0]+=offset/360;if(hsv[0]>1){hsv[0]-=1;}else if(hsv[0]<0){hsv[0]+=1;}return HSVtoRGB(hsv[0],hsv[1],hsv[2]);}var rgbToHex=function(){var colorMap=[];var i;var hex;for(i=0;i<256;i+=1){hex=i.toString(16);colorMap[i]=hex.length===1?'0'+hex:hex;}return function(r,g,b){if(r<0){r=0;}if(g<0){g=0;}if(b<0){b=0;}return'#'+colorMap[r]+colorMap[g]+colorMap[b];};}();var setSubframeEnabled=function setSubframeEnabled(flag){subframeEnabled=!!flag;};var getSubframeEnabled=function getSubframeEnabled(){return subframeEnabled;};var setExpressionsPlugin=function setExpressionsPlugin(value){expressionsPlugin=value;};var getExpressionsPlugin=function getExpressionsPlugin(){return expressionsPlugin;};var setDefaultCurveSegments=function setDefaultCurveSegments(value){defaultCurveSegments=value;};var getDefaultCurveSegments=function getDefaultCurveSegments(){return defaultCurveSegments;};var setIdPrefix=function setIdPrefix(value){idPrefix$1=value;};var getIdPrefix=function getIdPrefix(){return idPrefix$1;};function createNS(type){// return {appendChild:function(){},setAttribute:function(){},style:{}}\nreturn document.createElementNS(svgNS,type);}function _typeof$5(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$5=function _typeof(obj){return typeof obj;};}else{_typeof$5=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$5(obj);}var dataManager=function(){var _counterId=1;var processes=[];var workerFn;var workerInstance;var workerProxy={onmessage:function onmessage(){},postMessage:function postMessage(path){workerFn({data:path});}};var _workerSelf={postMessage:function postMessage(data){workerProxy.onmessage({data:data});}};function createWorker(fn){if(window.Worker&&window.Blob&&getWebWorker()){var blob=new Blob(['var _workerSelf = self; self.onmessage = ',fn.toString()],{type:'text/javascript'});// var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\nvar url=URL.createObjectURL(blob);return new Worker(url);}workerFn=fn;return workerProxy;}function setupWorker(){if(!workerInstance){workerInstance=createWorker(function workerStart(e){function dataFunctionManager(){function completeLayers(layers,comps){var layerData;var i;var len=layers.length;var j;var jLen;var k;var kLen;for(i=0;i<len;i+=1){layerData=layers[i];if('ks'in layerData&&!layerData.completed){layerData.completed=true;if(layerData.tt){layers[i-1].td=layerData.tt;}if(layerData.hasMask){var maskProps=layerData.masksProperties;jLen=maskProps.length;for(j=0;j<jLen;j+=1){if(maskProps[j].pt.k.i){convertPathsToAbsoluteValues(maskProps[j].pt.k);}else{kLen=maskProps[j].pt.k.length;for(k=0;k<kLen;k+=1){if(maskProps[j].pt.k[k].s){convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);}if(maskProps[j].pt.k[k].e){convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);}}}}}if(layerData.ty===0){layerData.layers=findCompLayers(layerData.refId,comps);completeLayers(layerData.layers,comps);}else if(layerData.ty===4){completeShapes(layerData.shapes);}else if(layerData.ty===5){completeText(layerData);}}}}function completeChars(chars,assets){if(chars){var i=0;var len=chars.length;for(i=0;i<len;i+=1){if(chars[i].t===1){// var compData = findComp(chars[i].data.refId, assets);\nchars[i].data.layers=findCompLayers(chars[i].data.refId,assets);// chars[i].data.ip = 0;\n// chars[i].data.op = 99999;\n// chars[i].data.st = 0;\n// chars[i].data.sr = 1;\n// chars[i].w = compData.w;\n// chars[i].data.ks = {\n//   a: { k: [0, 0, 0], a: 0 },\n//   p: { k: [0, -compData.h, 0], a: 0 },\n//   r: { k: 0, a: 0 },\n//   s: { k: [100, 100], a: 0 },\n//   o: { k: 100, a: 0 },\n// };\ncompleteLayers(chars[i].data.layers,assets);}}}}function findComp(id,comps){var i=0;var len=comps.length;while(i<len){if(comps[i].id===id){return comps[i];}i+=1;}return null;}function findCompLayers(id,comps){var comp=findComp(id,comps);if(comp){if(!comp.layers.__used){comp.layers.__used=true;return comp.layers;}return JSON.parse(JSON.stringify(comp.layers));}return null;}function completeShapes(arr){var i;var len=arr.length;var j;var jLen;for(i=len-1;i>=0;i-=1){if(arr[i].ty==='sh'){if(arr[i].ks.k.i){convertPathsToAbsoluteValues(arr[i].ks.k);}else{jLen=arr[i].ks.k.length;for(j=0;j<jLen;j+=1){if(arr[i].ks.k[j].s){convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);}if(arr[i].ks.k[j].e){convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);}}}}else if(arr[i].ty==='gr'){completeShapes(arr[i].it);}}}function convertPathsToAbsoluteValues(path){var i;var len=path.i.length;for(i=0;i<len;i+=1){path.i[i][0]+=path.v[i][0];path.i[i][1]+=path.v[i][1];path.o[i][0]+=path.v[i][0];path.o[i][1]+=path.v[i][1];}}function checkVersion(minimum,animVersionString){var animVersion=animVersionString?animVersionString.split('.'):[100,100,100];if(minimum[0]>animVersion[0]){return true;}if(animVersion[0]>minimum[0]){return false;}if(minimum[1]>animVersion[1]){return true;}if(animVersion[1]>minimum[1]){return false;}if(minimum[2]>animVersion[2]){return true;}if(animVersion[2]>minimum[2]){return false;}return null;}var checkText=function(){var minimumVersion=[4,4,14];function updateTextLayer(textLayer){var documentData=textLayer.t.d;textLayer.t.d={k:[{s:documentData,t:0}]};}function iterateLayers(layers){var i;var len=layers.length;for(i=0;i<len;i+=1){if(layers[i].ty===5){updateTextLayer(layers[i]);}}}return function(animationData){if(checkVersion(minimumVersion,animationData.v)){iterateLayers(animationData.layers);if(animationData.assets){var i;var len=animationData.assets.length;for(i=0;i<len;i+=1){if(animationData.assets[i].layers){iterateLayers(animationData.assets[i].layers);}}}}};}();var checkChars=function(){var minimumVersion=[4,7,99];return function(animationData){if(animationData.chars&&!checkVersion(minimumVersion,animationData.v)){var i;var len=animationData.chars.length;for(i=0;i<len;i+=1){var charData=animationData.chars[i];if(charData.data&&charData.data.shapes){completeShapes(charData.data.shapes);charData.data.ip=0;charData.data.op=99999;charData.data.st=0;charData.data.sr=1;charData.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}};if(!animationData.chars[i].t){charData.data.shapes.push({ty:'no'});charData.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:'tr'});}}}}};}();var checkPathProperties=function(){var minimumVersion=[5,7,15];function updateTextLayer(textLayer){var pathData=textLayer.t.p;if(typeof pathData.a==='number'){pathData.a={a:0,k:pathData.a};}if(typeof pathData.p==='number'){pathData.p={a:0,k:pathData.p};}if(typeof pathData.r==='number'){pathData.r={a:0,k:pathData.r};}}function iterateLayers(layers){var i;var len=layers.length;for(i=0;i<len;i+=1){if(layers[i].ty===5){updateTextLayer(layers[i]);}}}return function(animationData){if(checkVersion(minimumVersion,animationData.v)){iterateLayers(animationData.layers);if(animationData.assets){var i;var len=animationData.assets.length;for(i=0;i<len;i+=1){if(animationData.assets[i].layers){iterateLayers(animationData.assets[i].layers);}}}}};}();var checkColors=function(){var minimumVersion=[4,1,9];function iterateShapes(shapes){var i;var len=shapes.length;var j;var jLen;for(i=0;i<len;i+=1){if(shapes[i].ty==='gr'){iterateShapes(shapes[i].it);}else if(shapes[i].ty==='fl'||shapes[i].ty==='st'){if(shapes[i].c.k&&shapes[i].c.k[0].i){jLen=shapes[i].c.k.length;for(j=0;j<jLen;j+=1){if(shapes[i].c.k[j].s){shapes[i].c.k[j].s[0]/=255;shapes[i].c.k[j].s[1]/=255;shapes[i].c.k[j].s[2]/=255;shapes[i].c.k[j].s[3]/=255;}if(shapes[i].c.k[j].e){shapes[i].c.k[j].e[0]/=255;shapes[i].c.k[j].e[1]/=255;shapes[i].c.k[j].e[2]/=255;shapes[i].c.k[j].e[3]/=255;}}}else{shapes[i].c.k[0]/=255;shapes[i].c.k[1]/=255;shapes[i].c.k[2]/=255;shapes[i].c.k[3]/=255;}}}}function iterateLayers(layers){var i;var len=layers.length;for(i=0;i<len;i+=1){if(layers[i].ty===4){iterateShapes(layers[i].shapes);}}}return function(animationData){if(checkVersion(minimumVersion,animationData.v)){iterateLayers(animationData.layers);if(animationData.assets){var i;var len=animationData.assets.length;for(i=0;i<len;i+=1){if(animationData.assets[i].layers){iterateLayers(animationData.assets[i].layers);}}}}};}();var checkShapes=function(){var minimumVersion=[4,4,18];function completeClosingShapes(arr){var i;var len=arr.length;var j;var jLen;for(i=len-1;i>=0;i-=1){if(arr[i].ty==='sh'){if(arr[i].ks.k.i){arr[i].ks.k.c=arr[i].closed;}else{jLen=arr[i].ks.k.length;for(j=0;j<jLen;j+=1){if(arr[i].ks.k[j].s){arr[i].ks.k[j].s[0].c=arr[i].closed;}if(arr[i].ks.k[j].e){arr[i].ks.k[j].e[0].c=arr[i].closed;}}}}else if(arr[i].ty==='gr'){completeClosingShapes(arr[i].it);}}}function iterateLayers(layers){var layerData;var i;var len=layers.length;var j;var jLen;var k;var kLen;for(i=0;i<len;i+=1){layerData=layers[i];if(layerData.hasMask){var maskProps=layerData.masksProperties;jLen=maskProps.length;for(j=0;j<jLen;j+=1){if(maskProps[j].pt.k.i){maskProps[j].pt.k.c=maskProps[j].cl;}else{kLen=maskProps[j].pt.k.length;for(k=0;k<kLen;k+=1){if(maskProps[j].pt.k[k].s){maskProps[j].pt.k[k].s[0].c=maskProps[j].cl;}if(maskProps[j].pt.k[k].e){maskProps[j].pt.k[k].e[0].c=maskProps[j].cl;}}}}}if(layerData.ty===4){completeClosingShapes(layerData.shapes);}}}return function(animationData){if(checkVersion(minimumVersion,animationData.v)){iterateLayers(animationData.layers);if(animationData.assets){var i;var len=animationData.assets.length;for(i=0;i<len;i+=1){if(animationData.assets[i].layers){iterateLayers(animationData.assets[i].layers);}}}}};}();function completeData(animationData){if(animationData.__complete){return;}checkColors(animationData);checkText(animationData);checkChars(animationData);checkPathProperties(animationData);checkShapes(animationData);completeLayers(animationData.layers,animationData.assets);completeChars(animationData.chars,animationData.assets);animationData.__complete=true;}function completeText(data){if(data.t.a.length===0&&!('m'in data.t.p)){// data.singleShape = true;\n}}var moduleOb={};moduleOb.completeData=completeData;moduleOb.checkColors=checkColors;moduleOb.checkChars=checkChars;moduleOb.checkPathProperties=checkPathProperties;moduleOb.checkShapes=checkShapes;moduleOb.completeLayers=completeLayers;return moduleOb;}if(!_workerSelf.dataManager){_workerSelf.dataManager=dataFunctionManager();}if(!_workerSelf.assetLoader){_workerSelf.assetLoader=function(){function formatResponse(xhr){// using typeof doubles the time of execution of this method,\n// so if available, it's better to use the header to validate the type\nvar contentTypeHeader=xhr.getResponseHeader('content-type');if(contentTypeHeader&&xhr.responseType==='json'&&contentTypeHeader.indexOf('json')!==-1){return xhr.response;}if(xhr.response&&_typeof$5(xhr.response)==='object'){return xhr.response;}if(xhr.response&&typeof xhr.response==='string'){return JSON.parse(xhr.response);}if(xhr.responseText){return JSON.parse(xhr.responseText);}return null;}function loadAsset(path,fullPath,callback,errorCallback){var response;var xhr=new XMLHttpRequest();// set responseType after calling open or IE will break.\ntry{// This crashes on Android WebView prior to KitKat\nxhr.responseType='json';}catch(err){}// eslint-disable-line no-empty\nxhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.status===200){response=formatResponse(xhr);callback(response);}else{try{response=formatResponse(xhr);callback(response);}catch(err){if(errorCallback){errorCallback(err);}}}}};try{xhr.open('GET',path,true);}catch(error){xhr.open('GET',fullPath+'/'+path,true);}xhr.send();}return{load:loadAsset};}();}if(e.data.type==='loadAnimation'){_workerSelf.assetLoader.load(e.data.path,e.data.fullPath,function(data){_workerSelf.dataManager.completeData(data);_workerSelf.postMessage({id:e.data.id,payload:data,status:'success'});},function(){_workerSelf.postMessage({id:e.data.id,status:'error'});});}else if(e.data.type==='complete'){var animation=e.data.animation;_workerSelf.dataManager.completeData(animation);_workerSelf.postMessage({id:e.data.id,payload:animation,status:'success'});}else if(e.data.type==='loadData'){_workerSelf.assetLoader.load(e.data.path,e.data.fullPath,function(data){_workerSelf.postMessage({id:e.data.id,payload:data,status:'success'});},function(){_workerSelf.postMessage({id:e.data.id,status:'error'});});}});workerInstance.onmessage=function(event){var data=event.data;var id=data.id;var process=processes[id];processes[id]=null;if(data.status==='success'){process.onComplete(data.payload);}else if(process.onError){process.onError();}};}}function createProcess(onComplete,onError){_counterId+=1;var id='processId_'+_counterId;processes[id]={onComplete:onComplete,onError:onError};return id;}function loadAnimation(path,onComplete,onError){setupWorker();var processId=createProcess(onComplete,onError);workerInstance.postMessage({type:'loadAnimation',path:path,fullPath:window.location.origin+window.location.pathname,id:processId});}function loadData(path,onComplete,onError){setupWorker();var processId=createProcess(onComplete,onError);workerInstance.postMessage({type:'loadData',path:path,fullPath:window.location.origin+window.location.pathname,id:processId});}function completeAnimation(anim,onComplete,onError){setupWorker();var processId=createProcess(onComplete,onError);workerInstance.postMessage({type:'complete',animation:anim,id:processId});}return{loadAnimation:loadAnimation,loadData:loadData,completeAnimation:completeAnimation};}();var ImagePreloader=function(){var proxyImage=function(){var canvas=createTag('canvas');canvas.width=1;canvas.height=1;var ctx=canvas.getContext('2d');ctx.fillStyle='rgba(0,0,0,0)';ctx.fillRect(0,0,1,1);return canvas;}();function imageLoaded(){this.loadedAssets+=1;if(this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages){if(this.imagesLoadedCb){this.imagesLoadedCb(null);}}}function footageLoaded(){this.loadedFootagesCount+=1;if(this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages){if(this.imagesLoadedCb){this.imagesLoadedCb(null);}}}function getAssetsPath(assetData,assetsPath,originalPath){var path='';if(assetData.e){path=assetData.p;}else if(assetsPath){var imagePath=assetData.p;if(imagePath.indexOf('images/')!==-1){imagePath=imagePath.split('/')[1];}path=assetsPath+imagePath;}else{path=originalPath;path+=assetData.u?assetData.u:'';path+=assetData.p;}return path;}function testImageLoaded(img){var _count=0;var intervalId=setInterval(function(){var box=img.getBBox();if(box.width||_count>500){this._imageLoaded();clearInterval(intervalId);}_count+=1;}.bind(this),50);}function createImageData(assetData){var path=getAssetsPath(assetData,this.assetsPath,this.path);var img=createNS('image');if(isSafari){this.testImageLoaded(img);}else{img.addEventListener('load',this._imageLoaded,false);}img.addEventListener('error',function(){ob.img=proxyImage;this._imageLoaded();}.bind(this),false);img.setAttributeNS('http://www.w3.org/1999/xlink','href',path);if(this._elementHelper.append){this._elementHelper.append(img);}else{this._elementHelper.appendChild(img);}var ob={img:img,assetData:assetData};return ob;}function createImgData(assetData){var path=getAssetsPath(assetData,this.assetsPath,this.path);var img=createTag('img');img.crossOrigin='anonymous';img.addEventListener('load',this._imageLoaded,false);img.addEventListener('error',function(){ob.img=proxyImage;this._imageLoaded();}.bind(this),false);img.src=path;var ob={img:img,assetData:assetData};return ob;}function createFootageData(data){var ob={assetData:data};var path=getAssetsPath(data,this.assetsPath,this.path);dataManager.loadData(path,function(footageData){ob.img=footageData;this._footageLoaded();}.bind(this),function(){ob.img={};this._footageLoaded();}.bind(this));return ob;}function loadAssets(assets,cb){this.imagesLoadedCb=cb;var i;var len=assets.length;for(i=0;i<len;i+=1){if(!assets[i].layers){if(!assets[i].t||assets[i].t==='seq'){this.totalImages+=1;this.images.push(this._createImageData(assets[i]));}else if(assets[i].t===3){this.totalFootages+=1;this.images.push(this.createFootageData(assets[i]));}}}}function setPath(path){this.path=path||'';}function setAssetsPath(path){this.assetsPath=path||'';}function getAsset(assetData){var i=0;var len=this.images.length;while(i<len){if(this.images[i].assetData===assetData){return this.images[i].img;}i+=1;}return null;}function destroy(){this.imagesLoadedCb=null;this.images.length=0;}function loadedImages(){return this.totalImages===this.loadedAssets;}function loadedFootages(){return this.totalFootages===this.loadedFootagesCount;}function setCacheType(type,elementHelper){if(type==='svg'){this._elementHelper=elementHelper;this._createImageData=this.createImageData.bind(this);}else{this._createImageData=this.createImgData.bind(this);}}function ImagePreloaderFactory(){this._imageLoaded=imageLoaded.bind(this);this._footageLoaded=footageLoaded.bind(this);this.testImageLoaded=testImageLoaded.bind(this);this.createFootageData=createFootageData.bind(this);this.assetsPath='';this.path='';this.totalImages=0;this.totalFootages=0;this.loadedAssets=0;this.loadedFootagesCount=0;this.imagesLoadedCb=null;this.images=[];}ImagePreloaderFactory.prototype={loadAssets:loadAssets,setAssetsPath:setAssetsPath,setPath:setPath,loadedImages:loadedImages,loadedFootages:loadedFootages,destroy:destroy,getAsset:getAsset,createImgData:createImgData,createImageData:createImageData,imageLoaded:imageLoaded,footageLoaded:footageLoaded,setCacheType:setCacheType};return ImagePreloaderFactory;}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function triggerEvent(eventName,args){if(this._cbs[eventName]){var callbacks=this._cbs[eventName];for(var i=0;i<callbacks.length;i+=1){callbacks[i](args);}}},addEventListener:function addEventListener(eventName,callback){if(!this._cbs[eventName]){this._cbs[eventName]=[];}this._cbs[eventName].push(callback);return function(){this.removeEventListener(eventName,callback);}.bind(this);},removeEventListener:function removeEventListener(eventName,callback){if(!callback){this._cbs[eventName]=null;}else if(this._cbs[eventName]){var i=0;var len=this._cbs[eventName].length;while(i<len){if(this._cbs[eventName][i]===callback){this._cbs[eventName].splice(i,1);i-=1;len-=1;}i+=1;}if(!this._cbs[eventName].length){this._cbs[eventName]=null;}}}};var markerParser=function(){function parsePayloadLines(payload){var lines=payload.split('\\r\\n');var keys={};var line;var keysCount=0;for(var i=0;i<lines.length;i+=1){line=lines[i].split(':');if(line.length===2){keys[line[0]]=line[1].trim();keysCount+=1;}}if(keysCount===0){throw new Error();}return keys;}return function(_markers){var markers=[];for(var i=0;i<_markers.length;i+=1){var _marker=_markers[i];var markerData={time:_marker.tm,duration:_marker.dr};try{markerData.payload=JSON.parse(_markers[i].cm);}catch(_){try{markerData.payload=parsePayloadLines(_markers[i].cm);}catch(__){markerData.payload={name:_markers[i].cm};}}markers.push(markerData);}return markers;};}();var ProjectInterface=function(){function registerComposition(comp){this.compositions.push(comp);}return function(){function _thisProjectFunction(name){var i=0;var len=this.compositions.length;while(i<len){if(this.compositions[i].data&&this.compositions[i].data.nm===name){if(this.compositions[i].prepareFrame&&this.compositions[i].data.xt){this.compositions[i].prepareFrame(this.currentFrame);}return this.compositions[i].compInterface;}i+=1;}return null;}_thisProjectFunction.compositions=[];_thisProjectFunction.currentFrame=0;_thisProjectFunction.registerComposition=registerComposition;return _thisProjectFunction;};}();var renderers={};var registerRenderer=function registerRenderer(key,value){renderers[key]=value;};function getRenderer(key){return renderers[key];}function _typeof$4(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$4=function _typeof(obj){return typeof obj;};}else{_typeof$4=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$4(obj);}var AnimationItem=function AnimationItem(){this._cbs=[];this.name='';this.path='';this.isLoaded=false;this.currentFrame=0;this.currentRawFrame=0;this.firstFrame=0;this.totalFrames=0;this.frameRate=0;this.frameMult=0;this.playSpeed=1;this.playDirection=1;this.playCount=0;this.animationData={};this.assets=[];this.isPaused=true;this.autoplay=false;this.loop=true;this.renderer=null;this.animationID=createElementID();this.assetsPath='';this.timeCompleted=0;this.segmentPos=0;this.isSubframeEnabled=getSubframeEnabled();this.segments=[];this._idle=true;this._completedLoop=false;this.projectInterface=ProjectInterface();this.imagePreloader=new ImagePreloader();this.audioController=audioControllerFactory();this.markers=[];this.configAnimation=this.configAnimation.bind(this);this.onSetupError=this.onSetupError.bind(this);this.onSegmentComplete=this.onSegmentComplete.bind(this);this.drawnFrameEvent=new BMEnterFrameEvent('drawnFrame',0,0,0);};extendPrototype([BaseEvent],AnimationItem);AnimationItem.prototype.setParams=function(params){if(params.wrapper||params.container){this.wrapper=params.wrapper||params.container;}var animType='svg';if(params.animType){animType=params.animType;}else if(params.renderer){animType=params.renderer;}var RendererClass=getRenderer(animType);this.renderer=new RendererClass(this,params.rendererSettings);this.imagePreloader.setCacheType(animType,this.renderer.globalData.defs);this.renderer.setProjectInterface(this.projectInterface);this.animType=animType;if(params.loop===''||params.loop===null||params.loop===undefined||params.loop===true){this.loop=true;}else if(params.loop===false){this.loop=false;}else{this.loop=parseInt(params.loop,10);}this.autoplay='autoplay'in params?params.autoplay:true;this.name=params.name?params.name:'';this.autoloadSegments=Object.prototype.hasOwnProperty.call(params,'autoloadSegments')?params.autoloadSegments:true;this.assetsPath=params.assetsPath;this.initialSegment=params.initialSegment;if(params.audioFactory){this.audioController.setAudioFactory(params.audioFactory);}if(params.animationData){this.setupAnimation(params.animationData);}else if(params.path){if(params.path.lastIndexOf('\\\\')!==-1){this.path=params.path.substr(0,params.path.lastIndexOf('\\\\')+1);}else{this.path=params.path.substr(0,params.path.lastIndexOf('/')+1);}this.fileName=params.path.substr(params.path.lastIndexOf('/')+1);this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf('.json'));dataManager.loadAnimation(params.path,this.configAnimation,this.onSetupError);}};AnimationItem.prototype.onSetupError=function(){this.trigger('data_failed');};AnimationItem.prototype.setupAnimation=function(data){dataManager.completeAnimation(data,this.configAnimation);};AnimationItem.prototype.setData=function(wrapper,animationData){if(animationData){if(_typeof$4(animationData)!=='object'){animationData=JSON.parse(animationData);}}var params={wrapper:wrapper,animationData:animationData};var wrapperAttributes=wrapper.attributes;params.path=wrapperAttributes.getNamedItem('data-animation-path')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-animation-path').value:wrapperAttributes.getNamedItem('data-bm-path')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-path').value:wrapperAttributes.getNamedItem('bm-path')?wrapperAttributes.getNamedItem('bm-path').value:'';params.animType=wrapperAttributes.getNamedItem('data-anim-type')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-anim-type').value:wrapperAttributes.getNamedItem('data-bm-type')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-type').value:wrapperAttributes.getNamedItem('bm-type')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('bm-type').value:wrapperAttributes.getNamedItem('data-bm-renderer')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-renderer').value:wrapperAttributes.getNamedItem('bm-renderer')?wrapperAttributes.getNamedItem('bm-renderer').value:'canvas';var loop=wrapperAttributes.getNamedItem('data-anim-loop')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-anim-loop').value:wrapperAttributes.getNamedItem('data-bm-loop')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-loop').value:wrapperAttributes.getNamedItem('bm-loop')?wrapperAttributes.getNamedItem('bm-loop').value:'';if(loop==='false'){params.loop=false;}else if(loop==='true'){params.loop=true;}else if(loop!==''){params.loop=parseInt(loop,10);}var autoplay=wrapperAttributes.getNamedItem('data-anim-autoplay')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-anim-autoplay').value:wrapperAttributes.getNamedItem('data-bm-autoplay')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-autoplay').value:wrapperAttributes.getNamedItem('bm-autoplay')?wrapperAttributes.getNamedItem('bm-autoplay').value:true;params.autoplay=autoplay!=='false';params.name=wrapperAttributes.getNamedItem('data-name')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-name').value:wrapperAttributes.getNamedItem('data-bm-name')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-name').value:wrapperAttributes.getNamedItem('bm-name')?wrapperAttributes.getNamedItem('bm-name').value:'';var prerender=wrapperAttributes.getNamedItem('data-anim-prerender')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-anim-prerender').value:wrapperAttributes.getNamedItem('data-bm-prerender')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-prerender').value:wrapperAttributes.getNamedItem('bm-prerender')?wrapperAttributes.getNamedItem('bm-prerender').value:'';if(prerender==='false'){params.prerender=false;}this.setParams(params);};AnimationItem.prototype.includeLayers=function(data){if(data.op>this.animationData.op){this.animationData.op=data.op;this.totalFrames=Math.floor(data.op-this.animationData.ip);}var layers=this.animationData.layers;var i;var len=layers.length;var newLayers=data.layers;var j;var jLen=newLayers.length;for(j=0;j<jLen;j+=1){i=0;while(i<len){if(layers[i].id===newLayers[j].id){layers[i]=newLayers[j];break;}i+=1;}}if(data.chars||data.fonts){this.renderer.globalData.fontManager.addChars(data.chars);this.renderer.globalData.fontManager.addFonts(data.fonts,this.renderer.globalData.defs);}if(data.assets){len=data.assets.length;for(i=0;i<len;i+=1){this.animationData.assets.push(data.assets[i]);}}this.animationData.__complete=false;dataManager.completeAnimation(this.animationData,this.onSegmentComplete);};AnimationItem.prototype.onSegmentComplete=function(data){this.animationData=data;var expressionsPlugin=getExpressionsPlugin();if(expressionsPlugin){expressionsPlugin.initExpressions(this);}this.loadNextSegment();};AnimationItem.prototype.loadNextSegment=function(){var segments=this.animationData.segments;if(!segments||segments.length===0||!this.autoloadSegments){this.trigger('data_ready');this.timeCompleted=this.totalFrames;return;}var segment=segments.shift();this.timeCompleted=segment.time*this.frameRate;var segmentPath=this.path+this.fileName+'_'+this.segmentPos+'.json';this.segmentPos+=1;dataManager.loadData(segmentPath,this.includeLayers.bind(this),function(){this.trigger('data_failed');}.bind(this));};AnimationItem.prototype.loadSegments=function(){var segments=this.animationData.segments;if(!segments){this.timeCompleted=this.totalFrames;}this.loadNextSegment();};AnimationItem.prototype.imagesLoaded=function(){this.trigger('loaded_images');this.checkLoaded();};AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath);this.imagePreloader.setPath(this.path);this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this));};AnimationItem.prototype.configAnimation=function(animData){if(!this.renderer){return;}try{this.animationData=animData;if(this.initialSegment){this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]);this.firstFrame=Math.round(this.initialSegment[0]);}else{this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip);this.firstFrame=Math.round(this.animationData.ip);}this.renderer.configAnimation(animData);if(!animData.assets){animData.assets=[];}this.assets=this.animationData.assets;this.frameRate=this.animationData.fr;this.frameMult=this.animationData.fr/1000;this.renderer.searchExtraCompositions(animData.assets);this.markers=markerParser(animData.markers||[]);this.trigger('config_ready');this.preloadImages();this.loadSegments();this.updaFrameModifier();this.waitForFontsLoaded();if(this.isPaused){this.audioController.pause();}}catch(error){this.triggerConfigError(error);}};AnimationItem.prototype.waitForFontsLoaded=function(){if(!this.renderer){return;}if(this.renderer.globalData.fontManager.isLoaded){this.checkLoaded();}else{setTimeout(this.waitForFontsLoaded.bind(this),20);}};AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=='canvas')&&this.imagePreloader.loadedFootages()){this.isLoaded=true;var expressionsPlugin=getExpressionsPlugin();if(expressionsPlugin){expressionsPlugin.initExpressions(this);}this.renderer.initItems();setTimeout(function(){this.trigger('DOMLoaded');}.bind(this),0);this.gotoFrame();if(this.autoplay){this.play();}}};AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize();};AnimationItem.prototype.setSubframe=function(flag){this.isSubframeEnabled=!!flag;};AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame;// eslint-disable-line no-bitwise\nif(this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted){this.currentFrame=this.timeCompleted;}this.trigger('enterFrame');this.renderFrame();this.trigger('drawnFrame');};AnimationItem.prototype.renderFrame=function(){if(this.isLoaded===false||!this.renderer){return;}try{this.renderer.renderFrame(this.currentFrame+this.firstFrame);}catch(error){this.triggerRenderFrameError(error);}};AnimationItem.prototype.play=function(name){if(name&&this.name!==name){return;}if(this.isPaused===true){this.isPaused=false;this.trigger('_pause');this.audioController.resume();if(this._idle){this._idle=false;this.trigger('_active');}}};AnimationItem.prototype.pause=function(name){if(name&&this.name!==name){return;}if(this.isPaused===false){this.isPaused=true;this.trigger('_play');this._idle=true;this.trigger('_idle');this.audioController.pause();}};AnimationItem.prototype.togglePause=function(name){if(name&&this.name!==name){return;}if(this.isPaused===true){this.play();}else{this.pause();}};AnimationItem.prototype.stop=function(name){if(name&&this.name!==name){return;}this.pause();this.playCount=0;this._completedLoop=false;this.setCurrentRawFrameValue(0);};AnimationItem.prototype.getMarkerData=function(markerName){var marker;for(var i=0;i<this.markers.length;i+=1){marker=this.markers[i];if(marker.payload&&marker.payload.name===markerName){return marker;}}return null;};AnimationItem.prototype.goToAndStop=function(value,isFrame,name){if(name&&this.name!==name){return;}var numValue=Number(value);if(isNaN(numValue)){var marker=this.getMarkerData(value);if(marker){this.goToAndStop(marker.time,true);}}else if(isFrame){this.setCurrentRawFrameValue(value);}else{this.setCurrentRawFrameValue(value*this.frameModifier);}this.pause();};AnimationItem.prototype.goToAndPlay=function(value,isFrame,name){if(name&&this.name!==name){return;}var numValue=Number(value);if(isNaN(numValue)){var marker=this.getMarkerData(value);if(marker){if(!marker.duration){this.goToAndStop(marker.time,true);}else{this.playSegments([marker.time,marker.time+marker.duration],true);}}}else{this.goToAndStop(numValue,isFrame,name);}this.play();};AnimationItem.prototype.advanceTime=function(value){if(this.isPaused===true||this.isLoaded===false){return;}var nextValue=this.currentRawFrame+value*this.frameModifier;var _isComplete=false;// Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\n// If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\nif(nextValue>=this.totalFrames-1&&this.frameModifier>0){if(!this.loop||this.playCount===this.loop){if(!this.checkSegments(nextValue>this.totalFrames?nextValue%this.totalFrames:0)){_isComplete=true;nextValue=this.totalFrames-1;}}else if(nextValue>=this.totalFrames){this.playCount+=1;if(!this.checkSegments(nextValue%this.totalFrames)){this.setCurrentRawFrameValue(nextValue%this.totalFrames);this._completedLoop=true;this.trigger('loopComplete');}}else{this.setCurrentRawFrameValue(nextValue);}}else if(nextValue<0){if(!this.checkSegments(nextValue%this.totalFrames)){if(this.loop&&!(this.playCount--<=0&&this.loop!==true)){// eslint-disable-line no-plusplus\nthis.setCurrentRawFrameValue(this.totalFrames+nextValue%this.totalFrames);if(!this._completedLoop){this._completedLoop=true;}else{this.trigger('loopComplete');}}else{_isComplete=true;nextValue=0;}}}else{this.setCurrentRawFrameValue(nextValue);}if(_isComplete){this.setCurrentRawFrameValue(nextValue);this.pause();this.trigger('complete');}};AnimationItem.prototype.adjustSegment=function(arr,offset){this.playCount=0;if(arr[1]<arr[0]){if(this.frameModifier>0){if(this.playSpeed<0){this.setSpeed(-this.playSpeed);}else{this.setDirection(-1);}}this.totalFrames=arr[0]-arr[1];this.timeCompleted=this.totalFrames;this.firstFrame=arr[1];this.setCurrentRawFrameValue(this.totalFrames-0.001-offset);}else if(arr[1]>arr[0]){if(this.frameModifier<0){if(this.playSpeed<0){this.setSpeed(-this.playSpeed);}else{this.setDirection(1);}}this.totalFrames=arr[1]-arr[0];this.timeCompleted=this.totalFrames;this.firstFrame=arr[0];this.setCurrentRawFrameValue(0.001+offset);}this.trigger('segmentStart');};AnimationItem.prototype.setSegment=function(init,end){var pendingFrame=-1;if(this.isPaused){if(this.currentRawFrame+this.firstFrame<init){pendingFrame=init;}else if(this.currentRawFrame+this.firstFrame>end){pendingFrame=end-init;}}this.firstFrame=init;this.totalFrames=end-init;this.timeCompleted=this.totalFrames;if(pendingFrame!==-1){this.goToAndStop(pendingFrame,true);}};AnimationItem.prototype.playSegments=function(arr,forceFlag){if(forceFlag){this.segments.length=0;}if(_typeof$4(arr[0])==='object'){var i;var len=arr.length;for(i=0;i<len;i+=1){this.segments.push(arr[i]);}}else{this.segments.push(arr);}if(this.segments.length&&forceFlag){this.adjustSegment(this.segments.shift(),0);}if(this.isPaused){this.play();}};AnimationItem.prototype.resetSegments=function(forceFlag){this.segments.length=0;this.segments.push([this.animationData.ip,this.animationData.op]);if(forceFlag){this.checkSegments(0);}};AnimationItem.prototype.checkSegments=function(offset){if(this.segments.length){this.adjustSegment(this.segments.shift(),offset);return true;}return false;};AnimationItem.prototype.destroy=function(name){if(name&&this.name!==name||!this.renderer){return;}this.renderer.destroy();this.imagePreloader.destroy();this.trigger('destroy');this._cbs=null;this.onEnterFrame=null;this.onLoopComplete=null;this.onComplete=null;this.onSegmentStart=null;this.onDestroy=null;this.renderer=null;this.renderer=null;this.imagePreloader=null;this.projectInterface=null;};AnimationItem.prototype.setCurrentRawFrameValue=function(value){this.currentRawFrame=value;this.gotoFrame();};AnimationItem.prototype.setSpeed=function(val){this.playSpeed=val;this.updaFrameModifier();};AnimationItem.prototype.setDirection=function(val){this.playDirection=val<0?-1:1;this.updaFrameModifier();};AnimationItem.prototype.setVolume=function(val,name){if(name&&this.name!==name){return;}this.audioController.setVolume(val);};AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume();};AnimationItem.prototype.mute=function(name){if(name&&this.name!==name){return;}this.audioController.mute();};AnimationItem.prototype.unmute=function(name){if(name&&this.name!==name){return;}this.audioController.unmute();};AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection;this.audioController.setRate(this.playSpeed*this.playDirection);};AnimationItem.prototype.getPath=function(){return this.path;};AnimationItem.prototype.getAssetsPath=function(assetData){var path='';if(assetData.e){path=assetData.p;}else if(this.assetsPath){var imagePath=assetData.p;if(imagePath.indexOf('images/')!==-1){imagePath=imagePath.split('/')[1];}path=this.assetsPath+imagePath;}else{path=this.path;path+=assetData.u?assetData.u:'';path+=assetData.p;}return path;};AnimationItem.prototype.getAssetData=function(id){var i=0;var len=this.assets.length;while(i<len){if(id===this.assets[i].id){return this.assets[i];}i+=1;}return null;};AnimationItem.prototype.hide=function(){this.renderer.hide();};AnimationItem.prototype.show=function(){this.renderer.show();};AnimationItem.prototype.getDuration=function(isFrame){return isFrame?this.totalFrames:this.totalFrames/this.frameRate;};AnimationItem.prototype.updateDocumentData=function(path,documentData,index){try{var element=this.renderer.getElementByPath(path);element.updateDocumentData(documentData,index);}catch(error){// TODO: decide how to handle catch case\n}};AnimationItem.prototype.trigger=function(name){if(this._cbs&&this._cbs[name]){switch(name){case'enterFrame':this.triggerEvent(name,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameModifier));break;case'drawnFrame':this.drawnFrameEvent.currentTime=this.currentFrame;this.drawnFrameEvent.totalTime=this.totalFrames;this.drawnFrameEvent.direction=this.frameModifier;this.triggerEvent(name,this.drawnFrameEvent);break;case'loopComplete':this.triggerEvent(name,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));break;case'complete':this.triggerEvent(name,new BMCompleteEvent(name,this.frameMult));break;case'segmentStart':this.triggerEvent(name,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));break;case'destroy':this.triggerEvent(name,new BMDestroyEvent(name,this));break;default:this.triggerEvent(name);}}if(name==='enterFrame'&&this.onEnterFrame){this.onEnterFrame.call(this,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameMult));}if(name==='loopComplete'&&this.onLoopComplete){this.onLoopComplete.call(this,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));}if(name==='complete'&&this.onComplete){this.onComplete.call(this,new BMCompleteEvent(name,this.frameMult));}if(name==='segmentStart'&&this.onSegmentStart){this.onSegmentStart.call(this,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));}if(name==='destroy'&&this.onDestroy){this.onDestroy.call(this,new BMDestroyEvent(name,this));}};AnimationItem.prototype.triggerRenderFrameError=function(nativeError){var error=new BMRenderFrameErrorEvent(nativeError,this.currentFrame);this.triggerEvent('error',error);if(this.onError){this.onError.call(this,error);}};AnimationItem.prototype.triggerConfigError=function(nativeError){var error=new BMConfigErrorEvent(nativeError,this.currentFrame);this.triggerEvent('error',error);if(this.onError){this.onError.call(this,error);}};var animationManager=function(){var moduleOb={};var registeredAnimations=[];var initTime=0;var len=0;var playingAnimationsNum=0;var _stopped=true;var _isFrozen=false;function removeElement(ev){var i=0;var animItem=ev.target;while(i<len){if(registeredAnimations[i].animation===animItem){registeredAnimations.splice(i,1);i-=1;len-=1;if(!animItem.isPaused){subtractPlayingCount();}}i+=1;}}function registerAnimation(element,animationData){if(!element){return null;}var i=0;while(i<len){if(registeredAnimations[i].elem===element&&registeredAnimations[i].elem!==null){return registeredAnimations[i].animation;}i+=1;}var animItem=new AnimationItem();setupAnimation(animItem,element);animItem.setData(element,animationData);return animItem;}function getRegisteredAnimations(){var i;var lenAnims=registeredAnimations.length;var animations=[];for(i=0;i<lenAnims;i+=1){animations.push(registeredAnimations[i].animation);}return animations;}function addPlayingCount(){playingAnimationsNum+=1;activate();}function subtractPlayingCount(){playingAnimationsNum-=1;}function setupAnimation(animItem,element){animItem.addEventListener('destroy',removeElement);animItem.addEventListener('_active',addPlayingCount);animItem.addEventListener('_idle',subtractPlayingCount);registeredAnimations.push({elem:element,animation:animItem});len+=1;}function loadAnimation(params){var animItem=new AnimationItem();setupAnimation(animItem,null);animItem.setParams(params);return animItem;}function setSpeed(val,animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.setSpeed(val,animation);}}function setDirection(val,animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.setDirection(val,animation);}}function play(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.play(animation);}}function resume(nowTime){var elapsedTime=nowTime-initTime;var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.advanceTime(elapsedTime);}initTime=nowTime;if(playingAnimationsNum&&!_isFrozen){window.requestAnimationFrame(resume);}else{_stopped=true;}}function first(nowTime){initTime=nowTime;window.requestAnimationFrame(resume);}function pause(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.pause(animation);}}function goToAndStop(value,isFrame,animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.goToAndStop(value,isFrame,animation);}}function stop(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.stop(animation);}}function togglePause(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.togglePause(animation);}}function destroy(animation){var i;for(i=len-1;i>=0;i-=1){registeredAnimations[i].animation.destroy(animation);}}function searchAnimations(animationData,standalone,renderer){var animElements=[].concat([].slice.call(document.getElementsByClassName('lottie')),[].slice.call(document.getElementsByClassName('bodymovin')));var i;var lenAnims=animElements.length;for(i=0;i<lenAnims;i+=1){if(renderer){animElements[i].setAttribute('data-bm-type',renderer);}registerAnimation(animElements[i],animationData);}if(standalone&&lenAnims===0){if(!renderer){renderer='svg';}var body=document.getElementsByTagName('body')[0];body.innerText='';var div=createTag('div');div.style.width='100%';div.style.height='100%';div.setAttribute('data-bm-type',renderer);body.appendChild(div);registerAnimation(div,animationData);}}function resize(){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.resize();}}function activate(){if(!_isFrozen&&playingAnimationsNum){if(_stopped){window.requestAnimationFrame(first);_stopped=false;}}}function freeze(){_isFrozen=true;}function unfreeze(){_isFrozen=false;activate();}function setVolume(val,animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.setVolume(val,animation);}}function mute(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.mute(animation);}}function unmute(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.unmute(animation);}}moduleOb.registerAnimation=registerAnimation;moduleOb.loadAnimation=loadAnimation;moduleOb.setSpeed=setSpeed;moduleOb.setDirection=setDirection;moduleOb.play=play;moduleOb.pause=pause;moduleOb.stop=stop;moduleOb.togglePause=togglePause;moduleOb.searchAnimations=searchAnimations;moduleOb.resize=resize;// moduleOb.start = start;\nmoduleOb.goToAndStop=goToAndStop;moduleOb.destroy=destroy;moduleOb.freeze=freeze;moduleOb.unfreeze=unfreeze;moduleOb.setVolume=setVolume;moduleOb.mute=mute;moduleOb.unmute=unmute;moduleOb.getRegisteredAnimations=getRegisteredAnimations;return moduleOb;}();/* eslint-disable */var BezierFactory=function(){/**\r\n       * BezierEasing - use bezier curve for transition easing function\r\n       * by Gatan Renaudeau 2014 - 2015  MIT License\r\n       *\r\n       * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n       * Usage:\r\n       * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n       * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n       *\r\n       */var ob={};ob.getBezierEasing=getBezierEasing;var beziers={};function getBezierEasing(a,b,c,d,nm){var str=nm||('bez_'+a+'_'+b+'_'+c+'_'+d).replace(/\\./g,'p');if(beziers[str]){return beziers[str];}var bezEasing=new BezierEasing([a,b,c,d]);beziers[str]=bezEasing;return bezEasing;}// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS=4;var NEWTON_MIN_SLOPE=0.001;var SUBDIVISION_PRECISION=0.0000001;var SUBDIVISION_MAX_ITERATIONS=10;var kSplineTableSize=11;var kSampleStepSize=1.0/(kSplineTableSize-1.0);var float32ArraySupported=typeof Float32Array==='function';function A(aA1,aA2){return 1.0-3.0*aA2+3.0*aA1;}function B(aA1,aA2){return 3.0*aA2-6.0*aA1;}function C(aA1){return 3.0*aA1;}// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nfunction calcBezier(aT,aA1,aA2){return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT;}// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nfunction getSlope(aT,aA1,aA2){return 3.0*A(aA1,aA2)*aT*aT+2.0*B(aA1,aA2)*aT+C(aA1);}function binarySubdivide(aX,aA,aB,mX1,mX2){var currentX,currentT,i=0;do{currentT=aA+(aB-aA)/2.0;currentX=calcBezier(currentT,mX1,mX2)-aX;if(currentX>0.0){aB=currentT;}else{aA=currentT;}}while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT;}function newtonRaphsonIterate(aX,aGuessT,mX1,mX2){for(var i=0;i<NEWTON_ITERATIONS;++i){var currentSlope=getSlope(aGuessT,mX1,mX2);if(currentSlope===0.0)return aGuessT;var currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope;}return aGuessT;}/**\r\n       * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n       */function BezierEasing(points){this._p=points;this._mSampleValues=float32ArraySupported?new Float32Array(kSplineTableSize):new Array(kSplineTableSize);this._precomputed=false;this.get=this.get.bind(this);}BezierEasing.prototype={get:function get(x){var mX1=this._p[0],mY1=this._p[1],mX2=this._p[2],mY2=this._p[3];if(!this._precomputed)this._precompute();if(mX1===mY1&&mX2===mY2)return x;// linear\n// Because JavaScript number are imprecise, we should guarantee the extremes are right.\nif(x===0)return 0;if(x===1)return 1;return calcBezier(this._getTForX(x),mY1,mY2);},// Private part\n_precompute:function _precompute(){var mX1=this._p[0],mY1=this._p[1],mX2=this._p[2],mY2=this._p[3];this._precomputed=true;if(mX1!==mY1||mX2!==mY2){this._calcSampleValues();}},_calcSampleValues:function _calcSampleValues(){var mX1=this._p[0],mX2=this._p[2];for(var i=0;i<kSplineTableSize;++i){this._mSampleValues[i]=calcBezier(i*kSampleStepSize,mX1,mX2);}},/**\r\n           * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n           */_getTForX:function _getTForX(aX){var mX1=this._p[0],mX2=this._p[2],mSampleValues=this._mSampleValues;var intervalStart=0.0;var currentSample=1;var lastSample=kSplineTableSize-1;for(;currentSample!==lastSample&&mSampleValues[currentSample]<=aX;++currentSample){intervalStart+=kSampleStepSize;}--currentSample;// Interpolate to provide an initial guess for t\nvar dist=(aX-mSampleValues[currentSample])/(mSampleValues[currentSample+1]-mSampleValues[currentSample]);var guessForT=intervalStart+dist*kSampleStepSize;var initialSlope=getSlope(guessForT,mX1,mX2);if(initialSlope>=NEWTON_MIN_SLOPE){return newtonRaphsonIterate(aX,guessForT,mX1,mX2);}if(initialSlope===0.0){return guessForT;}return binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize,mX1,mX2);}};return ob;}();var pooling=function(){function _double(arr){return arr.concat(createSizedArray(arr.length));}return{\"double\":_double};}();var poolFactory=function(){return function(initialLength,_create,_release){var _length=0;var _maxLength=initialLength;var pool=createSizedArray(_maxLength);var ob={newElement:newElement,release:release};function newElement(){var element;if(_length){_length-=1;element=pool[_length];}else{element=_create();}return element;}function release(element){if(_length===_maxLength){pool=pooling[\"double\"](pool);_maxLength*=2;}if(_release){_release(element);}pool[_length]=element;_length+=1;}return ob;};}();var bezierLengthPool=function(){function create(){return{addedLength:0,percents:createTypedArray('float32',getDefaultCurveSegments()),lengths:createTypedArray('float32',getDefaultCurveSegments())};}return poolFactory(8,create);}();var segmentsLengthPool=function(){function create(){return{lengths:[],totalLength:0};}function release(element){var i;var len=element.lengths.length;for(i=0;i<len;i+=1){bezierLengthPool.release(element.lengths[i]);}element.lengths.length=0;}return poolFactory(8,create,release);}();function bezFunction(){var math=Math;function pointOnLine2D(x1,y1,x2,y2,x3,y3){var det1=x1*y2+y1*x3+x2*y3-x3*y2-y3*x1-x2*y1;return det1>-0.001&&det1<0.001;}function pointOnLine3D(x1,y1,z1,x2,y2,z2,x3,y3,z3){if(z1===0&&z2===0&&z3===0){return pointOnLine2D(x1,y1,x2,y2,x3,y3);}var dist1=math.sqrt(math.pow(x2-x1,2)+math.pow(y2-y1,2)+math.pow(z2-z1,2));var dist2=math.sqrt(math.pow(x3-x1,2)+math.pow(y3-y1,2)+math.pow(z3-z1,2));var dist3=math.sqrt(math.pow(x3-x2,2)+math.pow(y3-y2,2)+math.pow(z3-z2,2));var diffDist;if(dist1>dist2){if(dist1>dist3){diffDist=dist1-dist2-dist3;}else{diffDist=dist3-dist2-dist1;}}else if(dist3>dist2){diffDist=dist3-dist2-dist1;}else{diffDist=dist2-dist1-dist3;}return diffDist>-0.0001&&diffDist<0.0001;}var getBezierLength=function(){return function(pt1,pt2,pt3,pt4){var curveSegments=getDefaultCurveSegments();var k;var i;var len;var ptCoord;var perc;var addedLength=0;var ptDistance;var point=[];var lastPoint=[];var lengthData=bezierLengthPool.newElement();len=pt3.length;for(k=0;k<curveSegments;k+=1){perc=k/(curveSegments-1);ptDistance=0;for(i=0;i<len;i+=1){ptCoord=bmPow(1-perc,3)*pt1[i]+3*bmPow(1-perc,2)*perc*pt3[i]+3*(1-perc)*bmPow(perc,2)*pt4[i]+bmPow(perc,3)*pt2[i];point[i]=ptCoord;if(lastPoint[i]!==null){ptDistance+=bmPow(point[i]-lastPoint[i],2);}lastPoint[i]=point[i];}if(ptDistance){ptDistance=bmSqrt(ptDistance);addedLength+=ptDistance;}lengthData.percents[k]=perc;lengthData.lengths[k]=addedLength;}lengthData.addedLength=addedLength;return lengthData;};}();function getSegmentsLength(shapeData){var segmentsLength=segmentsLengthPool.newElement();var closed=shapeData.c;var pathV=shapeData.v;var pathO=shapeData.o;var pathI=shapeData.i;var i;var len=shapeData._length;var lengths=segmentsLength.lengths;var totalLength=0;for(i=0;i<len-1;i+=1){lengths[i]=getBezierLength(pathV[i],pathV[i+1],pathO[i],pathI[i+1]);totalLength+=lengths[i].addedLength;}if(closed&&len){lengths[i]=getBezierLength(pathV[i],pathV[0],pathO[i],pathI[0]);totalLength+=lengths[i].addedLength;}segmentsLength.totalLength=totalLength;return segmentsLength;}function BezierData(length){this.segmentLength=0;this.points=new Array(length);}function PointData(partial,point){this.partialLength=partial;this.point=point;}var buildBezierData=function(){var storedData={};return function(pt1,pt2,pt3,pt4){var bezierName=(pt1[0]+'_'+pt1[1]+'_'+pt2[0]+'_'+pt2[1]+'_'+pt3[0]+'_'+pt3[1]+'_'+pt4[0]+'_'+pt4[1]).replace(/\\./g,'p');if(!storedData[bezierName]){var curveSegments=getDefaultCurveSegments();var k;var i;var len;var ptCoord;var perc;var addedLength=0;var ptDistance;var point;var lastPoint=null;if(pt1.length===2&&(pt1[0]!==pt2[0]||pt1[1]!==pt2[1])&&pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt1[0]+pt3[0],pt1[1]+pt3[1])&&pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt2[0]+pt4[0],pt2[1]+pt4[1])){curveSegments=2;}var bezierData=new BezierData(curveSegments);len=pt3.length;for(k=0;k<curveSegments;k+=1){point=createSizedArray(len);perc=k/(curveSegments-1);ptDistance=0;for(i=0;i<len;i+=1){ptCoord=bmPow(1-perc,3)*pt1[i]+3*bmPow(1-perc,2)*perc*(pt1[i]+pt3[i])+3*(1-perc)*bmPow(perc,2)*(pt2[i]+pt4[i])+bmPow(perc,3)*pt2[i];point[i]=ptCoord;if(lastPoint!==null){ptDistance+=bmPow(point[i]-lastPoint[i],2);}}ptDistance=bmSqrt(ptDistance);addedLength+=ptDistance;bezierData.points[k]=new PointData(ptDistance,point);lastPoint=point;}bezierData.segmentLength=addedLength;storedData[bezierName]=bezierData;}return storedData[bezierName];};}();function getDistancePerc(perc,bezierData){var percents=bezierData.percents;var lengths=bezierData.lengths;var len=percents.length;var initPos=bmFloor((len-1)*perc);var lengthPos=perc*bezierData.addedLength;var lPerc=0;if(initPos===len-1||initPos===0||lengthPos===lengths[initPos]){return percents[initPos];}var dir=lengths[initPos]>lengthPos?-1:1;var flag=true;while(flag){if(lengths[initPos]<=lengthPos&&lengths[initPos+1]>lengthPos){lPerc=(lengthPos-lengths[initPos])/(lengths[initPos+1]-lengths[initPos]);flag=false;}else{initPos+=dir;}if(initPos<0||initPos>=len-1){// FIX for TypedArrays that don't store floating point values with enough accuracy\nif(initPos===len-1){return percents[initPos];}flag=false;}}return percents[initPos]+(percents[initPos+1]-percents[initPos])*lPerc;}function getPointInSegment(pt1,pt2,pt3,pt4,percent,bezierData){var t1=getDistancePerc(percent,bezierData);var u1=1-t1;var ptX=math.round((u1*u1*u1*pt1[0]+(t1*u1*u1+u1*t1*u1+u1*u1*t1)*pt3[0]+(t1*t1*u1+u1*t1*t1+t1*u1*t1)*pt4[0]+t1*t1*t1*pt2[0])*1000)/1000;var ptY=math.round((u1*u1*u1*pt1[1]+(t1*u1*u1+u1*t1*u1+u1*u1*t1)*pt3[1]+(t1*t1*u1+u1*t1*t1+t1*u1*t1)*pt4[1]+t1*t1*t1*pt2[1])*1000)/1000;return[ptX,ptY];}var bezierSegmentPoints=createTypedArray('float32',8);function getNewSegment(pt1,pt2,pt3,pt4,startPerc,endPerc,bezierData){if(startPerc<0){startPerc=0;}else if(startPerc>1){startPerc=1;}var t0=getDistancePerc(startPerc,bezierData);endPerc=endPerc>1?1:endPerc;var t1=getDistancePerc(endPerc,bezierData);var i;var len=pt1.length;var u0=1-t0;var u1=1-t1;var u0u0u0=u0*u0*u0;var t0u0u0_3=t0*u0*u0*3;// eslint-disable-line camelcase\nvar t0t0u0_3=t0*t0*u0*3;// eslint-disable-line camelcase\nvar t0t0t0=t0*t0*t0;//\nvar u0u0u1=u0*u0*u1;var t0u0u1_3=t0*u0*u1+u0*t0*u1+u0*u0*t1;// eslint-disable-line camelcase\nvar t0t0u1_3=t0*t0*u1+u0*t0*t1+t0*u0*t1;// eslint-disable-line camelcase\nvar t0t0t1=t0*t0*t1;//\nvar u0u1u1=u0*u1*u1;var t0u1u1_3=t0*u1*u1+u0*t1*u1+u0*u1*t1;// eslint-disable-line camelcase\nvar t0t1u1_3=t0*t1*u1+u0*t1*t1+t0*u1*t1;// eslint-disable-line camelcase\nvar t0t1t1=t0*t1*t1;//\nvar u1u1u1=u1*u1*u1;var t1u1u1_3=t1*u1*u1+u1*t1*u1+u1*u1*t1;// eslint-disable-line camelcase\nvar t1t1u1_3=t1*t1*u1+u1*t1*t1+t1*u1*t1;// eslint-disable-line camelcase\nvar t1t1t1=t1*t1*t1;for(i=0;i<len;i+=1){bezierSegmentPoints[i*4]=math.round((u0u0u0*pt1[i]+t0u0u0_3*pt3[i]+t0t0u0_3*pt4[i]+t0t0t0*pt2[i])*1000)/1000;// eslint-disable-line camelcase\nbezierSegmentPoints[i*4+1]=math.round((u0u0u1*pt1[i]+t0u0u1_3*pt3[i]+t0t0u1_3*pt4[i]+t0t0t1*pt2[i])*1000)/1000;// eslint-disable-line camelcase\nbezierSegmentPoints[i*4+2]=math.round((u0u1u1*pt1[i]+t0u1u1_3*pt3[i]+t0t1u1_3*pt4[i]+t0t1t1*pt2[i])*1000)/1000;// eslint-disable-line camelcase\nbezierSegmentPoints[i*4+3]=math.round((u1u1u1*pt1[i]+t1u1u1_3*pt3[i]+t1t1u1_3*pt4[i]+t1t1t1*pt2[i])*1000)/1000;// eslint-disable-line camelcase\n}return bezierSegmentPoints;}return{getSegmentsLength:getSegmentsLength,getNewSegment:getNewSegment,getPointInSegment:getPointInSegment,buildBezierData:buildBezierData,pointOnLine2D:pointOnLine2D,pointOnLine3D:pointOnLine3D};}var bez=bezFunction();var PropertyFactory=function(){var initFrame=initialDefaultFrame;var mathAbs=Math.abs;function interpolateValue(frameNum,caching){var offsetTime=this.offsetTime;var newValue;if(this.propType==='multidimensional'){newValue=createTypedArray('float32',this.pv.length);}var iterationIndex=caching.lastIndex;var i=iterationIndex;var len=this.keyframes.length-1;var flag=true;var keyData;var nextKeyData;var keyframeMetadata;while(flag){keyData=this.keyframes[i];nextKeyData=this.keyframes[i+1];if(i===len-1&&frameNum>=nextKeyData.t-offsetTime){if(keyData.h){keyData=nextKeyData;}iterationIndex=0;break;}if(nextKeyData.t-offsetTime>frameNum){iterationIndex=i;break;}if(i<len-1){i+=1;}else{iterationIndex=0;flag=false;}}keyframeMetadata=this.keyframesMetadata[i]||{};var k;var kLen;var perc;var jLen;var j;var fnc;var nextKeyTime=nextKeyData.t-offsetTime;var keyTime=keyData.t-offsetTime;var endValue;if(keyData.to){if(!keyframeMetadata.bezierData){keyframeMetadata.bezierData=bez.buildBezierData(keyData.s,nextKeyData.s||keyData.e,keyData.to,keyData.ti);}var bezierData=keyframeMetadata.bezierData;if(frameNum>=nextKeyTime||frameNum<keyTime){var ind=frameNum>=nextKeyTime?bezierData.points.length-1:0;kLen=bezierData.points[ind].point.length;for(k=0;k<kLen;k+=1){newValue[k]=bezierData.points[ind].point[k];}// caching._lastKeyframeIndex = -1;\n}else{if(keyframeMetadata.__fnct){fnc=keyframeMetadata.__fnct;}else{fnc=BezierFactory.getBezierEasing(keyData.o.x,keyData.o.y,keyData.i.x,keyData.i.y,keyData.n).get;keyframeMetadata.__fnct=fnc;}perc=fnc((frameNum-keyTime)/(nextKeyTime-keyTime));var distanceInLine=bezierData.segmentLength*perc;var segmentPerc;var addedLength=caching.lastFrame<frameNum&&caching._lastKeyframeIndex===i?caching._lastAddedLength:0;j=caching.lastFrame<frameNum&&caching._lastKeyframeIndex===i?caching._lastPoint:0;flag=true;jLen=bezierData.points.length;while(flag){addedLength+=bezierData.points[j].partialLength;if(distanceInLine===0||perc===0||j===bezierData.points.length-1){kLen=bezierData.points[j].point.length;for(k=0;k<kLen;k+=1){newValue[k]=bezierData.points[j].point[k];}break;}else if(distanceInLine>=addedLength&&distanceInLine<addedLength+bezierData.points[j+1].partialLength){segmentPerc=(distanceInLine-addedLength)/bezierData.points[j+1].partialLength;kLen=bezierData.points[j].point.length;for(k=0;k<kLen;k+=1){newValue[k]=bezierData.points[j].point[k]+(bezierData.points[j+1].point[k]-bezierData.points[j].point[k])*segmentPerc;}break;}if(j<jLen-1){j+=1;}else{flag=false;}}caching._lastPoint=j;caching._lastAddedLength=addedLength-bezierData.points[j].partialLength;caching._lastKeyframeIndex=i;}}else{var outX;var outY;var inX;var inY;var keyValue;len=keyData.s.length;endValue=nextKeyData.s||keyData.e;if(this.sh&&keyData.h!==1){if(frameNum>=nextKeyTime){newValue[0]=endValue[0];newValue[1]=endValue[1];newValue[2]=endValue[2];}else if(frameNum<=keyTime){newValue[0]=keyData.s[0];newValue[1]=keyData.s[1];newValue[2]=keyData.s[2];}else{var quatStart=createQuaternion(keyData.s);var quatEnd=createQuaternion(endValue);var time=(frameNum-keyTime)/(nextKeyTime-keyTime);quaternionToEuler(newValue,slerp(quatStart,quatEnd,time));}}else{for(i=0;i<len;i+=1){if(keyData.h!==1){if(frameNum>=nextKeyTime){perc=1;}else if(frameNum<keyTime){perc=0;}else{if(keyData.o.x.constructor===Array){if(!keyframeMetadata.__fnct){keyframeMetadata.__fnct=[];}if(!keyframeMetadata.__fnct[i]){outX=keyData.o.x[i]===undefined?keyData.o.x[0]:keyData.o.x[i];outY=keyData.o.y[i]===undefined?keyData.o.y[0]:keyData.o.y[i];inX=keyData.i.x[i]===undefined?keyData.i.x[0]:keyData.i.x[i];inY=keyData.i.y[i]===undefined?keyData.i.y[0]:keyData.i.y[i];fnc=BezierFactory.getBezierEasing(outX,outY,inX,inY).get;keyframeMetadata.__fnct[i]=fnc;}else{fnc=keyframeMetadata.__fnct[i];}}else if(!keyframeMetadata.__fnct){outX=keyData.o.x;outY=keyData.o.y;inX=keyData.i.x;inY=keyData.i.y;fnc=BezierFactory.getBezierEasing(outX,outY,inX,inY).get;keyData.keyframeMetadata=fnc;}else{fnc=keyframeMetadata.__fnct;}perc=fnc((frameNum-keyTime)/(nextKeyTime-keyTime));}}endValue=nextKeyData.s||keyData.e;keyValue=keyData.h===1?keyData.s[i]:keyData.s[i]+(endValue[i]-keyData.s[i])*perc;if(this.propType==='multidimensional'){newValue[i]=keyValue;}else{newValue=keyValue;}}}}caching.lastIndex=iterationIndex;return newValue;}// based on @Toji's https://github.com/toji/gl-matrix/\nfunction slerp(a,b,t){var out=[];var ax=a[0];var ay=a[1];var az=a[2];var aw=a[3];var bx=b[0];var by=b[1];var bz=b[2];var bw=b[3];var omega;var cosom;var sinom;var scale0;var scale1;cosom=ax*bx+ay*by+az*bz+aw*bw;if(cosom<0.0){cosom=-cosom;bx=-bx;by=-by;bz=-bz;bw=-bw;}if(1.0-cosom>0.000001){omega=Math.acos(cosom);sinom=Math.sin(omega);scale0=Math.sin((1.0-t)*omega)/sinom;scale1=Math.sin(t*omega)/sinom;}else{scale0=1.0-t;scale1=t;}out[0]=scale0*ax+scale1*bx;out[1]=scale0*ay+scale1*by;out[2]=scale0*az+scale1*bz;out[3]=scale0*aw+scale1*bw;return out;}function quaternionToEuler(out,quat){var qx=quat[0];var qy=quat[1];var qz=quat[2];var qw=quat[3];var heading=Math.atan2(2*qy*qw-2*qx*qz,1-2*qy*qy-2*qz*qz);var attitude=Math.asin(2*qx*qy+2*qz*qw);var bank=Math.atan2(2*qx*qw-2*qy*qz,1-2*qx*qx-2*qz*qz);out[0]=heading/degToRads;out[1]=attitude/degToRads;out[2]=bank/degToRads;}function createQuaternion(values){var heading=values[0]*degToRads;var attitude=values[1]*degToRads;var bank=values[2]*degToRads;var c1=Math.cos(heading/2);var c2=Math.cos(attitude/2);var c3=Math.cos(bank/2);var s1=Math.sin(heading/2);var s2=Math.sin(attitude/2);var s3=Math.sin(bank/2);var w=c1*c2*c3-s1*s2*s3;var x=s1*s2*c3+c1*c2*s3;var y=s1*c2*c3+c1*s2*s3;var z=c1*s2*c3-s1*c2*s3;return[x,y,z,w];}function getValueAtCurrentTime(){var frameNum=this.comp.renderedFrame-this.offsetTime;var initTime=this.keyframes[0].t-this.offsetTime;var endTime=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(frameNum===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=endTime&&frameNum>=endTime||this._caching.lastFrame<initTime&&frameNum<initTime))){if(this._caching.lastFrame>=frameNum){this._caching._lastKeyframeIndex=-1;this._caching.lastIndex=0;}var renderResult=this.interpolateValue(frameNum,this._caching);this.pv=renderResult;}this._caching.lastFrame=frameNum;return this.pv;}function setVValue(val){var multipliedValue;if(this.propType==='unidimensional'){multipliedValue=val*this.mult;if(mathAbs(this.v-multipliedValue)>0.00001){this.v=multipliedValue;this._mdf=true;}}else{var i=0;var len=this.v.length;while(i<len){multipliedValue=val[i]*this.mult;if(mathAbs(this.v[i]-multipliedValue)>0.00001){this.v[i]=multipliedValue;this._mdf=true;}i+=1;}}}function processEffectsSequence(){if(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length){return;}if(this.lock){this.setVValue(this.pv);return;}this.lock=true;this._mdf=this._isFirstFrame;var i;var len=this.effectsSequence.length;var finalValue=this.kf?this.pv:this.data.k;for(i=0;i<len;i+=1){finalValue=this.effectsSequence[i](finalValue);}this.setVValue(finalValue);this._isFirstFrame=false;this.lock=false;this.frameId=this.elem.globalData.frameId;}function addEffect(effectFunction){this.effectsSequence.push(effectFunction);this.container.addDynamicProperty(this);}function ValueProperty(elem,data,mult,container){this.propType='unidimensional';this.mult=mult||1;this.data=data;this.v=mult?data.k*mult:data.k;this.pv=data.k;this._mdf=false;this.elem=elem;this.container=container;this.comp=elem.comp;this.k=false;this.kf=false;this.vel=0;this.effectsSequence=[];this._isFirstFrame=true;this.getValue=processEffectsSequence;this.setVValue=setVValue;this.addEffect=addEffect;}function MultiDimensionalProperty(elem,data,mult,container){this.propType='multidimensional';this.mult=mult||1;this.data=data;this._mdf=false;this.elem=elem;this.container=container;this.comp=elem.comp;this.k=false;this.kf=false;this.frameId=-1;var i;var len=data.k.length;this.v=createTypedArray('float32',len);this.pv=createTypedArray('float32',len);this.vel=createTypedArray('float32',len);for(i=0;i<len;i+=1){this.v[i]=data.k[i]*this.mult;this.pv[i]=data.k[i];}this._isFirstFrame=true;this.effectsSequence=[];this.getValue=processEffectsSequence;this.setVValue=setVValue;this.addEffect=addEffect;}function KeyframedValueProperty(elem,data,mult,container){this.propType='unidimensional';this.keyframes=data.k;this.keyframesMetadata=[];this.offsetTime=elem.data.st;this.frameId=-1;this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1};this.k=true;this.kf=true;this.data=data;this.mult=mult||1;this.elem=elem;this.container=container;this.comp=elem.comp;this.v=initFrame;this.pv=initFrame;this._isFirstFrame=true;this.getValue=processEffectsSequence;this.setVValue=setVValue;this.interpolateValue=interpolateValue;this.effectsSequence=[getValueAtCurrentTime.bind(this)];this.addEffect=addEffect;}function KeyframedMultidimensionalProperty(elem,data,mult,container){this.propType='multidimensional';var i;var len=data.k.length;var s;var e;var to;var ti;for(i=0;i<len-1;i+=1){if(data.k[i].to&&data.k[i].s&&data.k[i+1]&&data.k[i+1].s){s=data.k[i].s;e=data.k[i+1].s;to=data.k[i].to;ti=data.k[i].ti;if(s.length===2&&!(s[0]===e[0]&&s[1]===e[1])&&bez.pointOnLine2D(s[0],s[1],e[0],e[1],s[0]+to[0],s[1]+to[1])&&bez.pointOnLine2D(s[0],s[1],e[0],e[1],e[0]+ti[0],e[1]+ti[1])||s.length===3&&!(s[0]===e[0]&&s[1]===e[1]&&s[2]===e[2])&&bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],s[0]+to[0],s[1]+to[1],s[2]+to[2])&&bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],e[0]+ti[0],e[1]+ti[1],e[2]+ti[2])){data.k[i].to=null;data.k[i].ti=null;}if(s[0]===e[0]&&s[1]===e[1]&&to[0]===0&&to[1]===0&&ti[0]===0&&ti[1]===0){if(s.length===2||s[2]===e[2]&&to[2]===0&&ti[2]===0){data.k[i].to=null;data.k[i].ti=null;}}}}this.effectsSequence=[getValueAtCurrentTime.bind(this)];this.data=data;this.keyframes=data.k;this.keyframesMetadata=[];this.offsetTime=elem.data.st;this.k=true;this.kf=true;this._isFirstFrame=true;this.mult=mult||1;this.elem=elem;this.container=container;this.comp=elem.comp;this.getValue=processEffectsSequence;this.setVValue=setVValue;this.interpolateValue=interpolateValue;this.frameId=-1;var arrLen=data.k[0].s.length;this.v=createTypedArray('float32',arrLen);this.pv=createTypedArray('float32',arrLen);for(i=0;i<arrLen;i+=1){this.v[i]=initFrame;this.pv[i]=initFrame;}this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray('float32',arrLen)};this.addEffect=addEffect;}function getProp(elem,data,type,mult,container){var p;if(!data.k.length){p=new ValueProperty(elem,data,mult,container);}else if(typeof data.k[0]==='number'){p=new MultiDimensionalProperty(elem,data,mult,container);}else{switch(type){case 0:p=new KeyframedValueProperty(elem,data,mult,container);break;case 1:p=new KeyframedMultidimensionalProperty(elem,data,mult,container);break;default:break;}}if(p.effectsSequence.length){container.addDynamicProperty(p);}return p;}var ob={getProp:getProp};return ob;}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function addDynamicProperty(prop){if(this.dynamicProperties.indexOf(prop)===-1){this.dynamicProperties.push(prop);this.container.addDynamicProperty(this);this._isAnimated=true;}},iterateDynamicProperties:function iterateDynamicProperties(){this._mdf=false;var i;var len=this.dynamicProperties.length;for(i=0;i<len;i+=1){this.dynamicProperties[i].getValue();if(this.dynamicProperties[i]._mdf){this._mdf=true;}}},initDynamicPropertyContainer:function initDynamicPropertyContainer(container){this.container=container;this.dynamicProperties=[];this._mdf=false;this._isAnimated=false;}};var pointPool=function(){function create(){return createTypedArray('float32',2);}return poolFactory(8,create);}();function ShapePath(){this.c=false;this._length=0;this._maxLength=8;this.v=createSizedArray(this._maxLength);this.o=createSizedArray(this._maxLength);this.i=createSizedArray(this._maxLength);}ShapePath.prototype.setPathData=function(closed,len){this.c=closed;this.setLength(len);var i=0;while(i<len){this.v[i]=pointPool.newElement();this.o[i]=pointPool.newElement();this.i[i]=pointPool.newElement();i+=1;}};ShapePath.prototype.setLength=function(len){while(this._maxLength<len){this.doubleArrayLength();}this._length=len;};ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength));this.i=this.i.concat(createSizedArray(this._maxLength));this.o=this.o.concat(createSizedArray(this._maxLength));this._maxLength*=2;};ShapePath.prototype.setXYAt=function(x,y,type,pos,replace){var arr;this._length=Math.max(this._length,pos+1);if(this._length>=this._maxLength){this.doubleArrayLength();}switch(type){case'v':arr=this.v;break;case'i':arr=this.i;break;case'o':arr=this.o;break;default:arr=[];break;}if(!arr[pos]||arr[pos]&&!replace){arr[pos]=pointPool.newElement();}arr[pos][0]=x;arr[pos][1]=y;};ShapePath.prototype.setTripleAt=function(vX,vY,oX,oY,iX,iY,pos,replace){this.setXYAt(vX,vY,'v',pos,replace);this.setXYAt(oX,oY,'o',pos,replace);this.setXYAt(iX,iY,'i',pos,replace);};ShapePath.prototype.reverse=function(){var newPath=new ShapePath();newPath.setPathData(this.c,this._length);var vertices=this.v;var outPoints=this.o;var inPoints=this.i;var init=0;if(this.c){newPath.setTripleAt(vertices[0][0],vertices[0][1],inPoints[0][0],inPoints[0][1],outPoints[0][0],outPoints[0][1],0,false);init=1;}var cnt=this._length-1;var len=this._length;var i;for(i=init;i<len;i+=1){newPath.setTripleAt(vertices[cnt][0],vertices[cnt][1],inPoints[cnt][0],inPoints[cnt][1],outPoints[cnt][0],outPoints[cnt][1],i,false);cnt-=1;}return newPath;};var shapePool=function(){function create(){return new ShapePath();}function release(shapePath){var len=shapePath._length;var i;for(i=0;i<len;i+=1){pointPool.release(shapePath.v[i]);pointPool.release(shapePath.i[i]);pointPool.release(shapePath.o[i]);shapePath.v[i]=null;shapePath.i[i]=null;shapePath.o[i]=null;}shapePath._length=0;shapePath.c=false;}function clone(shape){var cloned=factory.newElement();var i;var len=shape._length===undefined?shape.v.length:shape._length;cloned.setLength(len);cloned.c=shape.c;for(i=0;i<len;i+=1){cloned.setTripleAt(shape.v[i][0],shape.v[i][1],shape.o[i][0],shape.o[i][1],shape.i[i][0],shape.i[i][1],i);}return cloned;}var factory=poolFactory(4,create,release);factory.clone=clone;return factory;}();function ShapeCollection(){this._length=0;this._maxLength=4;this.shapes=createSizedArray(this._maxLength);}ShapeCollection.prototype.addShape=function(shapeData){if(this._length===this._maxLength){this.shapes=this.shapes.concat(createSizedArray(this._maxLength));this._maxLength*=2;}this.shapes[this._length]=shapeData;this._length+=1;};ShapeCollection.prototype.releaseShapes=function(){var i;for(i=0;i<this._length;i+=1){shapePool.release(this.shapes[i]);}this._length=0;};var shapeCollectionPool=function(){var ob={newShapeCollection:newShapeCollection,release:release};var _length=0;var _maxLength=4;var pool=createSizedArray(_maxLength);function newShapeCollection(){var shapeCollection;if(_length){_length-=1;shapeCollection=pool[_length];}else{shapeCollection=new ShapeCollection();}return shapeCollection;}function release(shapeCollection){var i;var len=shapeCollection._length;for(i=0;i<len;i+=1){shapePool.release(shapeCollection.shapes[i]);}shapeCollection._length=0;if(_length===_maxLength){pool=pooling[\"double\"](pool);_maxLength*=2;}pool[_length]=shapeCollection;_length+=1;}return ob;}();var ShapePropertyFactory=function(){var initFrame=-999999;function interpolateShape(frameNum,previousValue,caching){var iterationIndex=caching.lastIndex;var keyPropS;var keyPropE;var isHold;var j;var k;var jLen;var kLen;var perc;var vertexValue;var kf=this.keyframes;if(frameNum<kf[0].t-this.offsetTime){keyPropS=kf[0].s[0];isHold=true;iterationIndex=0;}else if(frameNum>=kf[kf.length-1].t-this.offsetTime){keyPropS=kf[kf.length-1].s?kf[kf.length-1].s[0]:kf[kf.length-2].e[0];/* if(kf[kf.length - 1].s){\r\n                  keyPropS = kf[kf.length - 1].s[0];\r\n              }else{\r\n                  keyPropS = kf[kf.length - 2].e[0];\r\n              } */isHold=true;}else{var i=iterationIndex;var len=kf.length-1;var flag=true;var keyData;var nextKeyData;var keyframeMetadata;while(flag){keyData=kf[i];nextKeyData=kf[i+1];if(nextKeyData.t-this.offsetTime>frameNum){break;}if(i<len-1){i+=1;}else{flag=false;}}keyframeMetadata=this.keyframesMetadata[i]||{};isHold=keyData.h===1;iterationIndex=i;if(!isHold){if(frameNum>=nextKeyData.t-this.offsetTime){perc=1;}else if(frameNum<keyData.t-this.offsetTime){perc=0;}else{var fnc;if(keyframeMetadata.__fnct){fnc=keyframeMetadata.__fnct;}else{fnc=BezierFactory.getBezierEasing(keyData.o.x,keyData.o.y,keyData.i.x,keyData.i.y).get;keyframeMetadata.__fnct=fnc;}perc=fnc((frameNum-(keyData.t-this.offsetTime))/(nextKeyData.t-this.offsetTime-(keyData.t-this.offsetTime)));}keyPropE=nextKeyData.s?nextKeyData.s[0]:keyData.e[0];}keyPropS=keyData.s[0];}jLen=previousValue._length;kLen=keyPropS.i[0].length;caching.lastIndex=iterationIndex;for(j=0;j<jLen;j+=1){for(k=0;k<kLen;k+=1){vertexValue=isHold?keyPropS.i[j][k]:keyPropS.i[j][k]+(keyPropE.i[j][k]-keyPropS.i[j][k])*perc;previousValue.i[j][k]=vertexValue;vertexValue=isHold?keyPropS.o[j][k]:keyPropS.o[j][k]+(keyPropE.o[j][k]-keyPropS.o[j][k])*perc;previousValue.o[j][k]=vertexValue;vertexValue=isHold?keyPropS.v[j][k]:keyPropS.v[j][k]+(keyPropE.v[j][k]-keyPropS.v[j][k])*perc;previousValue.v[j][k]=vertexValue;}}}function interpolateShapeCurrentTime(){var frameNum=this.comp.renderedFrame-this.offsetTime;var initTime=this.keyframes[0].t-this.offsetTime;var endTime=this.keyframes[this.keyframes.length-1].t-this.offsetTime;var lastFrame=this._caching.lastFrame;if(!(lastFrame!==initFrame&&(lastFrame<initTime&&frameNum<initTime||lastFrame>endTime&&frameNum>endTime))){/// /\nthis._caching.lastIndex=lastFrame<frameNum?this._caching.lastIndex:0;this.interpolateShape(frameNum,this.pv,this._caching);/// /\n}this._caching.lastFrame=frameNum;return this.pv;}function resetShape(){this.paths=this.localShapeCollection;}function shapesEqual(shape1,shape2){if(shape1._length!==shape2._length||shape1.c!==shape2.c){return false;}var i;var len=shape1._length;for(i=0;i<len;i+=1){if(shape1.v[i][0]!==shape2.v[i][0]||shape1.v[i][1]!==shape2.v[i][1]||shape1.o[i][0]!==shape2.o[i][0]||shape1.o[i][1]!==shape2.o[i][1]||shape1.i[i][0]!==shape2.i[i][0]||shape1.i[i][1]!==shape2.i[i][1]){return false;}}return true;}function setVValue(newPath){if(!shapesEqual(this.v,newPath)){this.v=shapePool.clone(newPath);this.localShapeCollection.releaseShapes();this.localShapeCollection.addShape(this.v);this._mdf=true;this.paths=this.localShapeCollection;}}function processEffectsSequence(){if(this.elem.globalData.frameId===this.frameId){return;}if(!this.effectsSequence.length){this._mdf=false;return;}if(this.lock){this.setVValue(this.pv);return;}this.lock=true;this._mdf=false;var finalValue;if(this.kf){finalValue=this.pv;}else if(this.data.ks){finalValue=this.data.ks.k;}else{finalValue=this.data.pt.k;}var i;var len=this.effectsSequence.length;for(i=0;i<len;i+=1){finalValue=this.effectsSequence[i](finalValue);}this.setVValue(finalValue);this.lock=false;this.frameId=this.elem.globalData.frameId;}function ShapeProperty(elem,data,type){this.propType='shape';this.comp=elem.comp;this.container=elem;this.elem=elem;this.data=data;this.k=false;this.kf=false;this._mdf=false;var pathData=type===3?data.pt.k:data.ks.k;this.v=shapePool.clone(pathData);this.pv=shapePool.clone(this.v);this.localShapeCollection=shapeCollectionPool.newShapeCollection();this.paths=this.localShapeCollection;this.paths.addShape(this.v);this.reset=resetShape;this.effectsSequence=[];}function addEffect(effectFunction){this.effectsSequence.push(effectFunction);this.container.addDynamicProperty(this);}ShapeProperty.prototype.interpolateShape=interpolateShape;ShapeProperty.prototype.getValue=processEffectsSequence;ShapeProperty.prototype.setVValue=setVValue;ShapeProperty.prototype.addEffect=addEffect;function KeyframedShapeProperty(elem,data,type){this.propType='shape';this.comp=elem.comp;this.elem=elem;this.container=elem;this.offsetTime=elem.data.st;this.keyframes=type===3?data.pt.k:data.ks.k;this.keyframesMetadata=[];this.k=true;this.kf=true;var len=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement();this.v.setPathData(this.keyframes[0].s[0].c,len);this.pv=shapePool.clone(this.v);this.localShapeCollection=shapeCollectionPool.newShapeCollection();this.paths=this.localShapeCollection;this.paths.addShape(this.v);this.lastFrame=initFrame;this.reset=resetShape;this._caching={lastFrame:initFrame,lastIndex:0};this.effectsSequence=[interpolateShapeCurrentTime.bind(this)];}KeyframedShapeProperty.prototype.getValue=processEffectsSequence;KeyframedShapeProperty.prototype.interpolateShape=interpolateShape;KeyframedShapeProperty.prototype.setVValue=setVValue;KeyframedShapeProperty.prototype.addEffect=addEffect;var EllShapeProperty=function(){var cPoint=roundCorner;function EllShapePropertyFactory(elem,data){this.v=shapePool.newElement();this.v.setPathData(true,4);this.localShapeCollection=shapeCollectionPool.newShapeCollection();this.paths=this.localShapeCollection;this.localShapeCollection.addShape(this.v);this.d=data.d;this.elem=elem;this.comp=elem.comp;this.frameId=-1;this.initDynamicPropertyContainer(elem);this.p=PropertyFactory.getProp(elem,data.p,1,0,this);this.s=PropertyFactory.getProp(elem,data.s,1,0,this);if(this.dynamicProperties.length){this.k=true;}else{this.k=false;this.convertEllToPath();}}EllShapePropertyFactory.prototype={reset:resetShape,getValue:function getValue(){if(this.elem.globalData.frameId===this.frameId){return;}this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();if(this._mdf){this.convertEllToPath();}},convertEllToPath:function convertEllToPath(){var p0=this.p.v[0];var p1=this.p.v[1];var s0=this.s.v[0]/2;var s1=this.s.v[1]/2;var _cw=this.d!==3;var _v=this.v;_v.v[0][0]=p0;_v.v[0][1]=p1-s1;_v.v[1][0]=_cw?p0+s0:p0-s0;_v.v[1][1]=p1;_v.v[2][0]=p0;_v.v[2][1]=p1+s1;_v.v[3][0]=_cw?p0-s0:p0+s0;_v.v[3][1]=p1;_v.i[0][0]=_cw?p0-s0*cPoint:p0+s0*cPoint;_v.i[0][1]=p1-s1;_v.i[1][0]=_cw?p0+s0:p0-s0;_v.i[1][1]=p1-s1*cPoint;_v.i[2][0]=_cw?p0+s0*cPoint:p0-s0*cPoint;_v.i[2][1]=p1+s1;_v.i[3][0]=_cw?p0-s0:p0+s0;_v.i[3][1]=p1+s1*cPoint;_v.o[0][0]=_cw?p0+s0*cPoint:p0-s0*cPoint;_v.o[0][1]=p1-s1;_v.o[1][0]=_cw?p0+s0:p0-s0;_v.o[1][1]=p1+s1*cPoint;_v.o[2][0]=_cw?p0-s0*cPoint:p0+s0*cPoint;_v.o[2][1]=p1+s1;_v.o[3][0]=_cw?p0-s0:p0+s0;_v.o[3][1]=p1-s1*cPoint;}};extendPrototype([DynamicPropertyContainer],EllShapePropertyFactory);return EllShapePropertyFactory;}();var StarShapeProperty=function(){function StarShapePropertyFactory(elem,data){this.v=shapePool.newElement();this.v.setPathData(true,0);this.elem=elem;this.comp=elem.comp;this.data=data;this.frameId=-1;this.d=data.d;this.initDynamicPropertyContainer(elem);if(data.sy===1){this.ir=PropertyFactory.getProp(elem,data.ir,0,0,this);this.is=PropertyFactory.getProp(elem,data.is,0,0.01,this);this.convertToPath=this.convertStarToPath;}else{this.convertToPath=this.convertPolygonToPath;}this.pt=PropertyFactory.getProp(elem,data.pt,0,0,this);this.p=PropertyFactory.getProp(elem,data.p,1,0,this);this.r=PropertyFactory.getProp(elem,data.r,0,degToRads,this);this.or=PropertyFactory.getProp(elem,data.or,0,0,this);this.os=PropertyFactory.getProp(elem,data.os,0,0.01,this);this.localShapeCollection=shapeCollectionPool.newShapeCollection();this.localShapeCollection.addShape(this.v);this.paths=this.localShapeCollection;if(this.dynamicProperties.length){this.k=true;}else{this.k=false;this.convertToPath();}}StarShapePropertyFactory.prototype={reset:resetShape,getValue:function getValue(){if(this.elem.globalData.frameId===this.frameId){return;}this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();if(this._mdf){this.convertToPath();}},convertStarToPath:function convertStarToPath(){var numPts=Math.floor(this.pt.v)*2;var angle=Math.PI*2/numPts;/* this.v.v.length = numPts;\r\n                  this.v.i.length = numPts;\r\n                  this.v.o.length = numPts; */var longFlag=true;var longRad=this.or.v;var shortRad=this.ir.v;var longRound=this.os.v;var shortRound=this.is.v;var longPerimSegment=2*Math.PI*longRad/(numPts*2);var shortPerimSegment=2*Math.PI*shortRad/(numPts*2);var i;var rad;var roundness;var perimSegment;var currentAng=-Math.PI/2;currentAng+=this.r.v;var dir=this.data.d===3?-1:1;this.v._length=0;for(i=0;i<numPts;i+=1){rad=longFlag?longRad:shortRad;roundness=longFlag?longRound:shortRound;perimSegment=longFlag?longPerimSegment:shortPerimSegment;var x=rad*Math.cos(currentAng);var y=rad*Math.sin(currentAng);var ox=x===0&&y===0?0:y/Math.sqrt(x*x+y*y);var oy=x===0&&y===0?0:-x/Math.sqrt(x*x+y*y);x+=+this.p.v[0];y+=+this.p.v[1];this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir,i,true);/* this.v.v[i] = [x,y];\r\n                      this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                      this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                      this.v._length = numPts; */longFlag=!longFlag;currentAng+=angle*dir;}},convertPolygonToPath:function convertPolygonToPath(){var numPts=Math.floor(this.pt.v);var angle=Math.PI*2/numPts;var rad=this.or.v;var roundness=this.os.v;var perimSegment=2*Math.PI*rad/(numPts*4);var i;var currentAng=-Math.PI*0.5;var dir=this.data.d===3?-1:1;currentAng+=this.r.v;this.v._length=0;for(i=0;i<numPts;i+=1){var x=rad*Math.cos(currentAng);var y=rad*Math.sin(currentAng);var ox=x===0&&y===0?0:y/Math.sqrt(x*x+y*y);var oy=x===0&&y===0?0:-x/Math.sqrt(x*x+y*y);x+=+this.p.v[0];y+=+this.p.v[1];this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir,i,true);currentAng+=angle*dir;}this.paths.length=0;this.paths[0]=this.v;}};extendPrototype([DynamicPropertyContainer],StarShapePropertyFactory);return StarShapePropertyFactory;}();var RectShapeProperty=function(){function RectShapePropertyFactory(elem,data){this.v=shapePool.newElement();this.v.c=true;this.localShapeCollection=shapeCollectionPool.newShapeCollection();this.localShapeCollection.addShape(this.v);this.paths=this.localShapeCollection;this.elem=elem;this.comp=elem.comp;this.frameId=-1;this.d=data.d;this.initDynamicPropertyContainer(elem);this.p=PropertyFactory.getProp(elem,data.p,1,0,this);this.s=PropertyFactory.getProp(elem,data.s,1,0,this);this.r=PropertyFactory.getProp(elem,data.r,0,0,this);if(this.dynamicProperties.length){this.k=true;}else{this.k=false;this.convertRectToPath();}}RectShapePropertyFactory.prototype={convertRectToPath:function convertRectToPath(){var p0=this.p.v[0];var p1=this.p.v[1];var v0=this.s.v[0]/2;var v1=this.s.v[1]/2;var round=bmMin(v0,v1,this.r.v);var cPoint=round*(1-roundCorner);this.v._length=0;if(this.d===2||this.d===1){this.v.setTripleAt(p0+v0,p1-v1+round,p0+v0,p1-v1+round,p0+v0,p1-v1+cPoint,0,true);this.v.setTripleAt(p0+v0,p1+v1-round,p0+v0,p1+v1-cPoint,p0+v0,p1+v1-round,1,true);if(round!==0){this.v.setTripleAt(p0+v0-round,p1+v1,p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,2,true);this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,p0-v0+round,p1+v1,3,true);this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,4,true);this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,p0-v0,p1-v1+round,5,true);this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,6,true);this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,p0+v0-round,p1-v1,7,true);}else{this.v.setTripleAt(p0-v0,p1+v1,p0-v0+cPoint,p1+v1,p0-v0,p1+v1,2);this.v.setTripleAt(p0-v0,p1-v1,p0-v0,p1-v1+cPoint,p0-v0,p1-v1,3);}}else{this.v.setTripleAt(p0+v0,p1-v1+round,p0+v0,p1-v1+cPoint,p0+v0,p1-v1+round,0,true);if(round!==0){this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,1,true);this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,p0-v0+round,p1-v1,2,true);this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,3,true);this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,p0-v0,p1+v1-round,4,true);this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,5,true);this.v.setTripleAt(p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,p0+v0-round,p1+v1,6,true);this.v.setTripleAt(p0+v0,p1+v1-round,p0+v0,p1+v1-round,p0+v0,p1+v1-cPoint,7,true);}else{this.v.setTripleAt(p0-v0,p1-v1,p0-v0+cPoint,p1-v1,p0-v0,p1-v1,1,true);this.v.setTripleAt(p0-v0,p1+v1,p0-v0,p1+v1-cPoint,p0-v0,p1+v1,2,true);this.v.setTripleAt(p0+v0,p1+v1,p0+v0-cPoint,p1+v1,p0+v0,p1+v1,3,true);}}},getValue:function getValue(){if(this.elem.globalData.frameId===this.frameId){return;}this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();if(this._mdf){this.convertRectToPath();}},reset:resetShape};extendPrototype([DynamicPropertyContainer],RectShapePropertyFactory);return RectShapePropertyFactory;}();function getShapeProp(elem,data,type){var prop;if(type===3||type===4){var dataProp=type===3?data.pt:data.ks;var keys=dataProp.k;if(keys.length){prop=new KeyframedShapeProperty(elem,data,type);}else{prop=new ShapeProperty(elem,data,type);}}else if(type===5){prop=new RectShapeProperty(elem,data);}else if(type===6){prop=new EllShapeProperty(elem,data);}else if(type===7){prop=new StarShapeProperty(elem,data);}if(prop.k){elem.addDynamicProperty(prop);}return prop;}function getConstructorFunction(){return ShapeProperty;}function getKeyframedConstructorFunction(){return KeyframedShapeProperty;}var ob={};ob.getShapeProp=getShapeProp;ob.getConstructorFunction=getConstructorFunction;ob.getKeyframedConstructorFunction=getKeyframedConstructorFunction;return ob;}();/*!\r\n   Transformation Matrix v2.0\r\n   (c) Epistemex 2014-2015\r\n   www.epistemex.com\r\n   By Ken Fyrstenberg\r\n   Contributions by leeoniya.\r\n   License: MIT, header required.\r\n   */ /**\r\n   * 2D transformation matrix object initialized with identity matrix.\r\n   *\r\n   * The matrix can synchronize a canvas context by supplying the context\r\n   * as an argument, or later apply current absolute transform to an\r\n   * existing context.\r\n   *\r\n   * All values are handled as floating point values.\r\n   *\r\n   * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n   * @prop {number} a - scale x\r\n   * @prop {number} b - shear y\r\n   * @prop {number} c - shear x\r\n   * @prop {number} d - scale y\r\n   * @prop {number} e - translate x\r\n   * @prop {number} f - translate y\r\n   * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n   * @constructor\r\n   */var Matrix=function(){var _cos=Math.cos;var _sin=Math.sin;var _tan=Math.tan;var _rnd=Math.round;function reset(){this.props[0]=1;this.props[1]=0;this.props[2]=0;this.props[3]=0;this.props[4]=0;this.props[5]=1;this.props[6]=0;this.props[7]=0;this.props[8]=0;this.props[9]=0;this.props[10]=1;this.props[11]=0;this.props[12]=0;this.props[13]=0;this.props[14]=0;this.props[15]=1;return this;}function rotate(angle){if(angle===0){return this;}var mCos=_cos(angle);var mSin=_sin(angle);return this._t(mCos,-mSin,0,0,mSin,mCos,0,0,0,0,1,0,0,0,0,1);}function rotateX(angle){if(angle===0){return this;}var mCos=_cos(angle);var mSin=_sin(angle);return this._t(1,0,0,0,0,mCos,-mSin,0,0,mSin,mCos,0,0,0,0,1);}function rotateY(angle){if(angle===0){return this;}var mCos=_cos(angle);var mSin=_sin(angle);return this._t(mCos,0,mSin,0,0,1,0,0,-mSin,0,mCos,0,0,0,0,1);}function rotateZ(angle){if(angle===0){return this;}var mCos=_cos(angle);var mSin=_sin(angle);return this._t(mCos,-mSin,0,0,mSin,mCos,0,0,0,0,1,0,0,0,0,1);}function shear(sx,sy){return this._t(1,sy,sx,1,0,0);}function skew(ax,ay){return this.shear(_tan(ax),_tan(ay));}function skewFromAxis(ax,angle){var mCos=_cos(angle);var mSin=_sin(angle);return this._t(mCos,mSin,0,0,-mSin,mCos,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,_tan(ax),1,0,0,0,0,1,0,0,0,0,1)._t(mCos,-mSin,0,0,mSin,mCos,0,0,0,0,1,0,0,0,0,1);// return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n}function scale(sx,sy,sz){if(!sz&&sz!==0){sz=1;}if(sx===1&&sy===1&&sz===1){return this;}return this._t(sx,0,0,0,0,sy,0,0,0,0,sz,0,0,0,0,1);}function setTransform(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){this.props[0]=a;this.props[1]=b;this.props[2]=c;this.props[3]=d;this.props[4]=e;this.props[5]=f;this.props[6]=g;this.props[7]=h;this.props[8]=i;this.props[9]=j;this.props[10]=k;this.props[11]=l;this.props[12]=m;this.props[13]=n;this.props[14]=o;this.props[15]=p;return this;}function translate(tx,ty,tz){tz=tz||0;if(tx!==0||ty!==0||tz!==0){return this._t(1,0,0,0,0,1,0,0,0,0,1,0,tx,ty,tz,1);}return this;}function transform(a2,b2,c2,d2,e2,f2,g2,h2,i2,j2,k2,l2,m2,n2,o2,p2){var _p=this.props;if(a2===1&&b2===0&&c2===0&&d2===0&&e2===0&&f2===1&&g2===0&&h2===0&&i2===0&&j2===0&&k2===1&&l2===0){// NOTE: commenting this condition because TurboFan deoptimizes code when present\n// if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n_p[12]=_p[12]*a2+_p[15]*m2;_p[13]=_p[13]*f2+_p[15]*n2;_p[14]=_p[14]*k2+_p[15]*o2;_p[15]*=p2;// }\nthis._identityCalculated=false;return this;}var a1=_p[0];var b1=_p[1];var c1=_p[2];var d1=_p[3];var e1=_p[4];var f1=_p[5];var g1=_p[6];var h1=_p[7];var i1=_p[8];var j1=_p[9];var k1=_p[10];var l1=_p[11];var m1=_p[12];var n1=_p[13];var o1=_p[14];var p1=_p[15];/* matrix order (canvas compatible):\r\n           * ace\r\n           * bdf\r\n           * 001\r\n           */_p[0]=a1*a2+b1*e2+c1*i2+d1*m2;_p[1]=a1*b2+b1*f2+c1*j2+d1*n2;_p[2]=a1*c2+b1*g2+c1*k2+d1*o2;_p[3]=a1*d2+b1*h2+c1*l2+d1*p2;_p[4]=e1*a2+f1*e2+g1*i2+h1*m2;_p[5]=e1*b2+f1*f2+g1*j2+h1*n2;_p[6]=e1*c2+f1*g2+g1*k2+h1*o2;_p[7]=e1*d2+f1*h2+g1*l2+h1*p2;_p[8]=i1*a2+j1*e2+k1*i2+l1*m2;_p[9]=i1*b2+j1*f2+k1*j2+l1*n2;_p[10]=i1*c2+j1*g2+k1*k2+l1*o2;_p[11]=i1*d2+j1*h2+k1*l2+l1*p2;_p[12]=m1*a2+n1*e2+o1*i2+p1*m2;_p[13]=m1*b2+n1*f2+o1*j2+p1*n2;_p[14]=m1*c2+n1*g2+o1*k2+p1*o2;_p[15]=m1*d2+n1*h2+o1*l2+p1*p2;this._identityCalculated=false;return this;}function isIdentity(){if(!this._identityCalculated){this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1);this._identityCalculated=true;}return this._identity;}function equals(matr){var i=0;while(i<16){if(matr.props[i]!==this.props[i]){return false;}i+=1;}return true;}function clone(matr){var i;for(i=0;i<16;i+=1){matr.props[i]=this.props[i];}return matr;}function cloneFromProps(props){var i;for(i=0;i<16;i+=1){this.props[i]=props[i];}}function applyToPoint(x,y,z){return{x:x*this.props[0]+y*this.props[4]+z*this.props[8]+this.props[12],y:x*this.props[1]+y*this.props[5]+z*this.props[9]+this.props[13],z:x*this.props[2]+y*this.props[6]+z*this.props[10]+this.props[14]};/* return {\r\n           x: x * me.a + y * me.c + me.e,\r\n           y: x * me.b + y * me.d + me.f\r\n           }; */}function applyToX(x,y,z){return x*this.props[0]+y*this.props[4]+z*this.props[8]+this.props[12];}function applyToY(x,y,z){return x*this.props[1]+y*this.props[5]+z*this.props[9]+this.props[13];}function applyToZ(x,y,z){return x*this.props[2]+y*this.props[6]+z*this.props[10]+this.props[14];}function getInverseMatrix(){var determinant=this.props[0]*this.props[5]-this.props[1]*this.props[4];var a=this.props[5]/determinant;var b=-this.props[1]/determinant;var c=-this.props[4]/determinant;var d=this.props[0]/determinant;var e=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/determinant;var f=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/determinant;var inverseMatrix=new Matrix();inverseMatrix.props[0]=a;inverseMatrix.props[1]=b;inverseMatrix.props[4]=c;inverseMatrix.props[5]=d;inverseMatrix.props[12]=e;inverseMatrix.props[13]=f;return inverseMatrix;}function inversePoint(pt){var inverseMatrix=this.getInverseMatrix();return inverseMatrix.applyToPointArray(pt[0],pt[1],pt[2]||0);}function inversePoints(pts){var i;var len=pts.length;var retPts=[];for(i=0;i<len;i+=1){retPts[i]=inversePoint(pts[i]);}return retPts;}function applyToTriplePoints(pt1,pt2,pt3){var arr=createTypedArray('float32',6);if(this.isIdentity()){arr[0]=pt1[0];arr[1]=pt1[1];arr[2]=pt2[0];arr[3]=pt2[1];arr[4]=pt3[0];arr[5]=pt3[1];}else{var p0=this.props[0];var p1=this.props[1];var p4=this.props[4];var p5=this.props[5];var p12=this.props[12];var p13=this.props[13];arr[0]=pt1[0]*p0+pt1[1]*p4+p12;arr[1]=pt1[0]*p1+pt1[1]*p5+p13;arr[2]=pt2[0]*p0+pt2[1]*p4+p12;arr[3]=pt2[0]*p1+pt2[1]*p5+p13;arr[4]=pt3[0]*p0+pt3[1]*p4+p12;arr[5]=pt3[0]*p1+pt3[1]*p5+p13;}return arr;}function applyToPointArray(x,y,z){var arr;if(this.isIdentity()){arr=[x,y,z];}else{arr=[x*this.props[0]+y*this.props[4]+z*this.props[8]+this.props[12],x*this.props[1]+y*this.props[5]+z*this.props[9]+this.props[13],x*this.props[2]+y*this.props[6]+z*this.props[10]+this.props[14]];}return arr;}function applyToPointStringified(x,y){if(this.isIdentity()){return x+','+y;}var _p=this.props;return Math.round((x*_p[0]+y*_p[4]+_p[12])*100)/100+','+Math.round((x*_p[1]+y*_p[5]+_p[13])*100)/100;}function toCSS(){// Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n/* if(this.isIdentity()) {\r\n              return '';\r\n          } */var i=0;var props=this.props;var cssValue='matrix3d(';var v=10000;while(i<16){cssValue+=_rnd(props[i]*v)/v;cssValue+=i===15?')':',';i+=1;}return cssValue;}function roundMatrixProperty(val){var v=10000;if(val<0.000001&&val>0||val>-0.000001&&val<0){return _rnd(val*v)/v;}return val;}function to2dCSS(){// Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n/* if(this.isIdentity()) {\r\n              return '';\r\n          } */var props=this.props;var _a=roundMatrixProperty(props[0]);var _b=roundMatrixProperty(props[1]);var _c=roundMatrixProperty(props[4]);var _d=roundMatrixProperty(props[5]);var _e=roundMatrixProperty(props[12]);var _f=roundMatrixProperty(props[13]);return'matrix('+_a+','+_b+','+_c+','+_d+','+_e+','+_f+')';}return function(){this.reset=reset;this.rotate=rotate;this.rotateX=rotateX;this.rotateY=rotateY;this.rotateZ=rotateZ;this.skew=skew;this.skewFromAxis=skewFromAxis;this.shear=shear;this.scale=scale;this.setTransform=setTransform;this.translate=translate;this.transform=transform;this.applyToPoint=applyToPoint;this.applyToX=applyToX;this.applyToY=applyToY;this.applyToZ=applyToZ;this.applyToPointArray=applyToPointArray;this.applyToTriplePoints=applyToTriplePoints;this.applyToPointStringified=applyToPointStringified;this.toCSS=toCSS;this.to2dCSS=to2dCSS;this.clone=clone;this.cloneFromProps=cloneFromProps;this.equals=equals;this.inversePoints=inversePoints;this.inversePoint=inversePoint;this.getInverseMatrix=getInverseMatrix;this._t=this.transform;this.isIdentity=isIdentity;this._identity=true;this._identityCalculated=false;this.props=createTypedArray('float32',16);this.reset();};}();function _typeof$3(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$3=function _typeof(obj){return typeof obj;};}else{_typeof$3=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$3(obj);}var lottie={};var standalone='__[STANDALONE]__';var animationData='__[ANIMATIONDATA]__';var renderer='';function setLocation(href){setLocationHref(href);}function searchAnimations(){if(standalone===true){animationManager.searchAnimations(animationData,standalone,renderer);}else{animationManager.searchAnimations();}}function setSubframeRendering(flag){setSubframeEnabled(flag);}function setPrefix(prefix){setIdPrefix(prefix);}function loadAnimation(params){if(standalone===true){params.animationData=JSON.parse(animationData);}return animationManager.loadAnimation(params);}function setQuality(value){if(typeof value==='string'){switch(value){case'high':setDefaultCurveSegments(200);break;default:case'medium':setDefaultCurveSegments(50);break;case'low':setDefaultCurveSegments(10);break;}}else if(!isNaN(value)&&value>1){setDefaultCurveSegments(value);}if(getDefaultCurveSegments()>=50){roundValues(false);}else{roundValues(true);}}function inBrowser(){return typeof navigator!=='undefined';}function installPlugin(type,plugin){if(type==='expressions'){setExpressionsPlugin(plugin);}}function getFactory(name){switch(name){case'propertyFactory':return PropertyFactory;case'shapePropertyFactory':return ShapePropertyFactory;case'matrix':return Matrix;default:return null;}}lottie.play=animationManager.play;lottie.pause=animationManager.pause;lottie.setLocationHref=setLocation;lottie.togglePause=animationManager.togglePause;lottie.setSpeed=animationManager.setSpeed;lottie.setDirection=animationManager.setDirection;lottie.stop=animationManager.stop;lottie.searchAnimations=searchAnimations;lottie.registerAnimation=animationManager.registerAnimation;lottie.loadAnimation=loadAnimation;lottie.setSubframeRendering=setSubframeRendering;lottie.resize=animationManager.resize;// lottie.start = start;\nlottie.goToAndStop=animationManager.goToAndStop;lottie.destroy=animationManager.destroy;lottie.setQuality=setQuality;lottie.inBrowser=inBrowser;lottie.installPlugin=installPlugin;lottie.freeze=animationManager.freeze;lottie.unfreeze=animationManager.unfreeze;lottie.setVolume=animationManager.setVolume;lottie.mute=animationManager.mute;lottie.unmute=animationManager.unmute;lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations;lottie.useWebWorker=setWebWorker;lottie.setIDPrefix=setPrefix;lottie.__getFactory=getFactory;lottie.version='5.9.4';function checkReady(){if(document.readyState==='complete'){clearInterval(readyStateCheckInterval);searchAnimations();}}function getQueryVariable(variable){var vars=queryString.split('&');for(var i=0;i<vars.length;i+=1){var pair=vars[i].split('=');if(decodeURIComponent(pair[0])==variable){// eslint-disable-line eqeqeq\nreturn decodeURIComponent(pair[1]);}}return null;}var queryString='';if(standalone){var scripts=document.getElementsByTagName('script');var index=scripts.length-1;var myScript=scripts[index]||{src:''};queryString=myScript.src?myScript.src.replace(/^[^\\?]+\\??/,''):'';// eslint-disable-line no-useless-escape\nrenderer=getQueryVariable('renderer');}var readyStateCheckInterval=setInterval(checkReady,100);// this adds bodymovin to the window object for backwards compatibility\ntry{if(!((typeof exports===\"undefined\"?\"undefined\":_typeof$3(exports))==='object'&&typeof module!=='undefined')&&!(typeof define==='function'&&define.amd)// eslint-disable-line no-undef\n){window.bodymovin=lottie;}}catch(err){//\n}var ShapeModifiers=function(){var ob={};var modifiers={};ob.registerModifier=registerModifier;ob.getModifier=getModifier;function registerModifier(nm,factory){if(!modifiers[nm]){modifiers[nm]=factory;}}function getModifier(nm,elem,data){return new modifiers[nm](elem,data);}return ob;}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){};ShapeModifier.prototype.addShapeToModifier=function(){};ShapeModifier.prototype.addShape=function(data){if(!this.closed){// Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\ndata.sh.container.addDynamicProperty(data.sh);var shapeData={shape:data.sh,data:data,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(shapeData);this.addShapeToModifier(shapeData);if(this._isAnimated){data.setAsAnimated();}}};ShapeModifier.prototype.init=function(elem,data){this.shapes=[];this.elem=elem;this.initDynamicPropertyContainer(elem);this.initModifierProperties(elem,data);this.frameId=initialDefaultFrame;this.closed=false;this.k=false;if(this.dynamicProperties.length){this.k=true;}else{this.getValue(true);}};ShapeModifier.prototype.processKeys=function(){if(this.elem.globalData.frameId===this.frameId){return;}this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();};extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier);TrimModifier.prototype.initModifierProperties=function(elem,data){this.s=PropertyFactory.getProp(elem,data.s,0,0.01,this);this.e=PropertyFactory.getProp(elem,data.e,0,0.01,this);this.o=PropertyFactory.getProp(elem,data.o,0,0,this);this.sValue=0;this.eValue=0;this.getValue=this.processKeys;this.m=data.m;this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length;};TrimModifier.prototype.addShapeToModifier=function(shapeData){shapeData.pathsData=[];};TrimModifier.prototype.calculateShapeEdges=function(s,e,shapeLength,addedLength,totalModifierLength){var segments=[];if(e<=1){segments.push({s:s,e:e});}else if(s>=1){segments.push({s:s-1,e:e-1});}else{segments.push({s:s,e:1});segments.push({s:0,e:e-1});}var shapeSegments=[];var i;var len=segments.length;var segmentOb;for(i=0;i<len;i+=1){segmentOb=segments[i];if(!(segmentOb.e*totalModifierLength<addedLength||segmentOb.s*totalModifierLength>addedLength+shapeLength)){var shapeS;var shapeE;if(segmentOb.s*totalModifierLength<=addedLength){shapeS=0;}else{shapeS=(segmentOb.s*totalModifierLength-addedLength)/shapeLength;}if(segmentOb.e*totalModifierLength>=addedLength+shapeLength){shapeE=1;}else{shapeE=(segmentOb.e*totalModifierLength-addedLength)/shapeLength;}shapeSegments.push([shapeS,shapeE]);}}if(!shapeSegments.length){shapeSegments.push([0,0]);}return shapeSegments;};TrimModifier.prototype.releasePathsData=function(pathsData){var i;var len=pathsData.length;for(i=0;i<len;i+=1){segmentsLengthPool.release(pathsData[i]);}pathsData.length=0;return pathsData;};TrimModifier.prototype.processShapes=function(_isFirstFrame){var s;var e;if(this._mdf||_isFirstFrame){var o=this.o.v%360/360;if(o<0){o+=1;}if(this.s.v>1){s=1+o;}else if(this.s.v<0){s=0+o;}else{s=this.s.v+o;}if(this.e.v>1){e=1+o;}else if(this.e.v<0){e=0+o;}else{e=this.e.v+o;}if(s>e){var _s=s;s=e;e=_s;}s=Math.round(s*10000)*0.0001;e=Math.round(e*10000)*0.0001;this.sValue=s;this.eValue=e;}else{s=this.sValue;e=this.eValue;}var shapePaths;var i;var len=this.shapes.length;var j;var jLen;var pathsData;var pathData;var totalShapeLength;var totalModifierLength=0;if(e===s){for(i=0;i<len;i+=1){this.shapes[i].localShapeCollection.releaseShapes();this.shapes[i].shape._mdf=true;this.shapes[i].shape.paths=this.shapes[i].localShapeCollection;if(this._mdf){this.shapes[i].pathsData.length=0;}}}else if(!(e===1&&s===0||e===0&&s===1)){var segments=[];var shapeData;var localShapeCollection;for(i=0;i<len;i+=1){shapeData=this.shapes[i];// if shape hasn't changed and trim properties haven't changed, cached previous path can be used\nif(!shapeData.shape._mdf&&!this._mdf&&!_isFirstFrame&&this.m!==2){shapeData.shape.paths=shapeData.localShapeCollection;}else{shapePaths=shapeData.shape.paths;jLen=shapePaths._length;totalShapeLength=0;if(!shapeData.shape._mdf&&shapeData.pathsData.length){totalShapeLength=shapeData.totalShapeLength;}else{pathsData=this.releasePathsData(shapeData.pathsData);for(j=0;j<jLen;j+=1){pathData=bez.getSegmentsLength(shapePaths.shapes[j]);pathsData.push(pathData);totalShapeLength+=pathData.totalLength;}shapeData.totalShapeLength=totalShapeLength;shapeData.pathsData=pathsData;}totalModifierLength+=totalShapeLength;shapeData.shape._mdf=true;}}var shapeS=s;var shapeE=e;var addedLength=0;var edges;for(i=len-1;i>=0;i-=1){shapeData=this.shapes[i];if(shapeData.shape._mdf){localShapeCollection=shapeData.localShapeCollection;localShapeCollection.releaseShapes();// if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\nif(this.m===2&&len>1){edges=this.calculateShapeEdges(s,e,shapeData.totalShapeLength,addedLength,totalModifierLength);addedLength+=shapeData.totalShapeLength;}else{edges=[[shapeS,shapeE]];}jLen=edges.length;for(j=0;j<jLen;j+=1){shapeS=edges[j][0];shapeE=edges[j][1];segments.length=0;if(shapeE<=1){segments.push({s:shapeData.totalShapeLength*shapeS,e:shapeData.totalShapeLength*shapeE});}else if(shapeS>=1){segments.push({s:shapeData.totalShapeLength*(shapeS-1),e:shapeData.totalShapeLength*(shapeE-1)});}else{segments.push({s:shapeData.totalShapeLength*shapeS,e:shapeData.totalShapeLength});segments.push({s:0,e:shapeData.totalShapeLength*(shapeE-1)});}var newShapesData=this.addShapes(shapeData,segments[0]);if(segments[0].s!==segments[0].e){if(segments.length>1){var lastShapeInCollection=shapeData.shape.paths.shapes[shapeData.shape.paths._length-1];if(lastShapeInCollection.c){var lastShape=newShapesData.pop();this.addPaths(newShapesData,localShapeCollection);newShapesData=this.addShapes(shapeData,segments[1],lastShape);}else{this.addPaths(newShapesData,localShapeCollection);newShapesData=this.addShapes(shapeData,segments[1]);}}this.addPaths(newShapesData,localShapeCollection);}}shapeData.shape.paths=localShapeCollection;}}}else if(this._mdf){for(i=0;i<len;i+=1){// Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n// Don't remove this even if it's losing cached info.\nthis.shapes[i].pathsData.length=0;this.shapes[i].shape._mdf=true;}}};TrimModifier.prototype.addPaths=function(newPaths,localShapeCollection){var i;var len=newPaths.length;for(i=0;i<len;i+=1){localShapeCollection.addShape(newPaths[i]);}};TrimModifier.prototype.addSegment=function(pt1,pt2,pt3,pt4,shapePath,pos,newShape){shapePath.setXYAt(pt2[0],pt2[1],'o',pos);shapePath.setXYAt(pt3[0],pt3[1],'i',pos+1);if(newShape){shapePath.setXYAt(pt1[0],pt1[1],'v',pos);}shapePath.setXYAt(pt4[0],pt4[1],'v',pos+1);};TrimModifier.prototype.addSegmentFromArray=function(points,shapePath,pos,newShape){shapePath.setXYAt(points[1],points[5],'o',pos);shapePath.setXYAt(points[2],points[6],'i',pos+1);if(newShape){shapePath.setXYAt(points[0],points[4],'v',pos);}shapePath.setXYAt(points[3],points[7],'v',pos+1);};TrimModifier.prototype.addShapes=function(shapeData,shapeSegment,shapePath){var pathsData=shapeData.pathsData;var shapePaths=shapeData.shape.paths.shapes;var i;var len=shapeData.shape.paths._length;var j;var jLen;var addedLength=0;var currentLengthData;var segmentCount;var lengths;var segment;var shapes=[];var initPos;var newShape=true;if(!shapePath){shapePath=shapePool.newElement();segmentCount=0;initPos=0;}else{segmentCount=shapePath._length;initPos=shapePath._length;}shapes.push(shapePath);for(i=0;i<len;i+=1){lengths=pathsData[i].lengths;shapePath.c=shapePaths[i].c;jLen=shapePaths[i].c?lengths.length:lengths.length+1;for(j=1;j<jLen;j+=1){currentLengthData=lengths[j-1];if(addedLength+currentLengthData.addedLength<shapeSegment.s){addedLength+=currentLengthData.addedLength;shapePath.c=false;}else if(addedLength>shapeSegment.e){shapePath.c=false;break;}else{if(shapeSegment.s<=addedLength&&shapeSegment.e>=addedLength+currentLengthData.addedLength){this.addSegment(shapePaths[i].v[j-1],shapePaths[i].o[j-1],shapePaths[i].i[j],shapePaths[i].v[j],shapePath,segmentCount,newShape);newShape=false;}else{segment=bez.getNewSegment(shapePaths[i].v[j-1],shapePaths[i].v[j],shapePaths[i].o[j-1],shapePaths[i].i[j],(shapeSegment.s-addedLength)/currentLengthData.addedLength,(shapeSegment.e-addedLength)/currentLengthData.addedLength,lengths[j-1]);this.addSegmentFromArray(segment,shapePath,segmentCount,newShape);// this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\nnewShape=false;shapePath.c=false;}addedLength+=currentLengthData.addedLength;segmentCount+=1;}}if(shapePaths[i].c&&lengths.length){currentLengthData=lengths[j-1];if(addedLength<=shapeSegment.e){var segmentLength=lengths[j-1].addedLength;if(shapeSegment.s<=addedLength&&shapeSegment.e>=addedLength+segmentLength){this.addSegment(shapePaths[i].v[j-1],shapePaths[i].o[j-1],shapePaths[i].i[0],shapePaths[i].v[0],shapePath,segmentCount,newShape);newShape=false;}else{segment=bez.getNewSegment(shapePaths[i].v[j-1],shapePaths[i].v[0],shapePaths[i].o[j-1],shapePaths[i].i[0],(shapeSegment.s-addedLength)/segmentLength,(shapeSegment.e-addedLength)/segmentLength,lengths[j-1]);this.addSegmentFromArray(segment,shapePath,segmentCount,newShape);// this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\nnewShape=false;shapePath.c=false;}}else{shapePath.c=false;}addedLength+=currentLengthData.addedLength;segmentCount+=1;}if(shapePath._length){shapePath.setXYAt(shapePath.v[initPos][0],shapePath.v[initPos][1],'i',initPos);shapePath.setXYAt(shapePath.v[shapePath._length-1][0],shapePath.v[shapePath._length-1][1],'o',shapePath._length-1);}if(addedLength>shapeSegment.e){break;}if(i<len-1){shapePath=shapePool.newElement();newShape=true;shapes.push(shapePath);segmentCount=0;}}return shapes;};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier);PuckerAndBloatModifier.prototype.initModifierProperties=function(elem,data){this.getValue=this.processKeys;this.amount=PropertyFactory.getProp(elem,data.a,0,null,this);this._isAnimated=!!this.amount.effectsSequence.length;};PuckerAndBloatModifier.prototype.processPath=function(path,amount){var percent=amount/100;var centerPoint=[0,0];var pathLength=path._length;var i=0;for(i=0;i<pathLength;i+=1){centerPoint[0]+=path.v[i][0];centerPoint[1]+=path.v[i][1];}centerPoint[0]/=pathLength;centerPoint[1]/=pathLength;var clonedPath=shapePool.newElement();clonedPath.c=path.c;var vX;var vY;var oX;var oY;var iX;var iY;for(i=0;i<pathLength;i+=1){vX=path.v[i][0]+(centerPoint[0]-path.v[i][0])*percent;vY=path.v[i][1]+(centerPoint[1]-path.v[i][1])*percent;oX=path.o[i][0]+(centerPoint[0]-path.o[i][0])*-percent;oY=path.o[i][1]+(centerPoint[1]-path.o[i][1])*-percent;iX=path.i[i][0]+(centerPoint[0]-path.i[i][0])*-percent;iY=path.i[i][1]+(centerPoint[1]-path.i[i][1])*-percent;clonedPath.setTripleAt(vX,vY,oX,oY,iX,iY,i);}return clonedPath;};PuckerAndBloatModifier.prototype.processShapes=function(_isFirstFrame){var shapePaths;var i;var len=this.shapes.length;var j;var jLen;var amount=this.amount.v;if(amount!==0){var shapeData;var localShapeCollection;for(i=0;i<len;i+=1){shapeData=this.shapes[i];localShapeCollection=shapeData.localShapeCollection;if(!(!shapeData.shape._mdf&&!this._mdf&&!_isFirstFrame)){localShapeCollection.releaseShapes();shapeData.shape._mdf=true;shapePaths=shapeData.shape.paths.shapes;jLen=shapeData.shape.paths._length;for(j=0;j<jLen;j+=1){localShapeCollection.addShape(this.processPath(shapePaths[j],amount));}}shapeData.shape.paths=shapeData.localShapeCollection;}}if(!this.dynamicProperties.length){this._mdf=false;}};var TransformPropertyFactory=function(){var defaultVector=[0,0];function applyToMatrix(mat){var _mdf=this._mdf;this.iterateDynamicProperties();this._mdf=this._mdf||_mdf;if(this.a){mat.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]);}if(this.s){mat.scale(this.s.v[0],this.s.v[1],this.s.v[2]);}if(this.sk){mat.skewFromAxis(-this.sk.v,this.sa.v);}if(this.r){mat.rotate(-this.r.v);}else{mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);}if(this.data.p.s){if(this.data.p.z){mat.translate(this.px.v,this.py.v,-this.pz.v);}else{mat.translate(this.px.v,this.py.v,0);}}else{mat.translate(this.p.v[0],this.p.v[1],-this.p.v[2]);}}function processKeys(forceRender){if(this.elem.globalData.frameId===this.frameId){return;}if(this._isDirty){this.precalculateMatrix();this._isDirty=false;}this.iterateDynamicProperties();if(this._mdf||forceRender){var frameRate;this.v.cloneFromProps(this.pre.props);if(this.appliedTransformations<1){this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]);}if(this.appliedTransformations<2){this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]);}if(this.sk&&this.appliedTransformations<3){this.v.skewFromAxis(-this.sk.v,this.sa.v);}if(this.r&&this.appliedTransformations<4){this.v.rotate(-this.r.v);}else if(!this.r&&this.appliedTransformations<4){this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);}if(this.autoOriented){var v1;var v2;frameRate=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime){if(this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t){v1=this.p.getValueAtTime((this.p.keyframes[0].t+0.01)/frameRate,0);v2=this.p.getValueAtTime(this.p.keyframes[0].t/frameRate,0);}else if(this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t){v1=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/frameRate,0);v2=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-0.05)/frameRate,0);}else{v1=this.p.pv;v2=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-0.01)/frameRate,this.p.offsetTime);}}else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){v1=[];v2=[];var px=this.px;var py=this.py;if(px._caching.lastFrame+px.offsetTime<=px.keyframes[0].t){v1[0]=px.getValueAtTime((px.keyframes[0].t+0.01)/frameRate,0);v1[1]=py.getValueAtTime((py.keyframes[0].t+0.01)/frameRate,0);v2[0]=px.getValueAtTime(px.keyframes[0].t/frameRate,0);v2[1]=py.getValueAtTime(py.keyframes[0].t/frameRate,0);}else if(px._caching.lastFrame+px.offsetTime>=px.keyframes[px.keyframes.length-1].t){v1[0]=px.getValueAtTime(px.keyframes[px.keyframes.length-1].t/frameRate,0);v1[1]=py.getValueAtTime(py.keyframes[py.keyframes.length-1].t/frameRate,0);v2[0]=px.getValueAtTime((px.keyframes[px.keyframes.length-1].t-0.01)/frameRate,0);v2[1]=py.getValueAtTime((py.keyframes[py.keyframes.length-1].t-0.01)/frameRate,0);}else{v1=[px.pv,py.pv];v2[0]=px.getValueAtTime((px._caching.lastFrame+px.offsetTime-0.01)/frameRate,px.offsetTime);v2[1]=py.getValueAtTime((py._caching.lastFrame+py.offsetTime-0.01)/frameRate,py.offsetTime);}}else{v2=defaultVector;v1=v2;}this.v.rotate(-Math.atan2(v1[1]-v2[1],v1[0]-v2[0]));}if(this.data.p&&this.data.p.s){if(this.data.p.z){this.v.translate(this.px.v,this.py.v,-this.pz.v);}else{this.v.translate(this.px.v,this.py.v,0);}}else{this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2]);}}this.frameId=this.elem.globalData.frameId;}function precalculateMatrix(){if(!this.a.k){this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]);this.appliedTransformations=1;}else{return;}if(!this.s.effectsSequence.length){this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]);this.appliedTransformations=2;}else{return;}if(this.sk){if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length){this.pre.skewFromAxis(-this.sk.v,this.sa.v);this.appliedTransformations=3;}else{return;}}if(this.r){if(!this.r.effectsSequence.length){this.pre.rotate(-this.r.v);this.appliedTransformations=4;}}else if(!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length){this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);this.appliedTransformations=4;}}function autoOrient(){//\n// var prevP = this.getValueAtTime();\n}function addDynamicProperty(prop){this._addDynamicProperty(prop);this.elem.addDynamicProperty(prop);this._isDirty=true;}function TransformProperty(elem,data,container){this.elem=elem;this.frameId=-1;this.propType='transform';this.data=data;this.v=new Matrix();// Precalculated matrix with non animated properties\nthis.pre=new Matrix();this.appliedTransformations=0;this.initDynamicPropertyContainer(container||elem);if(data.p&&data.p.s){this.px=PropertyFactory.getProp(elem,data.p.x,0,0,this);this.py=PropertyFactory.getProp(elem,data.p.y,0,0,this);if(data.p.z){this.pz=PropertyFactory.getProp(elem,data.p.z,0,0,this);}}else{this.p=PropertyFactory.getProp(elem,data.p||{k:[0,0,0]},1,0,this);}if(data.rx){this.rx=PropertyFactory.getProp(elem,data.rx,0,degToRads,this);this.ry=PropertyFactory.getProp(elem,data.ry,0,degToRads,this);this.rz=PropertyFactory.getProp(elem,data.rz,0,degToRads,this);if(data.or.k[0].ti){var i;var len=data.or.k.length;for(i=0;i<len;i+=1){data.or.k[i].to=null;data.or.k[i].ti=null;}}this.or=PropertyFactory.getProp(elem,data.or,1,degToRads,this);// sh Indicates it needs to be capped between -180 and 180\nthis.or.sh=true;}else{this.r=PropertyFactory.getProp(elem,data.r||{k:0},0,degToRads,this);}if(data.sk){this.sk=PropertyFactory.getProp(elem,data.sk,0,degToRads,this);this.sa=PropertyFactory.getProp(elem,data.sa,0,degToRads,this);}this.a=PropertyFactory.getProp(elem,data.a||{k:[0,0,0]},1,0,this);this.s=PropertyFactory.getProp(elem,data.s||{k:[100,100,100]},1,0.01,this);// Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\nif(data.o){this.o=PropertyFactory.getProp(elem,data.o,0,0.01,elem);}else{this.o={_mdf:false,v:1};}this._isDirty=true;if(!this.dynamicProperties.length){this.getValue(true);}}TransformProperty.prototype={applyToMatrix:applyToMatrix,getValue:processKeys,precalculateMatrix:precalculateMatrix,autoOrient:autoOrient};extendPrototype([DynamicPropertyContainer],TransformProperty);TransformProperty.prototype.addDynamicProperty=addDynamicProperty;TransformProperty.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function getTransformProperty(elem,data,container){return new TransformProperty(elem,data,container);}return{getTransformProperty:getTransformProperty};}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier);RepeaterModifier.prototype.initModifierProperties=function(elem,data){this.getValue=this.processKeys;this.c=PropertyFactory.getProp(elem,data.c,0,null,this);this.o=PropertyFactory.getProp(elem,data.o,0,null,this);this.tr=TransformPropertyFactory.getTransformProperty(elem,data.tr,this);this.so=PropertyFactory.getProp(elem,data.tr.so,0,0.01,this);this.eo=PropertyFactory.getProp(elem,data.tr.eo,0,0.01,this);this.data=data;if(!this.dynamicProperties.length){this.getValue(true);}this._isAnimated=!!this.dynamicProperties.length;this.pMatrix=new Matrix();this.rMatrix=new Matrix();this.sMatrix=new Matrix();this.tMatrix=new Matrix();this.matrix=new Matrix();};RepeaterModifier.prototype.applyTransforms=function(pMatrix,rMatrix,sMatrix,transform,perc,inv){var dir=inv?-1:1;var scaleX=transform.s.v[0]+(1-transform.s.v[0])*(1-perc);var scaleY=transform.s.v[1]+(1-transform.s.v[1])*(1-perc);pMatrix.translate(transform.p.v[0]*dir*perc,transform.p.v[1]*dir*perc,transform.p.v[2]);rMatrix.translate(-transform.a.v[0],-transform.a.v[1],transform.a.v[2]);rMatrix.rotate(-transform.r.v*dir*perc);rMatrix.translate(transform.a.v[0],transform.a.v[1],transform.a.v[2]);sMatrix.translate(-transform.a.v[0],-transform.a.v[1],transform.a.v[2]);sMatrix.scale(inv?1/scaleX:scaleX,inv?1/scaleY:scaleY);sMatrix.translate(transform.a.v[0],transform.a.v[1],transform.a.v[2]);};RepeaterModifier.prototype.init=function(elem,arr,pos,elemsData){this.elem=elem;this.arr=arr;this.pos=pos;this.elemsData=elemsData;this._currentCopies=0;this._elements=[];this._groups=[];this.frameId=-1;this.initDynamicPropertyContainer(elem);this.initModifierProperties(elem,arr[pos]);while(pos>0){pos-=1;// this._elements.unshift(arr.splice(pos,1)[0]);\nthis._elements.unshift(arr[pos]);}if(this.dynamicProperties.length){this.k=true;}else{this.getValue(true);}};RepeaterModifier.prototype.resetElements=function(elements){var i;var len=elements.length;for(i=0;i<len;i+=1){elements[i]._processed=false;if(elements[i].ty==='gr'){this.resetElements(elements[i].it);}}};RepeaterModifier.prototype.cloneElements=function(elements){var newElements=JSON.parse(JSON.stringify(elements));this.resetElements(newElements);return newElements;};RepeaterModifier.prototype.changeGroupRender=function(elements,renderFlag){var i;var len=elements.length;for(i=0;i<len;i+=1){elements[i]._render=renderFlag;if(elements[i].ty==='gr'){this.changeGroupRender(elements[i].it,renderFlag);}}};RepeaterModifier.prototype.processShapes=function(_isFirstFrame){var items;var itemsTransform;var i;var dir;var cont;var hasReloaded=false;if(this._mdf||_isFirstFrame){var copies=Math.ceil(this.c.v);if(this._groups.length<copies){while(this._groups.length<copies){var group={it:this.cloneElements(this._elements),ty:'gr'};group.it.push({a:{a:0,ix:1,k:[0,0]},nm:'Transform',o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:'tr'});this.arr.splice(0,0,group);this._groups.splice(0,0,group);this._currentCopies+=1;}this.elem.reloadShapes();hasReloaded=true;}cont=0;var renderFlag;for(i=0;i<=this._groups.length-1;i+=1){renderFlag=cont<copies;this._groups[i]._render=renderFlag;this.changeGroupRender(this._groups[i].it,renderFlag);if(!renderFlag){var elems=this.elemsData[i].it;var transformData=elems[elems.length-1];if(transformData.transform.op.v!==0){transformData.transform.op._mdf=true;transformData.transform.op.v=0;}else{transformData.transform.op._mdf=false;}}cont+=1;}this._currentCopies=copies;/// /\nvar offset=this.o.v;var offsetModulo=offset%1;var roundOffset=offset>0?Math.floor(offset):Math.ceil(offset);var pProps=this.pMatrix.props;var rProps=this.rMatrix.props;var sProps=this.sMatrix.props;this.pMatrix.reset();this.rMatrix.reset();this.sMatrix.reset();this.tMatrix.reset();this.matrix.reset();var iteration=0;if(offset>0){while(iteration<roundOffset){this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,false);iteration+=1;}if(offsetModulo){this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,offsetModulo,false);iteration+=offsetModulo;}}else if(offset<0){while(iteration>roundOffset){this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,true);iteration-=1;}if(offsetModulo){this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-offsetModulo,true);iteration-=offsetModulo;}}i=this.data.m===1?0:this._currentCopies-1;dir=this.data.m===1?1:-1;cont=this._currentCopies;var j;var jLen;while(cont){items=this.elemsData[i].it;itemsTransform=items[items.length-1].transform.mProps.v.props;jLen=itemsTransform.length;items[items.length-1].transform.mProps._mdf=true;items[items.length-1].transform.op._mdf=true;items[items.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(i/(this._currentCopies-1));if(iteration!==0){if(i!==0&&dir===1||i!==this._currentCopies-1&&dir===-1){this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,false);}this.matrix.transform(rProps[0],rProps[1],rProps[2],rProps[3],rProps[4],rProps[5],rProps[6],rProps[7],rProps[8],rProps[9],rProps[10],rProps[11],rProps[12],rProps[13],rProps[14],rProps[15]);this.matrix.transform(sProps[0],sProps[1],sProps[2],sProps[3],sProps[4],sProps[5],sProps[6],sProps[7],sProps[8],sProps[9],sProps[10],sProps[11],sProps[12],sProps[13],sProps[14],sProps[15]);this.matrix.transform(pProps[0],pProps[1],pProps[2],pProps[3],pProps[4],pProps[5],pProps[6],pProps[7],pProps[8],pProps[9],pProps[10],pProps[11],pProps[12],pProps[13],pProps[14],pProps[15]);for(j=0;j<jLen;j+=1){itemsTransform[j]=this.matrix.props[j];}this.matrix.reset();}else{this.matrix.reset();for(j=0;j<jLen;j+=1){itemsTransform[j]=this.matrix.props[j];}}iteration+=1;cont-=1;i+=dir;}}else{cont=this._currentCopies;i=0;dir=1;while(cont){items=this.elemsData[i].it;itemsTransform=items[items.length-1].transform.mProps.v.props;items[items.length-1].transform.mProps._mdf=false;items[items.length-1].transform.op._mdf=false;cont-=1;i+=dir;}}return hasReloaded;};RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier);RoundCornersModifier.prototype.initModifierProperties=function(elem,data){this.getValue=this.processKeys;this.rd=PropertyFactory.getProp(elem,data.r,0,null,this);this._isAnimated=!!this.rd.effectsSequence.length;};RoundCornersModifier.prototype.processPath=function(path,round){var clonedPath=shapePool.newElement();clonedPath.c=path.c;var i;var len=path._length;var currentV;var currentI;var currentO;var closerV;var distance;var newPosPerc;var index=0;var vX;var vY;var oX;var oY;var iX;var iY;for(i=0;i<len;i+=1){currentV=path.v[i];currentO=path.o[i];currentI=path.i[i];if(currentV[0]===currentO[0]&&currentV[1]===currentO[1]&&currentV[0]===currentI[0]&&currentV[1]===currentI[1]){if((i===0||i===len-1)&&!path.c){clonedPath.setTripleAt(currentV[0],currentV[1],currentO[0],currentO[1],currentI[0],currentI[1],index);/* clonedPath.v[index] = currentV;\r\n                  clonedPath.o[index] = currentO;\r\n                  clonedPath.i[index] = currentI; */index+=1;}else{if(i===0){closerV=path.v[len-1];}else{closerV=path.v[i-1];}distance=Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));newPosPerc=distance?Math.min(distance/2,round)/distance:0;iX=currentV[0]+(closerV[0]-currentV[0])*newPosPerc;vX=iX;iY=currentV[1]-(currentV[1]-closerV[1])*newPosPerc;vY=iY;oX=vX-(vX-currentV[0])*roundCorner;oY=vY-(vY-currentV[1])*roundCorner;clonedPath.setTripleAt(vX,vY,oX,oY,iX,iY,index);index+=1;if(i===len-1){closerV=path.v[0];}else{closerV=path.v[i+1];}distance=Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));newPosPerc=distance?Math.min(distance/2,round)/distance:0;oX=currentV[0]+(closerV[0]-currentV[0])*newPosPerc;vX=oX;oY=currentV[1]+(closerV[1]-currentV[1])*newPosPerc;vY=oY;iX=vX-(vX-currentV[0])*roundCorner;iY=vY-(vY-currentV[1])*roundCorner;clonedPath.setTripleAt(vX,vY,oX,oY,iX,iY,index);index+=1;}}else{clonedPath.setTripleAt(path.v[i][0],path.v[i][1],path.o[i][0],path.o[i][1],path.i[i][0],path.i[i][1],index);index+=1;}}return clonedPath;};RoundCornersModifier.prototype.processShapes=function(_isFirstFrame){var shapePaths;var i;var len=this.shapes.length;var j;var jLen;var rd=this.rd.v;if(rd!==0){var shapeData;var localShapeCollection;for(i=0;i<len;i+=1){shapeData=this.shapes[i];localShapeCollection=shapeData.localShapeCollection;if(!(!shapeData.shape._mdf&&!this._mdf&&!_isFirstFrame)){localShapeCollection.releaseShapes();shapeData.shape._mdf=true;shapePaths=shapeData.shape.paths.shapes;jLen=shapeData.shape.paths._length;for(j=0;j<jLen;j+=1){localShapeCollection.addShape(this.processPath(shapePaths[j],rd));}}shapeData.shape.paths=shapeData.localShapeCollection;}}if(!this.dynamicProperties.length){this._mdf=false;}};function getFontProperties(fontData){var styles=fontData.fStyle?fontData.fStyle.split(' '):[];var fWeight='normal';var fStyle='normal';var len=styles.length;var styleName;for(var i=0;i<len;i+=1){styleName=styles[i].toLowerCase();switch(styleName){case'italic':fStyle='italic';break;case'bold':fWeight='700';break;case'black':fWeight='900';break;case'medium':fWeight='500';break;case'regular':case'normal':fWeight='400';break;case'light':case'thin':fWeight='200';break;default:break;}}return{style:fStyle,weight:fontData.fWeight||fWeight};}var FontManager=function(){var maxWaitingTime=5000;var emptyChar={w:0,size:0,shapes:[],data:{shapes:[]}};var combinedCharacters=[];// Hindi characters\ncombinedCharacters=combinedCharacters.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var surrogateModifiers=['d83cdffb','d83cdffc','d83cdffd','d83cdffe','d83cdfff'];var zeroWidthJoiner=[65039,8205];function trimFontOptions(font){var familyArray=font.split(',');var i;var len=familyArray.length;var enabledFamilies=[];for(i=0;i<len;i+=1){if(familyArray[i]!=='sans-serif'&&familyArray[i]!=='monospace'){enabledFamilies.push(familyArray[i]);}}return enabledFamilies.join(',');}function setUpNode(font,family){var parentNode=createTag('span');// Node is invisible to screen readers.\nparentNode.setAttribute('aria-hidden',true);parentNode.style.fontFamily=family;var node=createTag('span');// Characters that vary significantly among different fonts\nnode.innerText='giItT1WQy@!-/#';// Visible - so we can measure it - but not on the screen\nparentNode.style.position='absolute';parentNode.style.left='-10000px';parentNode.style.top='-10000px';// Large font size makes even subtle changes obvious\nparentNode.style.fontSize='300px';// Reset any font properties\nparentNode.style.fontVariant='normal';parentNode.style.fontStyle='normal';parentNode.style.fontWeight='normal';parentNode.style.letterSpacing='0';parentNode.appendChild(node);document.body.appendChild(parentNode);// Remember width with no applied web font\nvar width=node.offsetWidth;node.style.fontFamily=trimFontOptions(font)+', '+family;return{node:node,w:width,parent:parentNode};}function checkLoadedFonts(){var i;var len=this.fonts.length;var node;var w;var loadedCount=len;for(i=0;i<len;i+=1){if(this.fonts[i].loaded){loadedCount-=1;}else if(this.fonts[i].fOrigin==='n'||this.fonts[i].origin===0){this.fonts[i].loaded=true;}else{node=this.fonts[i].monoCase.node;w=this.fonts[i].monoCase.w;if(node.offsetWidth!==w){loadedCount-=1;this.fonts[i].loaded=true;}else{node=this.fonts[i].sansCase.node;w=this.fonts[i].sansCase.w;if(node.offsetWidth!==w){loadedCount-=1;this.fonts[i].loaded=true;}}if(this.fonts[i].loaded){this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);}}}if(loadedCount!==0&&Date.now()-this.initTime<maxWaitingTime){setTimeout(this.checkLoadedFontsBinded,20);}else{setTimeout(this.setIsLoadedBinded,10);}}function createHelper(fontData,def){var engine=document.body&&def?'svg':'canvas';var helper;var fontProps=getFontProperties(fontData);if(engine==='svg'){var tHelper=createNS('text');tHelper.style.fontSize='100px';// tHelper.style.fontFamily = fontData.fFamily;\ntHelper.setAttribute('font-family',fontData.fFamily);tHelper.setAttribute('font-style',fontProps.style);tHelper.setAttribute('font-weight',fontProps.weight);tHelper.textContent='1';if(fontData.fClass){tHelper.style.fontFamily='inherit';tHelper.setAttribute('class',fontData.fClass);}else{tHelper.style.fontFamily=fontData.fFamily;}def.appendChild(tHelper);helper=tHelper;}else{var tCanvasHelper=new OffscreenCanvas(500,500).getContext('2d');tCanvasHelper.font=fontProps.style+' '+fontProps.weight+' 100px '+fontData.fFamily;helper=tCanvasHelper;}function measure(text){if(engine==='svg'){helper.textContent=text;return helper.getComputedTextLength();}return helper.measureText(text).width;}return{measureText:measure};}function addFonts(fontData,defs){if(!fontData){this.isLoaded=true;return;}if(this.chars){this.isLoaded=true;this.fonts=fontData.list;return;}if(!document.body){this.isLoaded=true;fontData.list.forEach(function(data){data.helper=createHelper(data);data.cache={};});this.fonts=fontData.list;return;}var fontArr=fontData.list;var i;var len=fontArr.length;var _pendingFonts=len;for(i=0;i<len;i+=1){var shouldLoadFont=true;var loadedSelector;var j;fontArr[i].loaded=false;fontArr[i].monoCase=setUpNode(fontArr[i].fFamily,'monospace');fontArr[i].sansCase=setUpNode(fontArr[i].fFamily,'sans-serif');if(!fontArr[i].fPath){fontArr[i].loaded=true;_pendingFonts-=1;}else if(fontArr[i].fOrigin==='p'||fontArr[i].origin===3){loadedSelector=document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"'+fontArr[i].fFamily+'\"], style[f-origin=\"3\"][f-family=\"'+fontArr[i].fFamily+'\"]');if(loadedSelector.length>0){shouldLoadFont=false;}if(shouldLoadFont){var s=createTag('style');s.setAttribute('f-forigin',fontArr[i].fOrigin);s.setAttribute('f-origin',fontArr[i].origin);s.setAttribute('f-family',fontArr[i].fFamily);s.type='text/css';s.innerText='@font-face {font-family: '+fontArr[i].fFamily+\"; font-style: normal; src: url('\"+fontArr[i].fPath+\"');}\";defs.appendChild(s);}}else if(fontArr[i].fOrigin==='g'||fontArr[i].origin===1){loadedSelector=document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');for(j=0;j<loadedSelector.length;j+=1){if(loadedSelector[j].href.indexOf(fontArr[i].fPath)!==-1){// Font is already loaded\nshouldLoadFont=false;}}if(shouldLoadFont){var l=createTag('link');l.setAttribute('f-forigin',fontArr[i].fOrigin);l.setAttribute('f-origin',fontArr[i].origin);l.type='text/css';l.rel='stylesheet';l.href=fontArr[i].fPath;document.body.appendChild(l);}}else if(fontArr[i].fOrigin==='t'||fontArr[i].origin===2){loadedSelector=document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');for(j=0;j<loadedSelector.length;j+=1){if(fontArr[i].fPath===loadedSelector[j].src){// Font is already loaded\nshouldLoadFont=false;}}if(shouldLoadFont){var sc=createTag('link');sc.setAttribute('f-forigin',fontArr[i].fOrigin);sc.setAttribute('f-origin',fontArr[i].origin);sc.setAttribute('rel','stylesheet');sc.setAttribute('href',fontArr[i].fPath);defs.appendChild(sc);}}fontArr[i].helper=createHelper(fontArr[i],defs);fontArr[i].cache={};this.fonts.push(fontArr[i]);}if(_pendingFonts===0){this.isLoaded=true;}else{// On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\n// Adding this timeout seems to fix it\nsetTimeout(this.checkLoadedFonts.bind(this),100);}}function addChars(chars){if(!chars){return;}if(!this.chars){this.chars=[];}var i;var len=chars.length;var j;var jLen=this.chars.length;var found;for(i=0;i<len;i+=1){j=0;found=false;while(j<jLen){if(this.chars[j].style===chars[i].style&&this.chars[j].fFamily===chars[i].fFamily&&this.chars[j].ch===chars[i].ch){found=true;}j+=1;}if(!found){this.chars.push(chars[i]);jLen+=1;}}}function getCharData(_char,style,font){var i=0;var len=this.chars.length;while(i<len){if(this.chars[i].ch===_char&&this.chars[i].style===style&&this.chars[i].fFamily===font){return this.chars[i];}i+=1;}if((typeof _char==='string'&&_char.charCodeAt(0)!==13||!_char)&&console&&console.warn// eslint-disable-line no-console\n&&!this._warned){this._warned=true;console.warn('Missing character from exported characters list: ',_char,style,font);// eslint-disable-line no-console\n}return emptyChar;}function measureText(_char2,fontName,size){var fontData=this.getFontByName(fontName);var index=_char2.charCodeAt(0);if(!fontData.cache[index+1]){var tHelper=fontData.helper;if(_char2===' '){var doubleSize=tHelper.measureText('|'+_char2+'|');var singleSize=tHelper.measureText('||');fontData.cache[index+1]=(doubleSize-singleSize)/100;}else{fontData.cache[index+1]=tHelper.measureText(_char2)/100;}}return fontData.cache[index+1]*size;}function getFontByName(name){var i=0;var len=this.fonts.length;while(i<len){if(this.fonts[i].fName===name){return this.fonts[i];}i+=1;}return this.fonts[0];}function isModifier(firstCharCode,secondCharCode){var sum=firstCharCode.toString(16)+secondCharCode.toString(16);return surrogateModifiers.indexOf(sum)!==-1;}function isZeroWidthJoiner(firstCharCode,secondCharCode){if(!secondCharCode){return firstCharCode===zeroWidthJoiner[1];}return firstCharCode===zeroWidthJoiner[0]&&secondCharCode===zeroWidthJoiner[1];}function isCombinedCharacter(_char3){return combinedCharacters.indexOf(_char3)!==-1;}function setIsLoaded(){this.isLoaded=true;}var Font=function Font(){this.fonts=[];this.chars=null;this.typekitLoaded=0;this.isLoaded=false;this._warned=false;this.initTime=Date.now();this.setIsLoadedBinded=this.setIsLoaded.bind(this);this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this);};Font.isModifier=isModifier;Font.isZeroWidthJoiner=isZeroWidthJoiner;Font.isCombinedCharacter=isCombinedCharacter;var fontPrototype={addChars:addChars,addFonts:addFonts,getCharData:getCharData,getFontByName:getFontByName,measureText:measureText,checkLoadedFonts:checkLoadedFonts,setIsLoaded:setIsLoaded};Font.prototype=fontPrototype;return Font;}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function initRenderable(){// layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\nthis.isInRange=false;// layer's display state\nthis.hidden=false;// If layer's transparency equals 0, it can be hidden\nthis.isTransparent=false;// list of animated components\nthis.renderableComponents=[];},addRenderableComponent:function addRenderableComponent(component){if(this.renderableComponents.indexOf(component)===-1){this.renderableComponents.push(component);}},removeRenderableComponent:function removeRenderableComponent(component){if(this.renderableComponents.indexOf(component)!==-1){this.renderableComponents.splice(this.renderableComponents.indexOf(component),1);}},prepareRenderableFrame:function prepareRenderableFrame(num){this.checkLayerLimits(num);},checkTransparency:function checkTransparency(){if(this.finalTransform.mProp.o.v<=0){if(!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent){this.isTransparent=true;this.hide();}}else if(this.isTransparent){this.isTransparent=false;this.show();}},/**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       *\r\n       */checkLayerLimits:function checkLayerLimits(num){if(this.data.ip-this.data.st<=num&&this.data.op-this.data.st>num){if(this.isInRange!==true){this.globalData._mdf=true;this._mdf=true;this.isInRange=true;this.show();}}else if(this.isInRange!==false){this.globalData._mdf=true;this.isInRange=false;this.hide();}},renderRenderable:function renderRenderable(){var i;var len=this.renderableComponents.length;for(i=0;i<len;i+=1){this.renderableComponents[i].renderFrame(this._isFirstFrame);}/* this.maskManager.renderFrame(this.finalTransform.mat);\r\n          this.renderableEffectsManager.renderFrame(this._isFirstFrame); */},sourceRectAtTime:function sourceRectAtTime(){return{top:0,left:0,width:100,height:100};},getLayerSize:function getLayerSize(){if(this.data.ty===5){return{w:this.data.textData.width,h:this.data.textData.height};}return{w:this.data.width,h:this.data.height};}};var MaskManagerInterface=function(){function MaskInterface(mask,data){this._mask=mask;this._data=data;}Object.defineProperty(MaskInterface.prototype,'maskPath',{get:function get(){if(this._mask.prop.k){this._mask.prop.getValue();}return this._mask.prop;}});Object.defineProperty(MaskInterface.prototype,'maskOpacity',{get:function get(){if(this._mask.op.k){this._mask.op.getValue();}return this._mask.op.v*100;}});var MaskManager=function MaskManager(maskManager){var _masksInterfaces=createSizedArray(maskManager.viewData.length);var i;var len=maskManager.viewData.length;for(i=0;i<len;i+=1){_masksInterfaces[i]=new MaskInterface(maskManager.viewData[i],maskManager.masksProperties[i]);}var maskFunction=function maskFunction(name){i=0;while(i<len){if(maskManager.masksProperties[i].nm===name){return _masksInterfaces[i];}i+=1;}return null;};return maskFunction;};return MaskManager;}();var ExpressionPropertyInterface=function(){var defaultUnidimensionalValue={pv:0,v:0,mult:1};var defaultMultidimensionalValue={pv:[0,0,0],v:[0,0,0],mult:1};function completeProperty(expressionValue,property,type){Object.defineProperty(expressionValue,'velocity',{get:function get(){return property.getVelocityAtTime(property.comp.currentFrame);}});expressionValue.numKeys=property.keyframes?property.keyframes.length:0;expressionValue.key=function(pos){if(!expressionValue.numKeys){return 0;}var value='';if('s'in property.keyframes[pos-1]){value=property.keyframes[pos-1].s;}else if('e'in property.keyframes[pos-2]){value=property.keyframes[pos-2].e;}else{value=property.keyframes[pos-2].s;}var valueProp=type==='unidimensional'?new Number(value):Object.assign({},value);// eslint-disable-line no-new-wrappers\nvalueProp.time=property.keyframes[pos-1].t/property.elem.comp.globalData.frameRate;valueProp.value=type==='unidimensional'?value[0]:value;return valueProp;};expressionValue.valueAtTime=property.getValueAtTime;expressionValue.speedAtTime=property.getSpeedAtTime;expressionValue.velocityAtTime=property.getVelocityAtTime;expressionValue.propertyGroup=property.propertyGroup;}function UnidimensionalPropertyInterface(property){if(!property||!('pv'in property)){property=defaultUnidimensionalValue;}var mult=1/property.mult;var val=property.pv*mult;var expressionValue=new Number(val);// eslint-disable-line no-new-wrappers\nexpressionValue.value=val;completeProperty(expressionValue,property,'unidimensional');return function(){if(property.k){property.getValue();}val=property.v*mult;if(expressionValue.value!==val){expressionValue=new Number(val);// eslint-disable-line no-new-wrappers\nexpressionValue.value=val;completeProperty(expressionValue,property,'unidimensional');}return expressionValue;};}function MultidimensionalPropertyInterface(property){if(!property||!('pv'in property)){property=defaultMultidimensionalValue;}var mult=1/property.mult;var len=property.data&&property.data.l||property.pv.length;var expressionValue=createTypedArray('float32',len);var arrValue=createTypedArray('float32',len);expressionValue.value=arrValue;completeProperty(expressionValue,property,'multidimensional');return function(){if(property.k){property.getValue();}for(var i=0;i<len;i+=1){arrValue[i]=property.v[i]*mult;expressionValue[i]=arrValue[i];}return expressionValue;};}// TODO: try to avoid using this getter\nfunction defaultGetter(){return defaultUnidimensionalValue;}return function(property){if(!property){return defaultGetter;}if(property.propType==='unidimensional'){return UnidimensionalPropertyInterface(property);}return MultidimensionalPropertyInterface(property);};}();var TransformExpressionInterface=function(){return function(transform){function _thisFunction(name){switch(name){case'scale':case'Scale':case'ADBE Scale':case 6:return _thisFunction.scale;case'rotation':case'Rotation':case'ADBE Rotation':case'ADBE Rotate Z':case 10:return _thisFunction.rotation;case'ADBE Rotate X':return _thisFunction.xRotation;case'ADBE Rotate Y':return _thisFunction.yRotation;case'position':case'Position':case'ADBE Position':case 2:return _thisFunction.position;case'ADBE Position_0':return _thisFunction.xPosition;case'ADBE Position_1':return _thisFunction.yPosition;case'ADBE Position_2':return _thisFunction.zPosition;case'anchorPoint':case'AnchorPoint':case'Anchor Point':case'ADBE AnchorPoint':case 1:return _thisFunction.anchorPoint;case'opacity':case'Opacity':case 11:return _thisFunction.opacity;default:return null;}}Object.defineProperty(_thisFunction,'rotation',{get:ExpressionPropertyInterface(transform.r||transform.rz)});Object.defineProperty(_thisFunction,'zRotation',{get:ExpressionPropertyInterface(transform.rz||transform.r)});Object.defineProperty(_thisFunction,'xRotation',{get:ExpressionPropertyInterface(transform.rx)});Object.defineProperty(_thisFunction,'yRotation',{get:ExpressionPropertyInterface(transform.ry)});Object.defineProperty(_thisFunction,'scale',{get:ExpressionPropertyInterface(transform.s)});var _px;var _py;var _pz;var _transformFactory;if(transform.p){_transformFactory=ExpressionPropertyInterface(transform.p);}else{_px=ExpressionPropertyInterface(transform.px);_py=ExpressionPropertyInterface(transform.py);if(transform.pz){_pz=ExpressionPropertyInterface(transform.pz);}}Object.defineProperty(_thisFunction,'position',{get:function get(){if(transform.p){return _transformFactory();}return[_px(),_py(),_pz?_pz():0];}});Object.defineProperty(_thisFunction,'xPosition',{get:ExpressionPropertyInterface(transform.px)});Object.defineProperty(_thisFunction,'yPosition',{get:ExpressionPropertyInterface(transform.py)});Object.defineProperty(_thisFunction,'zPosition',{get:ExpressionPropertyInterface(transform.pz)});Object.defineProperty(_thisFunction,'anchorPoint',{get:ExpressionPropertyInterface(transform.a)});Object.defineProperty(_thisFunction,'opacity',{get:ExpressionPropertyInterface(transform.o)});Object.defineProperty(_thisFunction,'skew',{get:ExpressionPropertyInterface(transform.sk)});Object.defineProperty(_thisFunction,'skewAxis',{get:ExpressionPropertyInterface(transform.sa)});Object.defineProperty(_thisFunction,'orientation',{get:ExpressionPropertyInterface(transform.or)});return _thisFunction;};}();var LayerExpressionInterface=function(){function getMatrix(time){var toWorldMat=new Matrix();if(time!==undefined){var propMatrix=this._elem.finalTransform.mProp.getValueAtTime(time);propMatrix.clone(toWorldMat);}else{var transformMat=this._elem.finalTransform.mProp;transformMat.applyToMatrix(toWorldMat);}return toWorldMat;}function toWorldVec(arr,time){var toWorldMat=this.getMatrix(time);toWorldMat.props[12]=0;toWorldMat.props[13]=0;toWorldMat.props[14]=0;return this.applyPoint(toWorldMat,arr);}function toWorld(arr,time){var toWorldMat=this.getMatrix(time);return this.applyPoint(toWorldMat,arr);}function fromWorldVec(arr,time){var toWorldMat=this.getMatrix(time);toWorldMat.props[12]=0;toWorldMat.props[13]=0;toWorldMat.props[14]=0;return this.invertPoint(toWorldMat,arr);}function fromWorld(arr,time){var toWorldMat=this.getMatrix(time);return this.invertPoint(toWorldMat,arr);}function applyPoint(matrix,arr){if(this._elem.hierarchy&&this._elem.hierarchy.length){var i;var len=this._elem.hierarchy.length;for(i=0;i<len;i+=1){this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);}}return matrix.applyToPointArray(arr[0],arr[1],arr[2]||0);}function invertPoint(matrix,arr){if(this._elem.hierarchy&&this._elem.hierarchy.length){var i;var len=this._elem.hierarchy.length;for(i=0;i<len;i+=1){this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);}}return matrix.inversePoint(arr);}function fromComp(arr){var toWorldMat=new Matrix();toWorldMat.reset();this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);if(this._elem.hierarchy&&this._elem.hierarchy.length){var i;var len=this._elem.hierarchy.length;for(i=0;i<len;i+=1){this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);}return toWorldMat.inversePoint(arr);}return toWorldMat.inversePoint(arr);}function sampleImage(){return[1,1,1,1];}return function(elem){var transformInterface;function _registerMaskInterface(maskManager){_thisLayerFunction.mask=new MaskManagerInterface(maskManager,elem);}function _registerEffectsInterface(effects){_thisLayerFunction.effect=effects;}function _thisLayerFunction(name){switch(name){case'ADBE Root Vectors Group':case'Contents':case 2:return _thisLayerFunction.shapeInterface;case 1:case 6:case'Transform':case'transform':case'ADBE Transform Group':return transformInterface;case 4:case'ADBE Effect Parade':case'effects':case'Effects':return _thisLayerFunction.effect;case'ADBE Text Properties':return _thisLayerFunction.textInterface;default:return null;}}_thisLayerFunction.getMatrix=getMatrix;_thisLayerFunction.invertPoint=invertPoint;_thisLayerFunction.applyPoint=applyPoint;_thisLayerFunction.toWorld=toWorld;_thisLayerFunction.toWorldVec=toWorldVec;_thisLayerFunction.fromWorld=fromWorld;_thisLayerFunction.fromWorldVec=fromWorldVec;_thisLayerFunction.toComp=toWorld;_thisLayerFunction.fromComp=fromComp;_thisLayerFunction.sampleImage=sampleImage;_thisLayerFunction.sourceRectAtTime=elem.sourceRectAtTime.bind(elem);_thisLayerFunction._elem=elem;transformInterface=TransformExpressionInterface(elem.finalTransform.mProp);var anchorPointDescriptor=getDescriptor(transformInterface,'anchorPoint');Object.defineProperties(_thisLayerFunction,{hasParent:{get:function get(){return elem.hierarchy.length;}},parent:{get:function get(){return elem.hierarchy[0].layerInterface;}},rotation:getDescriptor(transformInterface,'rotation'),scale:getDescriptor(transformInterface,'scale'),position:getDescriptor(transformInterface,'position'),opacity:getDescriptor(transformInterface,'opacity'),anchorPoint:anchorPointDescriptor,anchor_point:anchorPointDescriptor,transform:{get:function get(){return transformInterface;}},active:{get:function get(){return elem.isInRange;}}});_thisLayerFunction.startTime=elem.data.st;_thisLayerFunction.index=elem.data.ind;_thisLayerFunction.source=elem.data.refId;_thisLayerFunction.height=elem.data.ty===0?elem.data.h:100;_thisLayerFunction.width=elem.data.ty===0?elem.data.w:100;_thisLayerFunction.inPoint=elem.data.ip/elem.comp.globalData.frameRate;_thisLayerFunction.outPoint=elem.data.op/elem.comp.globalData.frameRate;_thisLayerFunction._name=elem.data.nm;_thisLayerFunction.registerMaskInterface=_registerMaskInterface;_thisLayerFunction.registerEffectsInterface=_registerEffectsInterface;return _thisLayerFunction;};}();var propertyGroupFactory=function(){return function(interfaceFunction,parentPropertyGroup){return function(val){val=val===undefined?1:val;if(val<=0){return interfaceFunction;}return parentPropertyGroup(val-1);};};}();var PropertyInterface=function(){return function(propertyName,propertyGroup){var interfaceFunction={_name:propertyName};function _propertyGroup(val){val=val===undefined?1:val;if(val<=0){return interfaceFunction;}return propertyGroup(val-1);}return _propertyGroup;};}();var EffectsExpressionInterface=function(){var ob={createEffectsInterface:createEffectsInterface};function createEffectsInterface(elem,propertyGroup){if(elem.effectsManager){var effectElements=[];var effectsData=elem.data.ef;var i;var len=elem.effectsManager.effectElements.length;for(i=0;i<len;i+=1){effectElements.push(createGroupInterface(effectsData[i],elem.effectsManager.effectElements[i],propertyGroup,elem));}var effects=elem.data.ef||[];var groupInterface=function groupInterface(name){i=0;len=effects.length;while(i<len){if(name===effects[i].nm||name===effects[i].mn||name===effects[i].ix){return effectElements[i];}i+=1;}return null;};Object.defineProperty(groupInterface,'numProperties',{get:function get(){return effects.length;}});return groupInterface;}return null;}function createGroupInterface(data,elements,propertyGroup,elem){function groupInterface(name){var effects=data.ef;var i=0;var len=effects.length;while(i<len){if(name===effects[i].nm||name===effects[i].mn||name===effects[i].ix){if(effects[i].ty===5){return effectElements[i];}return effectElements[i]();}i+=1;}throw new Error();}var _propertyGroup=propertyGroupFactory(groupInterface,propertyGroup);var effectElements=[];var i;var len=data.ef.length;for(i=0;i<len;i+=1){if(data.ef[i].ty===5){effectElements.push(createGroupInterface(data.ef[i],elements.effectElements[i],elements.effectElements[i].propertyGroup,elem));}else{effectElements.push(createValueInterface(elements.effectElements[i],data.ef[i].ty,elem,_propertyGroup));}}if(data.mn==='ADBE Color Control'){Object.defineProperty(groupInterface,'color',{get:function get(){return effectElements[0]();}});}Object.defineProperties(groupInterface,{numProperties:{get:function get(){return data.np;}},_name:{value:data.nm},propertyGroup:{value:_propertyGroup}});groupInterface.enabled=data.en!==0;groupInterface.active=groupInterface.enabled;return groupInterface;}function createValueInterface(element,type,elem,propertyGroup){var expressionProperty=ExpressionPropertyInterface(element.p);function interfaceFunction(){if(type===10){return elem.comp.compInterface(element.p.v);}return expressionProperty();}if(element.p.setGroupProperty){element.p.setGroupProperty(PropertyInterface('',propertyGroup));}return interfaceFunction;}return ob;}();var CompExpressionInterface=function(){return function(comp){function _thisLayerFunction(name){var i=0;var len=comp.layers.length;while(i<len){if(comp.layers[i].nm===name||comp.layers[i].ind===name){return comp.elements[i].layerInterface;}i+=1;}return null;// return {active:false};\n}Object.defineProperty(_thisLayerFunction,'_name',{value:comp.data.nm});_thisLayerFunction.layer=_thisLayerFunction;_thisLayerFunction.pixelAspect=1;_thisLayerFunction.height=comp.data.h||comp.globalData.compSize.h;_thisLayerFunction.width=comp.data.w||comp.globalData.compSize.w;_thisLayerFunction.pixelAspect=1;_thisLayerFunction.frameDuration=1/comp.globalData.frameRate;_thisLayerFunction.displayStartTime=0;_thisLayerFunction.numLayers=comp.layers.length;return _thisLayerFunction;};}();var ShapePathInterface=function(){return function pathInterfaceFactory(shape,view,propertyGroup){var prop=view.sh;function interfaceFunction(val){if(val==='Shape'||val==='shape'||val==='Path'||val==='path'||val==='ADBE Vector Shape'||val===2){return interfaceFunction.path;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);prop.setGroupProperty(PropertyInterface('Path',_propertyGroup));Object.defineProperties(interfaceFunction,{path:{get:function get(){if(prop.k){prop.getValue();}return prop;}},shape:{get:function get(){if(prop.k){prop.getValue();}return prop;}},_name:{value:shape.nm},ix:{value:shape.ix},propertyIndex:{value:shape.ix},mn:{value:shape.mn},propertyGroup:{value:propertyGroup}});return interfaceFunction;};}();var ShapeExpressionInterface=function(){function iterateElements(shapes,view,propertyGroup){var arr=[];var i;var len=shapes?shapes.length:0;for(i=0;i<len;i+=1){if(shapes[i].ty==='gr'){arr.push(groupInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='fl'){arr.push(fillInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='st'){arr.push(strokeInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='tm'){arr.push(trimInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='tr'){// arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\n}else if(shapes[i].ty==='el'){arr.push(ellipseInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='sr'){arr.push(starInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='sh'){arr.push(ShapePathInterface(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='rc'){arr.push(rectInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='rd'){arr.push(roundedInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='rp'){arr.push(repeaterInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='gf'){arr.push(gradientFillInterfaceFactory(shapes[i],view[i],propertyGroup));}else{arr.push(defaultInterfaceFactory(shapes[i],view[i],propertyGroup));}}return arr;}function contentsInterfaceFactory(shape,view,propertyGroup){var interfaces;var interfaceFunction=function _interfaceFunction(value){var i=0;var len=interfaces.length;while(i<len){if(interfaces[i]._name===value||interfaces[i].mn===value||interfaces[i].propertyIndex===value||interfaces[i].ix===value||interfaces[i].ind===value){return interfaces[i];}i+=1;}if(typeof value==='number'){return interfaces[value-1];}return null;};interfaceFunction.propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);interfaces=iterateElements(shape.it,view.it,interfaceFunction.propertyGroup);interfaceFunction.numProperties=interfaces.length;var transformInterface=transformInterfaceFactory(shape.it[shape.it.length-1],view.it[view.it.length-1],interfaceFunction.propertyGroup);interfaceFunction.transform=transformInterface;interfaceFunction.propertyIndex=shape.cix;interfaceFunction._name=shape.nm;return interfaceFunction;}function groupInterfaceFactory(shape,view,propertyGroup){var interfaceFunction=function _interfaceFunction(value){switch(value){case'ADBE Vectors Group':case'Contents':case 2:return interfaceFunction.content;// Not necessary for now. Keeping them here in case a new case appears\n// case 'ADBE Vector Transform Group':\n// case 3:\ndefault:return interfaceFunction.transform;}};interfaceFunction.propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var content=contentsInterfaceFactory(shape,view,interfaceFunction.propertyGroup);var transformInterface=transformInterfaceFactory(shape.it[shape.it.length-1],view.it[view.it.length-1],interfaceFunction.propertyGroup);interfaceFunction.content=content;interfaceFunction.transform=transformInterface;Object.defineProperty(interfaceFunction,'_name',{get:function get(){return shape.nm;}});// interfaceFunction.content = interfaceFunction;\ninterfaceFunction.numProperties=shape.np;interfaceFunction.propertyIndex=shape.ix;interfaceFunction.nm=shape.nm;interfaceFunction.mn=shape.mn;return interfaceFunction;}function fillInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(val){if(val==='Color'||val==='color'){return interfaceFunction.color;}if(val==='Opacity'||val==='opacity'){return interfaceFunction.opacity;}return null;}Object.defineProperties(interfaceFunction,{color:{get:ExpressionPropertyInterface(view.c)},opacity:{get:ExpressionPropertyInterface(view.o)},_name:{value:shape.nm},mn:{value:shape.mn}});view.c.setGroupProperty(PropertyInterface('Color',propertyGroup));view.o.setGroupProperty(PropertyInterface('Opacity',propertyGroup));return interfaceFunction;}function gradientFillInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(val){if(val==='Start Point'||val==='start point'){return interfaceFunction.startPoint;}if(val==='End Point'||val==='end point'){return interfaceFunction.endPoint;}if(val==='Opacity'||val==='opacity'){return interfaceFunction.opacity;}return null;}Object.defineProperties(interfaceFunction,{startPoint:{get:ExpressionPropertyInterface(view.s)},endPoint:{get:ExpressionPropertyInterface(view.e)},opacity:{get:ExpressionPropertyInterface(view.o)},type:{get:function get(){return'a';}},_name:{value:shape.nm},mn:{value:shape.mn}});view.s.setGroupProperty(PropertyInterface('Start Point',propertyGroup));view.e.setGroupProperty(PropertyInterface('End Point',propertyGroup));view.o.setGroupProperty(PropertyInterface('Opacity',propertyGroup));return interfaceFunction;}function defaultInterfaceFactory(){function interfaceFunction(){return null;}return interfaceFunction;}function strokeInterfaceFactory(shape,view,propertyGroup){var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var _dashPropertyGroup=propertyGroupFactory(dashOb,_propertyGroup);function addPropertyToDashOb(i){Object.defineProperty(dashOb,shape.d[i].nm,{get:ExpressionPropertyInterface(view.d.dataProps[i].p)});}var i;var len=shape.d?shape.d.length:0;var dashOb={};for(i=0;i<len;i+=1){addPropertyToDashOb(i);view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);}function interfaceFunction(val){if(val==='Color'||val==='color'){return interfaceFunction.color;}if(val==='Opacity'||val==='opacity'){return interfaceFunction.opacity;}if(val==='Stroke Width'||val==='stroke width'){return interfaceFunction.strokeWidth;}return null;}Object.defineProperties(interfaceFunction,{color:{get:ExpressionPropertyInterface(view.c)},opacity:{get:ExpressionPropertyInterface(view.o)},strokeWidth:{get:ExpressionPropertyInterface(view.w)},dash:{get:function get(){return dashOb;}},_name:{value:shape.nm},mn:{value:shape.mn}});view.c.setGroupProperty(PropertyInterface('Color',_propertyGroup));view.o.setGroupProperty(PropertyInterface('Opacity',_propertyGroup));view.w.setGroupProperty(PropertyInterface('Stroke Width',_propertyGroup));return interfaceFunction;}function trimInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(val){if(val===shape.e.ix||val==='End'||val==='end'){return interfaceFunction.end;}if(val===shape.s.ix){return interfaceFunction.start;}if(val===shape.o.ix){return interfaceFunction.offset;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);interfaceFunction.propertyIndex=shape.ix;view.s.setGroupProperty(PropertyInterface('Start',_propertyGroup));view.e.setGroupProperty(PropertyInterface('End',_propertyGroup));view.o.setGroupProperty(PropertyInterface('Offset',_propertyGroup));interfaceFunction.propertyIndex=shape.ix;interfaceFunction.propertyGroup=propertyGroup;Object.defineProperties(interfaceFunction,{start:{get:ExpressionPropertyInterface(view.s)},end:{get:ExpressionPropertyInterface(view.e)},offset:{get:ExpressionPropertyInterface(view.o)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}function transformInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.a.ix===value||value==='Anchor Point'){return interfaceFunction.anchorPoint;}if(shape.o.ix===value||value==='Opacity'){return interfaceFunction.opacity;}if(shape.p.ix===value||value==='Position'){return interfaceFunction.position;}if(shape.r.ix===value||value==='Rotation'||value==='ADBE Vector Rotation'){return interfaceFunction.rotation;}if(shape.s.ix===value||value==='Scale'){return interfaceFunction.scale;}if(shape.sk&&shape.sk.ix===value||value==='Skew'){return interfaceFunction.skew;}if(shape.sa&&shape.sa.ix===value||value==='Skew Axis'){return interfaceFunction.skewAxis;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity',_propertyGroup));view.transform.mProps.p.setGroupProperty(PropertyInterface('Position',_propertyGroup));view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point',_propertyGroup));view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale',_propertyGroup));view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation',_propertyGroup));if(view.transform.mProps.sk){view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew',_propertyGroup));view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle',_propertyGroup));}view.transform.op.setGroupProperty(PropertyInterface('Opacity',_propertyGroup));Object.defineProperties(interfaceFunction,{opacity:{get:ExpressionPropertyInterface(view.transform.mProps.o)},position:{get:ExpressionPropertyInterface(view.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(view.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(view.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(view.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(view.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(view.transform.mProps.sa)},_name:{value:shape.nm}});interfaceFunction.ty='tr';interfaceFunction.mn=shape.mn;interfaceFunction.propertyGroup=propertyGroup;return interfaceFunction;}function ellipseInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.p.ix===value){return interfaceFunction.position;}if(shape.s.ix===value){return interfaceFunction.size;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);interfaceFunction.propertyIndex=shape.ix;var prop=view.sh.ty==='tm'?view.sh.prop:view.sh;prop.s.setGroupProperty(PropertyInterface('Size',_propertyGroup));prop.p.setGroupProperty(PropertyInterface('Position',_propertyGroup));Object.defineProperties(interfaceFunction,{size:{get:ExpressionPropertyInterface(prop.s)},position:{get:ExpressionPropertyInterface(prop.p)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}function starInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.p.ix===value){return interfaceFunction.position;}if(shape.r.ix===value){return interfaceFunction.rotation;}if(shape.pt.ix===value){return interfaceFunction.points;}if(shape.or.ix===value||value==='ADBE Vector Star Outer Radius'){return interfaceFunction.outerRadius;}if(shape.os.ix===value){return interfaceFunction.outerRoundness;}if(shape.ir&&(shape.ir.ix===value||value==='ADBE Vector Star Inner Radius')){return interfaceFunction.innerRadius;}if(shape.is&&shape.is.ix===value){return interfaceFunction.innerRoundness;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var prop=view.sh.ty==='tm'?view.sh.prop:view.sh;interfaceFunction.propertyIndex=shape.ix;prop.or.setGroupProperty(PropertyInterface('Outer Radius',_propertyGroup));prop.os.setGroupProperty(PropertyInterface('Outer Roundness',_propertyGroup));prop.pt.setGroupProperty(PropertyInterface('Points',_propertyGroup));prop.p.setGroupProperty(PropertyInterface('Position',_propertyGroup));prop.r.setGroupProperty(PropertyInterface('Rotation',_propertyGroup));if(shape.ir){prop.ir.setGroupProperty(PropertyInterface('Inner Radius',_propertyGroup));prop.is.setGroupProperty(PropertyInterface('Inner Roundness',_propertyGroup));}Object.defineProperties(interfaceFunction,{position:{get:ExpressionPropertyInterface(prop.p)},rotation:{get:ExpressionPropertyInterface(prop.r)},points:{get:ExpressionPropertyInterface(prop.pt)},outerRadius:{get:ExpressionPropertyInterface(prop.or)},outerRoundness:{get:ExpressionPropertyInterface(prop.os)},innerRadius:{get:ExpressionPropertyInterface(prop.ir)},innerRoundness:{get:ExpressionPropertyInterface(prop.is)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}function rectInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.p.ix===value){return interfaceFunction.position;}if(shape.r.ix===value){return interfaceFunction.roundness;}if(shape.s.ix===value||value==='Size'||value==='ADBE Vector Rect Size'){return interfaceFunction.size;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var prop=view.sh.ty==='tm'?view.sh.prop:view.sh;interfaceFunction.propertyIndex=shape.ix;prop.p.setGroupProperty(PropertyInterface('Position',_propertyGroup));prop.s.setGroupProperty(PropertyInterface('Size',_propertyGroup));prop.r.setGroupProperty(PropertyInterface('Rotation',_propertyGroup));Object.defineProperties(interfaceFunction,{position:{get:ExpressionPropertyInterface(prop.p)},roundness:{get:ExpressionPropertyInterface(prop.r)},size:{get:ExpressionPropertyInterface(prop.s)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}function roundedInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.r.ix===value||value==='Round Corners 1'){return interfaceFunction.radius;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var prop=view;interfaceFunction.propertyIndex=shape.ix;prop.rd.setGroupProperty(PropertyInterface('Radius',_propertyGroup));Object.defineProperties(interfaceFunction,{radius:{get:ExpressionPropertyInterface(prop.rd)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}function repeaterInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.c.ix===value||value==='Copies'){return interfaceFunction.copies;}if(shape.o.ix===value||value==='Offset'){return interfaceFunction.offset;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var prop=view;interfaceFunction.propertyIndex=shape.ix;prop.c.setGroupProperty(PropertyInterface('Copies',_propertyGroup));prop.o.setGroupProperty(PropertyInterface('Offset',_propertyGroup));Object.defineProperties(interfaceFunction,{copies:{get:ExpressionPropertyInterface(prop.c)},offset:{get:ExpressionPropertyInterface(prop.o)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}return function(shapes,view,propertyGroup){var interfaces;function _interfaceFunction(value){if(typeof value==='number'){value=value===undefined?1:value;if(value===0){return propertyGroup;}return interfaces[value-1];}var i=0;var len=interfaces.length;while(i<len){if(interfaces[i]._name===value){return interfaces[i];}i+=1;}return null;}function parentGroupWrapper(){return propertyGroup;}_interfaceFunction.propertyGroup=propertyGroupFactory(_interfaceFunction,parentGroupWrapper);interfaces=iterateElements(shapes,view,_interfaceFunction.propertyGroup);_interfaceFunction.numProperties=interfaces.length;_interfaceFunction._name='Contents';return _interfaceFunction;};}();var TextExpressionInterface=function(){return function(elem){var _prevValue;var _sourceText;function _thisLayerFunction(name){switch(name){case'ADBE Text Document':return _thisLayerFunction.sourceText;default:return null;}}Object.defineProperty(_thisLayerFunction,'sourceText',{get:function get(){elem.textProperty.getValue();var stringValue=elem.textProperty.currentData.t;if(stringValue!==_prevValue){elem.textProperty.currentData.t=_prevValue;_sourceText=new String(stringValue);// eslint-disable-line no-new-wrappers\n// If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\n_sourceText.value=stringValue||new String(stringValue);// eslint-disable-line no-new-wrappers\n}return _sourceText;}});return _thisLayerFunction;};}();var getBlendMode=function(){var blendModeEnums={0:'source-over',1:'multiply',2:'screen',3:'overlay',4:'darken',5:'lighten',6:'color-dodge',7:'color-burn',8:'hard-light',9:'soft-light',10:'difference',11:'exclusion',12:'hue',13:'saturation',14:'color',15:'luminosity'};return function(mode){return blendModeEnums[mode]||'';};}();function SliderEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,0,0,container);}function AngleEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,0,0,container);}function ColorEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,1,0,container);}function PointEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,1,0,container);}function LayerIndexEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,0,0,container);}function MaskIndexEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,0,0,container);}function CheckboxEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,0,0,container);}function NoValueEffect(){this.p={};}function EffectsManager(data,element){var effects=data.ef||[];this.effectElements=[];var i;var len=effects.length;var effectItem;for(i=0;i<len;i+=1){effectItem=new GroupEffect(effects[i],element);this.effectElements.push(effectItem);}}function GroupEffect(data,element){this.init(data,element);}extendPrototype([DynamicPropertyContainer],GroupEffect);GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties;GroupEffect.prototype.init=function(data,element){this.data=data;this.effectElements=[];this.initDynamicPropertyContainer(element);var i;var len=this.data.ef.length;var eff;var effects=this.data.ef;for(i=0;i<len;i+=1){eff=null;switch(effects[i].ty){case 0:eff=new SliderEffect(effects[i],element,this);break;case 1:eff=new AngleEffect(effects[i],element,this);break;case 2:eff=new ColorEffect(effects[i],element,this);break;case 3:eff=new PointEffect(effects[i],element,this);break;case 4:case 7:eff=new CheckboxEffect(effects[i],element,this);break;case 10:eff=new LayerIndexEffect(effects[i],element,this);break;case 11:eff=new MaskIndexEffect(effects[i],element,this);break;case 5:eff=new EffectsManager(effects[i],element,this);break;// case 6:\ndefault:eff=new NoValueEffect(effects[i],element,this);break;}if(eff){this.effectElements.push(eff);}}};function BaseElement(){}BaseElement.prototype={checkMasks:function checkMasks(){if(!this.data.hasMask){return false;}var i=0;var len=this.data.masksProperties.length;while(i<len){if(this.data.masksProperties[i].mode!=='n'&&this.data.masksProperties[i].cl!==false){return true;}i+=1;}return false;},initExpressions:function initExpressions(){this.layerInterface=LayerExpressionInterface(this);if(this.data.hasMask&&this.maskManager){this.layerInterface.registerMaskInterface(this.maskManager);}var effectsInterface=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(effectsInterface);if(this.data.ty===0||this.data.xt){this.compInterface=CompExpressionInterface(this);}else if(this.data.ty===4){this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface);this.layerInterface.content=this.layerInterface.shapeInterface;}else if(this.data.ty===5){this.layerInterface.textInterface=TextExpressionInterface(this);this.layerInterface.text=this.layerInterface.textInterface;}},setBlendMode:function setBlendMode(){var blendModeValue=getBlendMode(this.data.bm);var elem=this.baseElement||this.layerElement;elem.style['mix-blend-mode']=blendModeValue;},initBaseData:function initBaseData(data,globalData,comp){this.globalData=globalData;this.comp=comp;this.data=data;this.layerId=createElementID();// Stretch factor for old animations missing this property.\nif(!this.data.sr){this.data.sr=1;}// effects manager\nthis.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties);},getType:function getType(){return this.type;},sourceRectAtTime:function sourceRectAtTime(){}};/**\r\n   * @file\r\n   * Handles element's layer frame update.\r\n   * Checks layer in point and out point\r\n   *\r\n   */function FrameElement(){}FrameElement.prototype={/**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       */initFrame:function initFrame(){// set to true when inpoint is rendered\nthis._isFirstFrame=false;// list of animated properties\nthis.dynamicProperties=[];// If layer has been modified in current tick this will be true\nthis._mdf=false;},/**\r\n       * @function\r\n       * Calculates all dynamic values\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       * @param {boolean} isVisible\r\n       * if layers is currently in range\r\n       *\r\n       */prepareProperties:function prepareProperties(num,isVisible){var i;var len=this.dynamicProperties.length;for(i=0;i<len;i+=1){if(isVisible||this._isParent&&this.dynamicProperties[i].propType==='transform'){this.dynamicProperties[i].getValue();if(this.dynamicProperties[i]._mdf){this.globalData._mdf=true;this._mdf=true;}}}},addDynamicProperty:function addDynamicProperty(prop){if(this.dynamicProperties.indexOf(prop)===-1){this.dynamicProperties.push(prop);}}};function _typeof$2(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$2=function _typeof(obj){return typeof obj;};}else{_typeof$2=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$2(obj);}var FootageInterface=function(){var outlineInterfaceFactory=function outlineInterfaceFactory(elem){var currentPropertyName='';var currentProperty=elem.getFootageData();function init(){currentPropertyName='';currentProperty=elem.getFootageData();return searchProperty;}function searchProperty(value){if(currentProperty[value]){currentPropertyName=value;currentProperty=currentProperty[value];if(_typeof$2(currentProperty)==='object'){return searchProperty;}return currentProperty;}var propertyNameIndex=value.indexOf(currentPropertyName);if(propertyNameIndex!==-1){var index=parseInt(value.substr(propertyNameIndex+currentPropertyName.length),10);currentProperty=currentProperty[index];if(_typeof$2(currentProperty)==='object'){return searchProperty;}return currentProperty;}return'';}return init;};var dataInterfaceFactory=function dataInterfaceFactory(elem){function interfaceFunction(value){if(value==='Outline'){return interfaceFunction.outlineInterface();}return null;}interfaceFunction._name='Outline';interfaceFunction.outlineInterface=outlineInterfaceFactory(elem);return interfaceFunction;};return function(elem){function _interfaceFunction(value){if(value==='Data'){return _interfaceFunction.dataInterface;}return null;}_interfaceFunction._name='Data';_interfaceFunction.dataInterface=dataInterfaceFactory(elem);return _interfaceFunction;};}();function FootageElement(data,globalData,comp){this.initFrame();this.initRenderable();this.assetData=globalData.getAssetData(data.refId);this.footageData=globalData.imageLoader.getAsset(this.assetData);this.initBaseData(data,globalData,comp);}FootageElement.prototype.prepareFrame=function(){};extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement);FootageElement.prototype.getBaseElement=function(){return null;};FootageElement.prototype.renderFrame=function(){};FootageElement.prototype.destroy=function(){};FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this);};FootageElement.prototype.getFootageData=function(){return this.footageData;};function AudioElement(data,globalData,comp){this.initFrame();this.initRenderable();this.assetData=globalData.getAssetData(data.refId);this.initBaseData(data,globalData,comp);this._isPlaying=false;this._canPlay=false;var assetPath=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(assetPath);this._currentTime=0;this.globalData.audioController.addAudio(this);this._volumeMultiplier=1;this._volume=1;this._previousVolume=null;this.tm=data.tm?PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this):{_placeholder:true};this.lv=PropertyFactory.getProp(this,data.au&&data.au.lv?data.au.lv:{k:[100]},1,0.01,this);}AudioElement.prototype.prepareFrame=function(num){this.prepareRenderableFrame(num,true);this.prepareProperties(num,true);if(!this.tm._placeholder){var timeRemapped=this.tm.v;this._currentTime=timeRemapped;}else{this._currentTime=num/this.data.sr;}this._volume=this.lv.v[0];var totalVolume=this._volume*this._volumeMultiplier;if(this._previousVolume!==totalVolume){this._previousVolume=totalVolume;this.audio.volume(totalVolume);}};extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement);AudioElement.prototype.renderFrame=function(){if(this.isInRange&&this._canPlay){if(!this._isPlaying){this.audio.play();this.audio.seek(this._currentTime/this.globalData.frameRate);this._isPlaying=true;}else if(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>0.1){this.audio.seek(this._currentTime/this.globalData.frameRate);}}};AudioElement.prototype.show=function(){// this.audio.play()\n};AudioElement.prototype.hide=function(){this.audio.pause();this._isPlaying=false;};AudioElement.prototype.pause=function(){this.audio.pause();this._isPlaying=false;this._canPlay=false;};AudioElement.prototype.resume=function(){this._canPlay=true;};AudioElement.prototype.setRate=function(rateValue){this.audio.rate(rateValue);};AudioElement.prototype.volume=function(volumeValue){this._volumeMultiplier=volumeValue;this._previousVolume=volumeValue*this._volume;this.audio.volume(this._previousVolume);};AudioElement.prototype.getBaseElement=function(){return null;};AudioElement.prototype.destroy=function(){};AudioElement.prototype.sourceRectAtTime=function(){};AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(num){var i;var len=this.layers.length;var data;this.completeLayers=true;for(i=len-1;i>=0;i-=1){if(!this.elements[i]){data=this.layers[i];if(data.ip-data.st<=num-this.layers[i].st&&data.op-data.st>num-this.layers[i].st){this.buildItem(i);}}this.completeLayers=this.elements[i]?this.completeLayers:false;}this.checkPendingElements();};BaseRenderer.prototype.createItem=function(layer){switch(layer.ty){case 2:return this.createImage(layer);case 0:return this.createComp(layer);case 1:return this.createSolid(layer);case 3:return this.createNull(layer);case 4:return this.createShape(layer);case 5:return this.createText(layer);case 6:return this.createAudio(layer);case 13:return this.createCamera(layer);case 15:return this.createFootage(layer);default:return this.createNull(layer);}};BaseRenderer.prototype.createCamera=function(){throw new Error('You\\'re using a 3d camera. Try the html renderer.');};BaseRenderer.prototype.createAudio=function(data){return new AudioElement(data,this.globalData,this);};BaseRenderer.prototype.createFootage=function(data){return new FootageElement(data,this.globalData,this);};BaseRenderer.prototype.buildAllItems=function(){var i;var len=this.layers.length;for(i=0;i<len;i+=1){this.buildItem(i);}this.checkPendingElements();};BaseRenderer.prototype.includeLayers=function(newLayers){this.completeLayers=false;var i;var len=newLayers.length;var j;var jLen=this.layers.length;for(i=0;i<len;i+=1){j=0;while(j<jLen){if(this.layers[j].id===newLayers[i].id){this.layers[j]=newLayers[i];break;}j+=1;}}};BaseRenderer.prototype.setProjectInterface=function(pInterface){this.globalData.projectInterface=pInterface;};BaseRenderer.prototype.initItems=function(){if(!this.globalData.progressiveLoad){this.buildAllItems();}};BaseRenderer.prototype.buildElementParenting=function(element,parentName,hierarchy){var elements=this.elements;var layers=this.layers;var i=0;var len=layers.length;while(i<len){if(layers[i].ind==parentName){// eslint-disable-line eqeqeq\nif(!elements[i]||elements[i]===true){this.buildItem(i);this.addPendingElement(element);}else{hierarchy.push(elements[i]);elements[i].setAsParent();if(layers[i].parent!==undefined){this.buildElementParenting(element,layers[i].parent,hierarchy);}else{element.setHierarchy(hierarchy);}}}i+=1;}};BaseRenderer.prototype.addPendingElement=function(element){this.pendingElements.push(element);};BaseRenderer.prototype.searchExtraCompositions=function(assets){var i;var len=assets.length;for(i=0;i<len;i+=1){if(assets[i].xt){var comp=this.createComp(assets[i]);comp.initExpressions();this.globalData.projectInterface.registerComposition(comp);}}};BaseRenderer.prototype.getElementByPath=function(path){var pathValue=path.shift();var element;if(typeof pathValue==='number'){element=this.elements[pathValue];}else{var i;var len=this.elements.length;for(i=0;i<len;i+=1){if(this.elements[i].data.nm===pathValue){element=this.elements[i];break;}}}if(path.length===0){return element;}return element.getElementByPath(path);};BaseRenderer.prototype.setupGlobalData=function(animData,fontsContainer){this.globalData.fontManager=new FontManager();this.globalData.fontManager.addChars(animData.chars);this.globalData.fontManager.addFonts(animData.fonts,fontsContainer);this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem);this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem);this.globalData.imageLoader=this.animationItem.imagePreloader;this.globalData.audioController=this.animationItem.audioController;this.globalData.frameId=0;this.globalData.frameRate=animData.fr;this.globalData.nm=animData.nm;this.globalData.compSize={w:animData.w,h:animData.h};};function TransformElement(){}TransformElement.prototype={initTransform:function initTransform(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:false,_opMdf:false,mat:new Matrix()};if(this.data.ao){this.finalTransform.mProp.autoOriented=true;}// TODO: check TYPE 11: Guided elements\nif(this.data.ty!==11){// this.createElements();\n}},renderTransform:function renderTransform(){this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame;this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame;if(this.hierarchy){var mat;var finalMat=this.finalTransform.mat;var i=0;var len=this.hierarchy.length;// Checking if any of the transformation matrices in the hierarchy chain has changed.\nif(!this.finalTransform._matMdf){while(i<len){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=true;break;}i+=1;}}if(this.finalTransform._matMdf){mat=this.finalTransform.mProp.v.props;finalMat.cloneFromProps(mat);for(i=0;i<len;i+=1){mat=this.hierarchy[i].finalTransform.mProp.v.props;finalMat.transform(mat[0],mat[1],mat[2],mat[3],mat[4],mat[5],mat[6],mat[7],mat[8],mat[9],mat[10],mat[11],mat[12],mat[13],mat[14],mat[15]);}}}},globalToLocal:function globalToLocal(pt){var transforms=[];transforms.push(this.finalTransform);var flag=true;var comp=this.comp;while(flag){if(comp.finalTransform){if(comp.data.hasMask){transforms.splice(0,0,comp.finalTransform);}comp=comp.comp;}else{flag=false;}}var i;var len=transforms.length;var ptNew;for(i=0;i<len;i+=1){ptNew=transforms[i].mat.applyToPointArray(0,0,0);// ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\npt=[pt[0]-ptNew[0],pt[1]-ptNew[1],0];}return pt;},mHelper:new Matrix()};function MaskElement(data,element,globalData){this.data=data;this.element=element;this.globalData=globalData;this.storedData=[];this.masksProperties=this.data.masksProperties||[];this.maskElement=null;var defs=this.globalData.defs;var i;var len=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(len);this.solidPath='';var path;var properties=this.masksProperties;var count=0;var currentMasks=[];var j;var jLen;var layerId=createElementID();var rect;var expansor;var feMorph;var x;var maskType='clipPath';var maskRef='clip-path';for(i=0;i<len;i+=1){if(properties[i].mode!=='a'&&properties[i].mode!=='n'||properties[i].inv||properties[i].o.k!==100||properties[i].o.x){maskType='mask';maskRef='mask';}if((properties[i].mode==='s'||properties[i].mode==='i')&&count===0){rect=createNS('rect');rect.setAttribute('fill','#ffffff');rect.setAttribute('width',this.element.comp.data.w||0);rect.setAttribute('height',this.element.comp.data.h||0);currentMasks.push(rect);}else{rect=null;}path=createNS('path');if(properties[i].mode==='n'){// TODO move this to a factory or to a constructor\nthis.viewData[i]={op:PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,properties[i],3),elem:path,lastPath:''};defs.appendChild(path);}else{count+=1;path.setAttribute('fill',properties[i].mode==='s'?'#000000':'#ffffff');path.setAttribute('clip-rule','nonzero');var filterID;if(properties[i].x.k!==0){maskType='mask';maskRef='mask';x=PropertyFactory.getProp(this.element,properties[i].x,0,null,this.element);filterID=createElementID();expansor=createNS('filter');expansor.setAttribute('id',filterID);feMorph=createNS('feMorphology');feMorph.setAttribute('operator','erode');feMorph.setAttribute('in','SourceGraphic');feMorph.setAttribute('radius','0');expansor.appendChild(feMorph);defs.appendChild(expansor);path.setAttribute('stroke',properties[i].mode==='s'?'#000000':'#ffffff');}else{feMorph=null;x=null;}// TODO move this to a factory or to a constructor\nthis.storedData[i]={elem:path,x:x,expan:feMorph,lastPath:'',lastOperator:'',filterId:filterID,lastRadius:0};if(properties[i].mode==='i'){jLen=currentMasks.length;var g=createNS('g');for(j=0;j<jLen;j+=1){g.appendChild(currentMasks[j]);}var mask=createNS('mask');mask.setAttribute('mask-type','alpha');mask.setAttribute('id',layerId+'_'+count);mask.appendChild(path);defs.appendChild(mask);g.setAttribute('mask','url('+getLocationHref()+'#'+layerId+'_'+count+')');currentMasks.length=0;currentMasks.push(g);}else{currentMasks.push(path);}if(properties[i].inv&&!this.solidPath){this.solidPath=this.createLayerSolidPath();}// TODO move this to a factory or to a constructor\nthis.viewData[i]={elem:path,lastPath:'',op:PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,properties[i],3),invRect:rect};if(!this.viewData[i].prop.k){this.drawPath(properties[i],this.viewData[i].prop.v,this.viewData[i]);}}}this.maskElement=createNS(maskType);len=currentMasks.length;for(i=0;i<len;i+=1){this.maskElement.appendChild(currentMasks[i]);}if(count>0){this.maskElement.setAttribute('id',layerId);this.element.maskedElement.setAttribute(maskRef,'url('+getLocationHref()+'#'+layerId+')');defs.appendChild(this.maskElement);}if(this.viewData.length){this.element.addRenderableComponent(this);}}MaskElement.prototype.getMaskProperty=function(pos){return this.viewData[pos].prop;};MaskElement.prototype.renderFrame=function(isFirstFrame){var finalMat=this.element.finalTransform.mat;var i;var len=this.masksProperties.length;for(i=0;i<len;i+=1){if(this.viewData[i].prop._mdf||isFirstFrame){this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]);}if(this.viewData[i].op._mdf||isFirstFrame){this.viewData[i].elem.setAttribute('fill-opacity',this.viewData[i].op.v);}if(this.masksProperties[i].mode!=='n'){if(this.viewData[i].invRect&&(this.element.finalTransform.mProp._mdf||isFirstFrame)){this.viewData[i].invRect.setAttribute('transform',finalMat.getInverseMatrix().to2dCSS());}if(this.storedData[i].x&&(this.storedData[i].x._mdf||isFirstFrame)){var feMorph=this.storedData[i].expan;if(this.storedData[i].x.v<0){if(this.storedData[i].lastOperator!=='erode'){this.storedData[i].lastOperator='erode';this.storedData[i].elem.setAttribute('filter','url('+getLocationHref()+'#'+this.storedData[i].filterId+')');}feMorph.setAttribute('radius',-this.storedData[i].x.v);}else{if(this.storedData[i].lastOperator!=='dilate'){this.storedData[i].lastOperator='dilate';this.storedData[i].elem.setAttribute('filter',null);}this.storedData[i].elem.setAttribute('stroke-width',this.storedData[i].x.v*2);}}}}};MaskElement.prototype.getMaskelement=function(){return this.maskElement;};MaskElement.prototype.createLayerSolidPath=function(){var path='M0,0 ';path+=' h'+this.globalData.compSize.w;path+=' v'+this.globalData.compSize.h;path+=' h-'+this.globalData.compSize.w;path+=' v-'+this.globalData.compSize.h+' ';return path;};MaskElement.prototype.drawPath=function(pathData,pathNodes,viewData){var pathString=' M'+pathNodes.v[0][0]+','+pathNodes.v[0][1];var i;var len;len=pathNodes._length;for(i=1;i<len;i+=1){// pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\npathString+=' C'+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1]+' '+pathNodes.i[i][0]+','+pathNodes.i[i][1]+' '+pathNodes.v[i][0]+','+pathNodes.v[i][1];}// pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\nif(pathNodes.c&&len>1){pathString+=' C'+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1]+' '+pathNodes.i[0][0]+','+pathNodes.i[0][1]+' '+pathNodes.v[0][0]+','+pathNodes.v[0][1];}// pathNodes.__renderedString = pathString;\nif(viewData.lastPath!==pathString){var pathShapeValue='';if(viewData.elem){if(pathNodes.c){pathShapeValue=pathData.inv?this.solidPath+pathString:pathString;}viewData.elem.setAttribute('d',pathShapeValue);}viewData.lastPath=pathString;}};MaskElement.prototype.destroy=function(){this.element=null;this.globalData=null;this.maskElement=null;this.data=null;this.masksProperties=null;};var filtersFactory=function(){var ob={};ob.createFilter=createFilter;ob.createAlphaToLuminanceFilter=createAlphaToLuminanceFilter;function createFilter(filId,skipCoordinates){var fil=createNS('filter');fil.setAttribute('id',filId);if(skipCoordinates!==true){fil.setAttribute('filterUnits','objectBoundingBox');fil.setAttribute('x','0%');fil.setAttribute('y','0%');fil.setAttribute('width','100%');fil.setAttribute('height','100%');}return fil;}function createAlphaToLuminanceFilter(){var feColorMatrix=createNS('feColorMatrix');feColorMatrix.setAttribute('type','matrix');feColorMatrix.setAttribute('color-interpolation-filters','sRGB');feColorMatrix.setAttribute('values','0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');return feColorMatrix;}return ob;}();var featureSupport=function(){var ob={maskType:true};if(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\\/\\d./i.test(navigator.userAgent)){ob.maskType=false;}return ob;}();var registeredEffects={};var idPrefix='filter_result_';function SVGEffects(elem){var i;var source='SourceGraphic';var len=elem.data.ef?elem.data.ef.length:0;var filId=createElementID();var fil=filtersFactory.createFilter(filId,true);var count=0;this.filters=[];var filterManager;for(i=0;i<len;i+=1){filterManager=null;var type=elem.data.ef[i].ty;if(registeredEffects[type]){var Effect=registeredEffects[type].effect;filterManager=new Effect(fil,elem.effectsManager.effectElements[i],elem,idPrefix+count,source);source=idPrefix+count;if(registeredEffects[type].countsAsEffect){count+=1;}}if(filterManager){this.filters.push(filterManager);}}if(count){elem.globalData.defs.appendChild(fil);elem.layerElement.setAttribute('filter','url('+getLocationHref()+'#'+filId+')');}if(this.filters.length){elem.addRenderableComponent(this);}}SVGEffects.prototype.renderFrame=function(_isFirstFrame){var i;var len=this.filters.length;for(i=0;i<len;i+=1){this.filters[i].renderFrame(_isFirstFrame);}};function registerEffect(id,effect,countsAsEffect){registeredEffects[id]={effect:effect,countsAsEffect:countsAsEffect};}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function initRendererElement(){this.layerElement=createNS('g');},createContainerElements:function createContainerElements(){this.matteElement=createNS('g');this.transformedElement=this.layerElement;this.maskedElement=this.layerElement;this._sizeChanged=false;var layerElementParent=null;// If this layer acts as a mask for the following layer\nvar filId;var fil;var gg;if(this.data.td){if(this.data.td==3||this.data.td==1){// eslint-disable-line eqeqeq\nvar masker=createNS('mask');masker.setAttribute('id',this.layerId);masker.setAttribute('mask-type',this.data.td==3?'luminance':'alpha');// eslint-disable-line eqeqeq\nmasker.appendChild(this.layerElement);layerElementParent=masker;this.globalData.defs.appendChild(masker);// This is only for IE and Edge when mask if of type alpha\nif(!featureSupport.maskType&&this.data.td==1){// eslint-disable-line eqeqeq\nmasker.setAttribute('mask-type','luminance');filId=createElementID();fil=filtersFactory.createFilter(filId);this.globalData.defs.appendChild(fil);fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());gg=createNS('g');gg.appendChild(this.layerElement);layerElementParent=gg;masker.appendChild(gg);gg.setAttribute('filter','url('+getLocationHref()+'#'+filId+')');}}else if(this.data.td==2){// eslint-disable-line eqeqeq\nvar maskGroup=createNS('mask');maskGroup.setAttribute('id',this.layerId);maskGroup.setAttribute('mask-type','alpha');var maskGrouper=createNS('g');maskGroup.appendChild(maskGrouper);filId=createElementID();fil=filtersFactory.createFilter(filId);/// /\n// This solution doesn't work on Android when meta tag with viewport attribute is set\n/* var feColorMatrix = createNS('feColorMatrix');\r\n                  feColorMatrix.setAttribute('type', 'matrix');\r\n                  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                  feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                  fil.appendChild(feColorMatrix); */ /// /\nvar feCTr=createNS('feComponentTransfer');feCTr.setAttribute('in','SourceGraphic');fil.appendChild(feCTr);var feFunc=createNS('feFuncA');feFunc.setAttribute('type','table');feFunc.setAttribute('tableValues','1.0 0.0');feCTr.appendChild(feFunc);/// /\nthis.globalData.defs.appendChild(fil);var alphaRect=createNS('rect');alphaRect.setAttribute('width',this.comp.data.w);alphaRect.setAttribute('height',this.comp.data.h);alphaRect.setAttribute('x','0');alphaRect.setAttribute('y','0');alphaRect.setAttribute('fill','#ffffff');alphaRect.setAttribute('opacity','0');maskGrouper.setAttribute('filter','url('+getLocationHref()+'#'+filId+')');maskGrouper.appendChild(alphaRect);maskGrouper.appendChild(this.layerElement);layerElementParent=maskGrouper;if(!featureSupport.maskType){maskGroup.setAttribute('mask-type','luminance');fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());gg=createNS('g');maskGrouper.appendChild(alphaRect);gg.appendChild(this.layerElement);layerElementParent=gg;maskGrouper.appendChild(gg);}this.globalData.defs.appendChild(maskGroup);}}else if(this.data.tt){this.matteElement.appendChild(this.layerElement);layerElementParent=this.matteElement;this.baseElement=this.matteElement;}else{this.baseElement=this.layerElement;}if(this.data.ln){this.layerElement.setAttribute('id',this.data.ln);}if(this.data.cl){this.layerElement.setAttribute('class',this.data.cl);}// Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\nif(this.data.ty===0&&!this.data.hd){var cp=createNS('clipPath');var pt=createNS('path');pt.setAttribute('d','M0,0 L'+this.data.w+',0 L'+this.data.w+','+this.data.h+' L0,'+this.data.h+'z');var clipId=createElementID();cp.setAttribute('id',clipId);cp.appendChild(pt);this.globalData.defs.appendChild(cp);if(this.checkMasks()){var cpGroup=createNS('g');cpGroup.setAttribute('clip-path','url('+getLocationHref()+'#'+clipId+')');cpGroup.appendChild(this.layerElement);this.transformedElement=cpGroup;if(layerElementParent){layerElementParent.appendChild(this.transformedElement);}else{this.baseElement=this.transformedElement;}}else{this.layerElement.setAttribute('clip-path','url('+getLocationHref()+'#'+clipId+')');}}if(this.data.bm!==0){this.setBlendMode();}},renderElement:function renderElement(){if(this.finalTransform._matMdf){this.transformedElement.setAttribute('transform',this.finalTransform.mat.to2dCSS());}if(this.finalTransform._opMdf){this.transformedElement.setAttribute('opacity',this.finalTransform.mProp.o.v);}},destroyBaseElement:function destroyBaseElement(){this.layerElement=null;this.matteElement=null;this.maskManager.destroy();},getBaseElement:function getBaseElement(){if(this.data.hd){return null;}return this.baseElement;},createRenderableComponents:function createRenderableComponents(){this.maskManager=new MaskElement(this.data,this,this.globalData);this.renderableEffectsManager=new SVGEffects(this);},setMatte:function setMatte(id){if(!this.matteElement){return;}this.matteElement.setAttribute('mask','url('+getLocationHref()+'#'+id+')');}};/**\r\n   * @file\r\n   * Handles AE's layer parenting property.\r\n   *\r\n   */function HierarchyElement(){}HierarchyElement.prototype={/**\r\n       * @function\r\n       * Initializes hierarchy properties\r\n       *\r\n       */initHierarchy:function initHierarchy(){// element's parent list\nthis.hierarchy=[];// if element is parent of another layer _isParent will be true\nthis._isParent=false;this.checkParenting();},/**\r\n       * @function\r\n       * Sets layer's hierarchy.\r\n       * @param {array} hierarch\r\n       * layer's parent list\r\n       *\r\n       */setHierarchy:function setHierarchy(hierarchy){this.hierarchy=hierarchy;},/**\r\n       * @function\r\n       * Sets layer as parent.\r\n       *\r\n       */setAsParent:function setAsParent(){this._isParent=true;},/**\r\n       * @function\r\n       * Searches layer's parenting chain\r\n       *\r\n       */checkParenting:function checkParenting(){if(this.data.parent!==undefined){this.comp.buildElementParenting(this,this.data.parent,[]);}}};function RenderableDOMElement(){}(function(){var _prototype={initElement:function initElement(data,globalData,comp){this.initFrame();this.initBaseData(data,globalData,comp);this.initTransform(data,globalData,comp);this.initHierarchy();this.initRenderable();this.initRendererElement();this.createContainerElements();this.createRenderableComponents();this.createContent();this.hide();},hide:function hide(){// console.log('HIDE', this);\nif(!this.hidden&&(!this.isInRange||this.isTransparent)){var elem=this.baseElement||this.layerElement;elem.style.display='none';this.hidden=true;}},show:function show(){// console.log('SHOW', this);\nif(this.isInRange&&!this.isTransparent){if(!this.data.hd){var elem=this.baseElement||this.layerElement;elem.style.display='block';}this.hidden=false;this._isFirstFrame=true;}},renderFrame:function renderFrame(){// If it is exported as hidden (data.hd === true) no need to render\n// If it is not visible no need to render\nif(this.data.hd||this.hidden){return;}this.renderTransform();this.renderRenderable();this.renderElement();this.renderInnerContent();if(this._isFirstFrame){this._isFirstFrame=false;}},renderInnerContent:function renderInnerContent(){},prepareFrame:function prepareFrame(num){this._mdf=false;this.prepareRenderableFrame(num);this.prepareProperties(num,this.isInRange);this.checkTransparency();},destroy:function destroy(){this.innerElem=null;this.destroyBaseElement();}};extendPrototype([RenderableElement,createProxyFunction(_prototype)],RenderableDOMElement);})();function IImageElement(data,globalData,comp){this.assetData=globalData.getAssetData(data.refId);this.initElement(data,globalData,comp);this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h};}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement);IImageElement.prototype.createContent=function(){var assetPath=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS('image');this.innerElem.setAttribute('width',this.assetData.w+'px');this.innerElem.setAttribute('height',this.assetData.h+'px');this.innerElem.setAttribute('preserveAspectRatio',this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio);this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);this.layerElement.appendChild(this.innerElem);};IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect;};function ProcessedElement(element,position){this.elem=element;this.pos=position;}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function addShapeToModifiers(data){var i;var len=this.shapeModifiers.length;for(i=0;i<len;i+=1){this.shapeModifiers[i].addShape(data);}},isShapeInAnimatedModifiers:function isShapeInAnimatedModifiers(data){var i=0;var len=this.shapeModifiers.length;while(i<len){if(this.shapeModifiers[i].isAnimatedWithShape(data)){return true;}}return false;},renderModifiers:function renderModifiers(){if(!this.shapeModifiers.length){return;}var i;var len=this.shapes.length;for(i=0;i<len;i+=1){this.shapes[i].sh.reset();}len=this.shapeModifiers.length;var shouldBreakProcess;for(i=len-1;i>=0;i-=1){shouldBreakProcess=this.shapeModifiers[i].processShapes(this._isFirstFrame);// workaround to fix cases where a repeater resets the shape so the following processes get called twice\n// TODO: find a better solution for this\nif(shouldBreakProcess){break;}}},searchProcessedElement:function searchProcessedElement(elem){var elements=this.processedElements;var i=0;var len=elements.length;while(i<len){if(elements[i].elem===elem){return elements[i].pos;}i+=1;}return 0;},addProcessedElement:function addProcessedElement(elem,pos){var elements=this.processedElements;var i=elements.length;while(i){i-=1;if(elements[i].elem===elem){elements[i].pos=pos;return;}}elements.push(new ProcessedElement(elem,pos));},prepareFrame:function prepareFrame(num){this.prepareRenderableFrame(num);this.prepareProperties(num,this.isInRange);}};var lineCapEnum={1:'butt',2:'round',3:'square'};var lineJoinEnum={1:'miter',2:'round',3:'bevel'};function SVGShapeData(transformers,level,shape){this.caches=[];this.styles=[];this.transformers=transformers;this.lStr='';this.sh=shape;this.lvl=level;// TODO find if there are some cases where _isAnimated can be false.\n// For now, since shapes add up with other shapes. They have to be calculated every time.\n// One way of finding out is checking if all styles associated to this shape depend only of this shape\nthis._isAnimated=!!shape.k;// TODO: commenting this for now since all shapes are animated\nvar i=0;var len=transformers.length;while(i<len){if(transformers[i].mProps.dynamicProperties.length){this._isAnimated=true;break;}i+=1;}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=true;};function SVGStyleData(data,level){this.data=data;this.type=data.ty;this.d='';this.lvl=level;this._mdf=false;this.closed=data.hd===true;this.pElem=createNS('path');this.msElem=null;}SVGStyleData.prototype.reset=function(){this.d='';this._mdf=false;};function DashProperty(elem,data,renderer,container){this.elem=elem;this.frameId=-1;this.dataProps=createSizedArray(data.length);this.renderer=renderer;this.k=false;this.dashStr='';this.dashArray=createTypedArray('float32',data.length?data.length-1:0);this.dashoffset=createTypedArray('float32',1);this.initDynamicPropertyContainer(container);var i;var len=data.length||0;var prop;for(i=0;i<len;i+=1){prop=PropertyFactory.getProp(elem,data[i].v,0,0,this);this.k=prop.k||this.k;this.dataProps[i]={n:data[i].n,p:prop};}if(!this.k){this.getValue(true);}this._isAnimated=this.k;}DashProperty.prototype.getValue=function(forceRender){if(this.elem.globalData.frameId===this.frameId&&!forceRender){return;}this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();this._mdf=this._mdf||forceRender;if(this._mdf){var i=0;var len=this.dataProps.length;if(this.renderer==='svg'){this.dashStr='';}for(i=0;i<len;i+=1){if(this.dataProps[i].n!=='o'){if(this.renderer==='svg'){this.dashStr+=' '+this.dataProps[i].p.v;}else{this.dashArray[i]=this.dataProps[i].p.v;}}else{this.dashoffset[0]=this.dataProps[i].p.v;}}}};extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(elem,data,styleOb){this.initDynamicPropertyContainer(elem);this.getValue=this.iterateDynamicProperties;this.o=PropertyFactory.getProp(elem,data.o,0,0.01,this);this.w=PropertyFactory.getProp(elem,data.w,0,null,this);this.d=new DashProperty(elem,data.d||{},'svg',this);this.c=PropertyFactory.getProp(elem,data.c,1,255,this);this.style=styleOb;this._isAnimated=!!this._isAnimated;}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(elem,data,styleOb){this.initDynamicPropertyContainer(elem);this.getValue=this.iterateDynamicProperties;this.o=PropertyFactory.getProp(elem,data.o,0,0.01,this);this.c=PropertyFactory.getProp(elem,data.c,1,255,this);this.style=styleOb;}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(elem,data,styleOb){this.initDynamicPropertyContainer(elem);this.getValue=this.iterateDynamicProperties;this.style=styleOb;}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(elem,data,container){this.data=data;this.c=createTypedArray('uint8c',data.p*4);var cLength=data.k.k[0].s?data.k.k[0].s.length-data.p*4:data.k.k.length-data.p*4;this.o=createTypedArray('float32',cLength);this._cmdf=false;this._omdf=false;this._collapsable=this.checkCollapsable();this._hasOpacity=cLength;this.initDynamicPropertyContainer(container);this.prop=PropertyFactory.getProp(elem,data.k,1,null,this);this.k=this.prop.k;this.getValue(true);}GradientProperty.prototype.comparePoints=function(values,points){var i=0;var len=this.o.length/2;var diff;while(i<len){diff=Math.abs(values[i*4]-values[points*4+i*2]);if(diff>0.01){return false;}i+=1;}return true;};GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4){return false;}if(this.data.k.k[0].s){var i=0;var len=this.data.k.k.length;while(i<len){if(!this.comparePoints(this.data.k.k[i].s,this.data.p)){return false;}i+=1;}}else if(!this.comparePoints(this.data.k.k,this.data.p)){return false;}return true;};GradientProperty.prototype.getValue=function(forceRender){this.prop.getValue();this._mdf=false;this._cmdf=false;this._omdf=false;if(this.prop._mdf||forceRender){var i;var len=this.data.p*4;var mult;var val;for(i=0;i<len;i+=1){mult=i%4===0?100:255;val=Math.round(this.prop.v[i]*mult);if(this.c[i]!==val){this.c[i]=val;this._cmdf=!forceRender;}}if(this.o.length){len=this.prop.v.length;for(i=this.data.p*4;i<len;i+=1){mult=i%2===0?100:1;val=i%2===0?Math.round(this.prop.v[i]*100):this.prop.v[i];if(this.o[i-this.data.p*4]!==val){this.o[i-this.data.p*4]=val;this._omdf=!forceRender;}}}this._mdf=!forceRender;}};extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(elem,data,styleOb){this.initDynamicPropertyContainer(elem);this.getValue=this.iterateDynamicProperties;this.initGradientData(elem,data,styleOb);}SVGGradientFillStyleData.prototype.initGradientData=function(elem,data,styleOb){this.o=PropertyFactory.getProp(elem,data.o,0,0.01,this);this.s=PropertyFactory.getProp(elem,data.s,1,null,this);this.e=PropertyFactory.getProp(elem,data.e,1,null,this);this.h=PropertyFactory.getProp(elem,data.h||{k:0},0,0.01,this);this.a=PropertyFactory.getProp(elem,data.a||{k:0},0,degToRads,this);this.g=new GradientProperty(elem,data.g,this);this.style=styleOb;this.stops=[];this.setGradientData(styleOb.pElem,data);this.setGradientOpacity(data,styleOb);this._isAnimated=!!this._isAnimated;};SVGGradientFillStyleData.prototype.setGradientData=function(pathElement,data){var gradientId=createElementID();var gfill=createNS(data.t===1?'linearGradient':'radialGradient');gfill.setAttribute('id',gradientId);gfill.setAttribute('spreadMethod','pad');gfill.setAttribute('gradientUnits','userSpaceOnUse');var stops=[];var stop;var j;var jLen;jLen=data.g.p*4;for(j=0;j<jLen;j+=4){stop=createNS('stop');gfill.appendChild(stop);stops.push(stop);}pathElement.setAttribute(data.ty==='gf'?'fill':'stroke','url('+getLocationHref()+'#'+gradientId+')');this.gf=gfill;this.cst=stops;};SVGGradientFillStyleData.prototype.setGradientOpacity=function(data,styleOb){if(this.g._hasOpacity&&!this.g._collapsable){var stop;var j;var jLen;var mask=createNS('mask');var maskElement=createNS('path');mask.appendChild(maskElement);var opacityId=createElementID();var maskId=createElementID();mask.setAttribute('id',maskId);var opFill=createNS(data.t===1?'linearGradient':'radialGradient');opFill.setAttribute('id',opacityId);opFill.setAttribute('spreadMethod','pad');opFill.setAttribute('gradientUnits','userSpaceOnUse');jLen=data.g.k.k[0].s?data.g.k.k[0].s.length:data.g.k.k.length;var stops=this.stops;for(j=data.g.p*4;j<jLen;j+=2){stop=createNS('stop');stop.setAttribute('stop-color','rgb(255,255,255)');opFill.appendChild(stop);stops.push(stop);}maskElement.setAttribute(data.ty==='gf'?'fill':'stroke','url('+getLocationHref()+'#'+opacityId+')');if(data.ty==='gs'){maskElement.setAttribute('stroke-linecap',lineCapEnum[data.lc||2]);maskElement.setAttribute('stroke-linejoin',lineJoinEnum[data.lj||2]);if(data.lj===1){maskElement.setAttribute('stroke-miterlimit',data.ml);}}this.of=opFill;this.ms=mask;this.ost=stops;this.maskId=maskId;styleOb.msElem=maskElement;}};extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(elem,data,styleOb){this.initDynamicPropertyContainer(elem);this.getValue=this.iterateDynamicProperties;this.w=PropertyFactory.getProp(elem,data.w,0,null,this);this.d=new DashProperty(elem,data.d||{},'svg',this);this.initGradientData(elem,data,styleOb);this._isAnimated=!!this._isAnimated;}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[];this.prevViewData=[];this.gr=createNS('g');}function SVGTransformData(mProps,op,container){this.transform={mProps:mProps,op:op,container:container};this.elements=[];this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length;}var buildShapeString=function buildShapeString(pathNodes,length,closed,mat){if(length===0){return'';}var _o=pathNodes.o;var _i=pathNodes.i;var _v=pathNodes.v;var i;var shapeString=' M'+mat.applyToPointStringified(_v[0][0],_v[0][1]);for(i=1;i<length;i+=1){shapeString+=' C'+mat.applyToPointStringified(_o[i-1][0],_o[i-1][1])+' '+mat.applyToPointStringified(_i[i][0],_i[i][1])+' '+mat.applyToPointStringified(_v[i][0],_v[i][1]);}if(closed&&length){shapeString+=' C'+mat.applyToPointStringified(_o[i-1][0],_o[i-1][1])+' '+mat.applyToPointStringified(_i[0][0],_i[0][1])+' '+mat.applyToPointStringified(_v[0][0],_v[0][1]);shapeString+='z';}return shapeString;};var SVGElementsRenderer=function(){var _identityMatrix=new Matrix();var _matrixHelper=new Matrix();var ob={createRenderFunction:createRenderFunction};function createRenderFunction(data){switch(data.ty){case'fl':return renderFill;case'gf':return renderGradient;case'gs':return renderGradientStroke;case'st':return renderStroke;case'sh':case'el':case'rc':case'sr':return renderPath;case'tr':return renderContentTransform;case'no':return renderNoop;default:return null;}}function renderContentTransform(styleData,itemData,isFirstFrame){if(isFirstFrame||itemData.transform.op._mdf){itemData.transform.container.setAttribute('opacity',itemData.transform.op.v);}if(isFirstFrame||itemData.transform.mProps._mdf){itemData.transform.container.setAttribute('transform',itemData.transform.mProps.v.to2dCSS());}}function renderNoop(){}function renderPath(styleData,itemData,isFirstFrame){var j;var jLen;var pathStringTransformed;var redraw;var pathNodes;var l;var lLen=itemData.styles.length;var lvl=itemData.lvl;var paths;var mat;var props;var iterations;var k;for(l=0;l<lLen;l+=1){redraw=itemData.sh._mdf||isFirstFrame;if(itemData.styles[l].lvl<lvl){mat=_matrixHelper.reset();iterations=lvl-itemData.styles[l].lvl;k=itemData.transformers.length-1;while(!redraw&&iterations>0){redraw=itemData.transformers[k].mProps._mdf||redraw;iterations-=1;k-=1;}if(redraw){iterations=lvl-itemData.styles[l].lvl;k=itemData.transformers.length-1;while(iterations>0){props=itemData.transformers[k].mProps.v.props;mat.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);iterations-=1;k-=1;}}}else{mat=_identityMatrix;}paths=itemData.sh.paths;jLen=paths._length;if(redraw){pathStringTransformed='';for(j=0;j<jLen;j+=1){pathNodes=paths.shapes[j];if(pathNodes&&pathNodes._length){pathStringTransformed+=buildShapeString(pathNodes,pathNodes._length,pathNodes.c,mat);}}itemData.caches[l]=pathStringTransformed;}else{pathStringTransformed=itemData.caches[l];}itemData.styles[l].d+=styleData.hd===true?'':pathStringTransformed;itemData.styles[l]._mdf=redraw||itemData.styles[l]._mdf;}}function renderFill(styleData,itemData,isFirstFrame){var styleElem=itemData.style;if(itemData.c._mdf||isFirstFrame){styleElem.pElem.setAttribute('fill','rgb('+bmFloor(itemData.c.v[0])+','+bmFloor(itemData.c.v[1])+','+bmFloor(itemData.c.v[2])+')');}if(itemData.o._mdf||isFirstFrame){styleElem.pElem.setAttribute('fill-opacity',itemData.o.v);}}function renderGradientStroke(styleData,itemData,isFirstFrame){renderGradient(styleData,itemData,isFirstFrame);renderStroke(styleData,itemData,isFirstFrame);}function renderGradient(styleData,itemData,isFirstFrame){var gfill=itemData.gf;var hasOpacity=itemData.g._hasOpacity;var pt1=itemData.s.v;var pt2=itemData.e.v;if(itemData.o._mdf||isFirstFrame){var attr=styleData.ty==='gf'?'fill-opacity':'stroke-opacity';itemData.style.pElem.setAttribute(attr,itemData.o.v);}if(itemData.s._mdf||isFirstFrame){var attr1=styleData.t===1?'x1':'cx';var attr2=attr1==='x1'?'y1':'cy';gfill.setAttribute(attr1,pt1[0]);gfill.setAttribute(attr2,pt1[1]);if(hasOpacity&&!itemData.g._collapsable){itemData.of.setAttribute(attr1,pt1[0]);itemData.of.setAttribute(attr2,pt1[1]);}}var stops;var i;var len;var stop;if(itemData.g._cmdf||isFirstFrame){stops=itemData.cst;var cValues=itemData.g.c;len=stops.length;for(i=0;i<len;i+=1){stop=stops[i];stop.setAttribute('offset',cValues[i*4]+'%');stop.setAttribute('stop-color','rgb('+cValues[i*4+1]+','+cValues[i*4+2]+','+cValues[i*4+3]+')');}}if(hasOpacity&&(itemData.g._omdf||isFirstFrame)){var oValues=itemData.g.o;if(itemData.g._collapsable){stops=itemData.cst;}else{stops=itemData.ost;}len=stops.length;for(i=0;i<len;i+=1){stop=stops[i];if(!itemData.g._collapsable){stop.setAttribute('offset',oValues[i*2]+'%');}stop.setAttribute('stop-opacity',oValues[i*2+1]);}}if(styleData.t===1){if(itemData.e._mdf||isFirstFrame){gfill.setAttribute('x2',pt2[0]);gfill.setAttribute('y2',pt2[1]);if(hasOpacity&&!itemData.g._collapsable){itemData.of.setAttribute('x2',pt2[0]);itemData.of.setAttribute('y2',pt2[1]);}}}else{var rad;if(itemData.s._mdf||itemData.e._mdf||isFirstFrame){rad=Math.sqrt(Math.pow(pt1[0]-pt2[0],2)+Math.pow(pt1[1]-pt2[1],2));gfill.setAttribute('r',rad);if(hasOpacity&&!itemData.g._collapsable){itemData.of.setAttribute('r',rad);}}if(itemData.e._mdf||itemData.h._mdf||itemData.a._mdf||isFirstFrame){if(!rad){rad=Math.sqrt(Math.pow(pt1[0]-pt2[0],2)+Math.pow(pt1[1]-pt2[1],2));}var ang=Math.atan2(pt2[1]-pt1[1],pt2[0]-pt1[0]);var percent=itemData.h.v;if(percent>=1){percent=0.99;}else if(percent<=-1){percent=-0.99;}var dist=rad*percent;var x=Math.cos(ang+itemData.a.v)*dist+pt1[0];var y=Math.sin(ang+itemData.a.v)*dist+pt1[1];gfill.setAttribute('fx',x);gfill.setAttribute('fy',y);if(hasOpacity&&!itemData.g._collapsable){itemData.of.setAttribute('fx',x);itemData.of.setAttribute('fy',y);}}// gfill.setAttribute('fy','200');\n}}function renderStroke(styleData,itemData,isFirstFrame){var styleElem=itemData.style;var d=itemData.d;if(d&&(d._mdf||isFirstFrame)&&d.dashStr){styleElem.pElem.setAttribute('stroke-dasharray',d.dashStr);styleElem.pElem.setAttribute('stroke-dashoffset',d.dashoffset[0]);}if(itemData.c&&(itemData.c._mdf||isFirstFrame)){styleElem.pElem.setAttribute('stroke','rgb('+bmFloor(itemData.c.v[0])+','+bmFloor(itemData.c.v[1])+','+bmFloor(itemData.c.v[2])+')');}if(itemData.o._mdf||isFirstFrame){styleElem.pElem.setAttribute('stroke-opacity',itemData.o.v);}if(itemData.w._mdf||isFirstFrame){styleElem.pElem.setAttribute('stroke-width',itemData.w.v);if(styleElem.msElem){styleElem.msElem.setAttribute('stroke-width',itemData.w.v);}}}return ob;}();function SVGShapeElement(data,globalData,comp){// List of drawable elements\nthis.shapes=[];// Full shape data\nthis.shapesData=data.shapes;// List of styles that will be applied to shapes\nthis.stylesList=[];// List of modifiers that will be applied to shapes\nthis.shapeModifiers=[];// List of items in shape tree\nthis.itemsData=[];// List of items in previous shape tree\nthis.processedElements=[];// List of animated components\nthis.animatedContents=[];this.initElement(data,globalData,comp);// Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n// List of elements that have been created\nthis.prevViewData=[];// Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement);SVGShapeElement.prototype.initSecondaryElement=function(){};SVGShapeElement.prototype.identityMatrix=new Matrix();SVGShapeElement.prototype.buildExpressionInterface=function(){};SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],true);this.filterUniqueShapes();};/*\r\n  This method searches for multiple shapes that affect a single element and one of them is animated\r\n  */SVGShapeElement.prototype.filterUniqueShapes=function(){var i;var len=this.shapes.length;var shape;var j;var jLen=this.stylesList.length;var style;var tempShapes=[];var areAnimated=false;for(j=0;j<jLen;j+=1){style=this.stylesList[j];areAnimated=false;tempShapes.length=0;for(i=0;i<len;i+=1){shape=this.shapes[i];if(shape.styles.indexOf(style)!==-1){tempShapes.push(shape);areAnimated=shape._isAnimated||areAnimated;}}if(tempShapes.length>1&&areAnimated){this.setShapesAsAnimated(tempShapes);}}};SVGShapeElement.prototype.setShapesAsAnimated=function(shapes){var i;var len=shapes.length;for(i=0;i<len;i+=1){shapes[i].setAsAnimated();}};SVGShapeElement.prototype.createStyleElement=function(data,level){// TODO: prevent drawing of hidden styles\nvar elementData;var styleOb=new SVGStyleData(data,level);var pathElement=styleOb.pElem;if(data.ty==='st'){elementData=new SVGStrokeStyleData(this,data,styleOb);}else if(data.ty==='fl'){elementData=new SVGFillStyleData(this,data,styleOb);}else if(data.ty==='gf'||data.ty==='gs'){var GradientConstructor=data.ty==='gf'?SVGGradientFillStyleData:SVGGradientStrokeStyleData;elementData=new GradientConstructor(this,data,styleOb);this.globalData.defs.appendChild(elementData.gf);if(elementData.maskId){this.globalData.defs.appendChild(elementData.ms);this.globalData.defs.appendChild(elementData.of);pathElement.setAttribute('mask','url('+getLocationHref()+'#'+elementData.maskId+')');}}else if(data.ty==='no'){elementData=new SVGNoStyleData(this,data,styleOb);}if(data.ty==='st'||data.ty==='gs'){pathElement.setAttribute('stroke-linecap',lineCapEnum[data.lc||2]);pathElement.setAttribute('stroke-linejoin',lineJoinEnum[data.lj||2]);pathElement.setAttribute('fill-opacity','0');if(data.lj===1){pathElement.setAttribute('stroke-miterlimit',data.ml);}}if(data.r===2){pathElement.setAttribute('fill-rule','evenodd');}if(data.ln){pathElement.setAttribute('id',data.ln);}if(data.cl){pathElement.setAttribute('class',data.cl);}if(data.bm){pathElement.style['mix-blend-mode']=getBlendMode(data.bm);}this.stylesList.push(styleOb);this.addToAnimatedContents(data,elementData);return elementData;};SVGShapeElement.prototype.createGroupElement=function(data){var elementData=new ShapeGroupData();if(data.ln){elementData.gr.setAttribute('id',data.ln);}if(data.cl){elementData.gr.setAttribute('class',data.cl);}if(data.bm){elementData.gr.style['mix-blend-mode']=getBlendMode(data.bm);}return elementData;};SVGShapeElement.prototype.createTransformElement=function(data,container){var transformProperty=TransformPropertyFactory.getTransformProperty(this,data,this);var elementData=new SVGTransformData(transformProperty,transformProperty.o,container);this.addToAnimatedContents(data,elementData);return elementData;};SVGShapeElement.prototype.createShapeElement=function(data,ownTransformers,level){var ty=4;if(data.ty==='rc'){ty=5;}else if(data.ty==='el'){ty=6;}else if(data.ty==='sr'){ty=7;}var shapeProperty=ShapePropertyFactory.getShapeProp(this,data,ty,this);var elementData=new SVGShapeData(ownTransformers,level,shapeProperty);this.shapes.push(elementData);this.addShapeToModifiers(elementData);this.addToAnimatedContents(data,elementData);return elementData;};SVGShapeElement.prototype.addToAnimatedContents=function(data,element){var i=0;var len=this.animatedContents.length;while(i<len){if(this.animatedContents[i].element===element){return;}i+=1;}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(data),element:element,data:data});};SVGShapeElement.prototype.setElementStyles=function(elementData){var arr=elementData.styles;var j;var jLen=this.stylesList.length;for(j=0;j<jLen;j+=1){if(!this.stylesList[j].closed){arr.push(this.stylesList[j]);}}};SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=true;var i;var len=this.itemsData.length;for(i=0;i<len;i+=1){this.prevViewData[i]=this.itemsData[i];}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],true);this.filterUniqueShapes();len=this.dynamicProperties.length;for(i=0;i<len;i+=1){this.dynamicProperties[i].getValue();}this.renderModifiers();};SVGShapeElement.prototype.searchShapes=function(arr,itemsData,prevViewData,container,level,transformers,render){var ownTransformers=[].concat(transformers);var i;var len=arr.length-1;var j;var jLen;var ownStyles=[];var ownModifiers=[];var currentTransform;var modifier;var processedPos;for(i=len;i>=0;i-=1){processedPos=this.searchProcessedElement(arr[i]);if(!processedPos){arr[i]._render=render;}else{itemsData[i]=prevViewData[processedPos-1];}if(arr[i].ty==='fl'||arr[i].ty==='st'||arr[i].ty==='gf'||arr[i].ty==='gs'||arr[i].ty==='no'){if(!processedPos){itemsData[i]=this.createStyleElement(arr[i],level);}else{itemsData[i].style.closed=false;}if(arr[i]._render){if(itemsData[i].style.pElem.parentNode!==container){container.appendChild(itemsData[i].style.pElem);}}ownStyles.push(itemsData[i].style);}else if(arr[i].ty==='gr'){if(!processedPos){itemsData[i]=this.createGroupElement(arr[i]);}else{jLen=itemsData[i].it.length;for(j=0;j<jLen;j+=1){itemsData[i].prevViewData[j]=itemsData[i].it[j];}}this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData,itemsData[i].gr,level+1,ownTransformers,render);if(arr[i]._render){if(itemsData[i].gr.parentNode!==container){container.appendChild(itemsData[i].gr);}}}else if(arr[i].ty==='tr'){if(!processedPos){itemsData[i]=this.createTransformElement(arr[i],container);}currentTransform=itemsData[i].transform;ownTransformers.push(currentTransform);}else if(arr[i].ty==='sh'||arr[i].ty==='rc'||arr[i].ty==='el'||arr[i].ty==='sr'){if(!processedPos){itemsData[i]=this.createShapeElement(arr[i],ownTransformers,level);}this.setElementStyles(itemsData[i]);}else if(arr[i].ty==='tm'||arr[i].ty==='rd'||arr[i].ty==='ms'||arr[i].ty==='pb'){if(!processedPos){modifier=ShapeModifiers.getModifier(arr[i].ty);modifier.init(this,arr[i]);itemsData[i]=modifier;this.shapeModifiers.push(modifier);}else{modifier=itemsData[i];modifier.closed=false;}ownModifiers.push(modifier);}else if(arr[i].ty==='rp'){if(!processedPos){modifier=ShapeModifiers.getModifier(arr[i].ty);itemsData[i]=modifier;modifier.init(this,arr,i,itemsData);this.shapeModifiers.push(modifier);render=false;}else{modifier=itemsData[i];modifier.closed=true;}ownModifiers.push(modifier);}this.addProcessedElement(arr[i],i+1);}len=ownStyles.length;for(i=0;i<len;i+=1){ownStyles[i].closed=true;}len=ownModifiers.length;for(i=0;i<len;i+=1){ownModifiers[i].closed=true;}};SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var i;var len=this.stylesList.length;for(i=0;i<len;i+=1){this.stylesList[i].reset();}this.renderShape();for(i=0;i<len;i+=1){if(this.stylesList[i]._mdf||this._isFirstFrame){if(this.stylesList[i].msElem){this.stylesList[i].msElem.setAttribute('d',this.stylesList[i].d);// Adding M0 0 fixes same mask bug on all browsers\nthis.stylesList[i].d='M0 0'+this.stylesList[i].d;}this.stylesList[i].pElem.setAttribute('d',this.stylesList[i].d||'M0 0');}}};SVGShapeElement.prototype.renderShape=function(){var i;var len=this.animatedContents.length;var animatedContent;for(i=0;i<len;i+=1){animatedContent=this.animatedContents[i];if((this._isFirstFrame||animatedContent.element._isAnimated)&&animatedContent.data!==true){animatedContent.fn(animatedContent.data,animatedContent.element,this._isFirstFrame);}}};SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement();this.shapesData=null;this.itemsData=null;};function LetterProps(o,sw,sc,fc,m,p){this.o=o;this.sw=sw;this.sc=sc;this.fc=fc;this.m=m;this.p=p;this._mdf={o:true,sw:!!sw,sc:!!sc,fc:!!fc,m:true,p:true};}LetterProps.prototype.update=function(o,sw,sc,fc,m,p){this._mdf.o=false;this._mdf.sw=false;this._mdf.sc=false;this._mdf.fc=false;this._mdf.m=false;this._mdf.p=false;var updated=false;if(this.o!==o){this.o=o;this._mdf.o=true;updated=true;}if(this.sw!==sw){this.sw=sw;this._mdf.sw=true;updated=true;}if(this.sc!==sc){this.sc=sc;this._mdf.sc=true;updated=true;}if(this.fc!==fc){this.fc=fc;this._mdf.fc=true;updated=true;}if(this.m!==m){this.m=m;this._mdf.m=true;updated=true;}if(p.length&&(this.p[0]!==p[0]||this.p[1]!==p[1]||this.p[4]!==p[4]||this.p[5]!==p[5]||this.p[12]!==p[12]||this.p[13]!==p[13])){this.p=p;this._mdf.p=true;updated=true;}return updated;};function TextProperty(elem,data){this._frameId=initialDefaultFrame;this.pv='';this.v='';this.kf=false;this._isFirstFrame=true;this._mdf=false;this.data=data;this.elem=elem;this.comp=this.elem.comp;this.keysIndex=0;this.canResize=false;this.minimumFontSize=1;this.effectsSequence=[];this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:'',fStyle:'',fWeight:'',fc:'',j:'',justifyOffset:'',l:[],lh:0,lineWidths:[],ls:'',of:'',s:'',sc:'',sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:false,strokeColorAnim:false,strokeWidthAnim:false,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:false};this.copyData(this.currentData,this.data.d.k[0].s);if(!this.searchProperty()){this.completeTextData(this.currentData);}}TextProperty.prototype.defaultBoxWidth=[0,0];TextProperty.prototype.copyData=function(obj,data){for(var s in data){if(Object.prototype.hasOwnProperty.call(data,s)){obj[s]=data[s];}}return obj;};TextProperty.prototype.setCurrentData=function(data){if(!data.__complete){this.completeTextData(data);}this.currentData=data;this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth;this._mdf=true;};TextProperty.prototype.searchProperty=function(){return this.searchKeyframes();};TextProperty.prototype.searchKeyframes=function(){this.kf=this.data.d.k.length>1;if(this.kf){this.addEffect(this.getKeyframeValue.bind(this));}return this.kf;};TextProperty.prototype.addEffect=function(effectFunction){this.effectsSequence.push(effectFunction);this.elem.addDynamicProperty(this);};TextProperty.prototype.getValue=function(_finalValue){if((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!_finalValue){return;}this.currentData.t=this.data.d.k[this.keysIndex].s.t;var currentValue=this.currentData;var currentIndex=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return;}this.lock=true;this._mdf=false;var i;var len=this.effectsSequence.length;var finalValue=_finalValue||this.data.d.k[this.keysIndex].s;for(i=0;i<len;i+=1){// Checking if index changed to prevent creating a new object every time the expression updates.\nif(currentIndex!==this.keysIndex){finalValue=this.effectsSequence[i](finalValue,finalValue.t);}else{finalValue=this.effectsSequence[i](this.currentData,finalValue.t);}}if(currentValue!==finalValue){this.setCurrentData(finalValue);}this.v=this.currentData;this.pv=this.v;this.lock=false;this.frameId=this.elem.globalData.frameId;};TextProperty.prototype.getKeyframeValue=function(){var textKeys=this.data.d.k;var frameNum=this.elem.comp.renderedFrame;var i=0;var len=textKeys.length;while(i<=len-1){if(i===len-1||textKeys[i+1].t>frameNum){break;}i+=1;}if(this.keysIndex!==i){this.keysIndex=i;}return this.data.d.k[this.keysIndex].s;};TextProperty.prototype.buildFinalText=function(text){var charactersArray=[];var i=0;var len=text.length;var charCode;var secondCharCode;var shouldCombine=false;while(i<len){charCode=text.charCodeAt(i);if(FontManager.isCombinedCharacter(charCode)){charactersArray[charactersArray.length-1]+=text.charAt(i);}else if(charCode>=0xD800&&charCode<=0xDBFF){secondCharCode=text.charCodeAt(i+1);if(secondCharCode>=0xDC00&&secondCharCode<=0xDFFF){if(shouldCombine||FontManager.isModifier(charCode,secondCharCode)){charactersArray[charactersArray.length-1]+=text.substr(i,2);shouldCombine=false;}else{charactersArray.push(text.substr(i,2));}i+=1;}else{charactersArray.push(text.charAt(i));}}else if(charCode>0xDBFF){secondCharCode=text.charCodeAt(i+1);if(FontManager.isZeroWidthJoiner(charCode,secondCharCode)){shouldCombine=true;charactersArray[charactersArray.length-1]+=text.substr(i,2);i+=1;}else{charactersArray.push(text.charAt(i));}}else if(FontManager.isZeroWidthJoiner(charCode)){charactersArray[charactersArray.length-1]+=text.charAt(i);shouldCombine=true;}else{charactersArray.push(text.charAt(i));}i+=1;}return charactersArray;};TextProperty.prototype.completeTextData=function(documentData){documentData.__complete=true;var fontManager=this.elem.globalData.fontManager;var data=this.data;var letters=[];var i;var len;var newLineFlag;var index=0;var val;var anchorGrouping=data.m.g;var currentSize=0;var currentPos=0;var currentLine=0;var lineWidths=[];var lineWidth=0;var maxLineWidth=0;var j;var jLen;var fontData=fontManager.getFontByName(documentData.f);var charData;var cLength=0;var fontProps=getFontProperties(fontData);documentData.fWeight=fontProps.weight;documentData.fStyle=fontProps.style;documentData.finalSize=documentData.s;documentData.finalText=this.buildFinalText(documentData.t);len=documentData.finalText.length;documentData.finalLineHeight=documentData.lh;var trackingOffset=documentData.tr/1000*documentData.finalSize;var charCode;if(documentData.sz){var flag=true;var boxWidth=documentData.sz[0];var boxHeight=documentData.sz[1];var currentHeight;var finalText;while(flag){finalText=this.buildFinalText(documentData.t);currentHeight=0;lineWidth=0;len=finalText.length;trackingOffset=documentData.tr/1000*documentData.finalSize;var lastSpaceIndex=-1;for(i=0;i<len;i+=1){charCode=finalText[i].charCodeAt(0);newLineFlag=false;if(finalText[i]===' '){lastSpaceIndex=i;}else if(charCode===13||charCode===3){lineWidth=0;newLineFlag=true;currentHeight+=documentData.finalLineHeight||documentData.finalSize*1.2;}if(fontManager.chars){charData=fontManager.getCharData(finalText[i],fontData.fStyle,fontData.fFamily);cLength=newLineFlag?0:charData.w*documentData.finalSize/100;}else{// tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\ncLength=fontManager.measureText(finalText[i],documentData.f,documentData.finalSize);}if(lineWidth+cLength>boxWidth&&finalText[i]!==' '){if(lastSpaceIndex===-1){len+=1;}else{i=lastSpaceIndex;}currentHeight+=documentData.finalLineHeight||documentData.finalSize*1.2;finalText.splice(i,lastSpaceIndex===i?1:0,'\\r');// finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\nlastSpaceIndex=-1;lineWidth=0;}else{lineWidth+=cLength;lineWidth+=trackingOffset;}}currentHeight+=fontData.ascent*documentData.finalSize/100;if(this.canResize&&documentData.finalSize>this.minimumFontSize&&boxHeight<currentHeight){documentData.finalSize-=1;documentData.finalLineHeight=documentData.finalSize*documentData.lh/documentData.s;}else{documentData.finalText=finalText;len=documentData.finalText.length;flag=false;}}}lineWidth=-trackingOffset;cLength=0;var uncollapsedSpaces=0;var currentChar;for(i=0;i<len;i+=1){newLineFlag=false;currentChar=documentData.finalText[i];charCode=currentChar.charCodeAt(0);if(charCode===13||charCode===3){uncollapsedSpaces=0;lineWidths.push(lineWidth);maxLineWidth=lineWidth>maxLineWidth?lineWidth:maxLineWidth;lineWidth=-2*trackingOffset;val='';newLineFlag=true;currentLine+=1;}else{val=currentChar;}if(fontManager.chars){charData=fontManager.getCharData(currentChar,fontData.fStyle,fontManager.getFontByName(documentData.f).fFamily);cLength=newLineFlag?0:charData.w*documentData.finalSize/100;}else{// var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\n// tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\ncLength=fontManager.measureText(val,documentData.f,documentData.finalSize);}//\nif(currentChar===' '){uncollapsedSpaces+=cLength+trackingOffset;}else{lineWidth+=cLength+trackingOffset+uncollapsedSpaces;uncollapsedSpaces=0;}letters.push({l:cLength,an:cLength,add:currentSize,n:newLineFlag,anIndexes:[],val:val,line:currentLine,animatorJustifyOffset:0});if(anchorGrouping==2){// eslint-disable-line eqeqeq\ncurrentSize+=cLength;if(val===''||val===' '||i===len-1){if(val===''||val===' '){currentSize-=cLength;}while(currentPos<=i){letters[currentPos].an=currentSize;letters[currentPos].ind=index;letters[currentPos].extra=cLength;currentPos+=1;}index+=1;currentSize=0;}}else if(anchorGrouping==3){// eslint-disable-line eqeqeq\ncurrentSize+=cLength;if(val===''||i===len-1){if(val===''){currentSize-=cLength;}while(currentPos<=i){letters[currentPos].an=currentSize;letters[currentPos].ind=index;letters[currentPos].extra=cLength;currentPos+=1;}currentSize=0;index+=1;}}else{letters[index].ind=index;letters[index].extra=0;index+=1;}}documentData.l=letters;maxLineWidth=lineWidth>maxLineWidth?lineWidth:maxLineWidth;lineWidths.push(lineWidth);if(documentData.sz){documentData.boxWidth=documentData.sz[0];documentData.justifyOffset=0;}else{documentData.boxWidth=maxLineWidth;switch(documentData.j){case 1:documentData.justifyOffset=-documentData.boxWidth;break;case 2:documentData.justifyOffset=-documentData.boxWidth/2;break;default:documentData.justifyOffset=0;}}documentData.lineWidths=lineWidths;var animators=data.a;var animatorData;var letterData;jLen=animators.length;var based;var ind;var indexes=[];for(j=0;j<jLen;j+=1){animatorData=animators[j];if(animatorData.a.sc){documentData.strokeColorAnim=true;}if(animatorData.a.sw){documentData.strokeWidthAnim=true;}if(animatorData.a.fc||animatorData.a.fh||animatorData.a.fs||animatorData.a.fb){documentData.fillColorAnim=true;}ind=0;based=animatorData.s.b;for(i=0;i<len;i+=1){letterData=letters[i];letterData.anIndexes[j]=ind;if(based==1&&letterData.val!==''||based==2&&letterData.val!==''&&letterData.val!==' '||based==3&&(letterData.n||letterData.val==' '||i==len-1)||based==4&&(letterData.n||i==len-1)){// eslint-disable-line eqeqeq\nif(animatorData.s.rn===1){indexes.push(ind);}ind+=1;}}data.a[j].s.totalChars=ind;var currentInd=-1;var newInd;if(animatorData.s.rn===1){for(i=0;i<len;i+=1){letterData=letters[i];if(currentInd!=letterData.anIndexes[j]){// eslint-disable-line eqeqeq\ncurrentInd=letterData.anIndexes[j];newInd=indexes.splice(Math.floor(Math.random()*indexes.length),1)[0];}letterData.anIndexes[j]=newInd;}}}documentData.yOffset=documentData.finalLineHeight||documentData.finalSize*1.2;documentData.ls=documentData.ls||0;documentData.ascent=fontData.ascent*documentData.finalSize/100;};TextProperty.prototype.updateDocumentData=function(newData,index){index=index===undefined?this.keysIndex:index;var dData=this.copyData({},this.data.d.k[index].s);dData=this.copyData(dData,newData);this.data.d.k[index].s=dData;this.recalculate(index);this.elem.addDynamicProperty(this);};TextProperty.prototype.recalculate=function(index){var dData=this.data.d.k[index].s;dData.__complete=false;this.keysIndex=0;this._isFirstFrame=true;this.getValue(dData);};TextProperty.prototype.canResizeFont=function(_canResize){this.canResize=_canResize;this.recalculate(this.keysIndex);this.elem.addDynamicProperty(this);};TextProperty.prototype.setMinimumFontSize=function(_fontValue){this.minimumFontSize=Math.floor(_fontValue)||1;this.recalculate(this.keysIndex);this.elem.addDynamicProperty(this);};var TextSelectorProp=function(){var max=Math.max;var min=Math.min;var floor=Math.floor;function TextSelectorPropFactory(elem,data){this._currentTextLength=-1;this.k=false;this.data=data;this.elem=elem;this.comp=elem.comp;this.finalS=0;this.finalE=0;this.initDynamicPropertyContainer(elem);this.s=PropertyFactory.getProp(elem,data.s||{k:0},0,0,this);if('e'in data){this.e=PropertyFactory.getProp(elem,data.e,0,0,this);}else{this.e={v:100};}this.o=PropertyFactory.getProp(elem,data.o||{k:0},0,0,this);this.xe=PropertyFactory.getProp(elem,data.xe||{k:0},0,0,this);this.ne=PropertyFactory.getProp(elem,data.ne||{k:0},0,0,this);this.sm=PropertyFactory.getProp(elem,data.sm||{k:100},0,0,this);this.a=PropertyFactory.getProp(elem,data.a,0,0.01,this);if(!this.dynamicProperties.length){this.getValue();}}TextSelectorPropFactory.prototype={getMult:function getMult(ind){if(this._currentTextLength!==this.elem.textProperty.currentData.l.length){this.getValue();}var x1=0;var y1=0;var x2=1;var y2=1;if(this.ne.v>0){x1=this.ne.v/100.0;}else{y1=-this.ne.v/100.0;}if(this.xe.v>0){x2=1.0-this.xe.v/100.0;}else{y2=1.0+this.xe.v/100.0;}var easer=BezierFactory.getBezierEasing(x1,y1,x2,y2).get;var mult=0;var s=this.finalS;var e=this.finalE;var type=this.data.sh;if(type===2){if(e===s){mult=ind>=e?1:0;}else{mult=max(0,min(0.5/(e-s)+(ind-s)/(e-s),1));}mult=easer(mult);}else if(type===3){if(e===s){mult=ind>=e?0:1;}else{mult=1-max(0,min(0.5/(e-s)+(ind-s)/(e-s),1));}mult=easer(mult);}else if(type===4){if(e===s){mult=0;}else{mult=max(0,min(0.5/(e-s)+(ind-s)/(e-s),1));if(mult<0.5){mult*=2;}else{mult=1-2*(mult-0.5);}}mult=easer(mult);}else if(type===5){if(e===s){mult=0;}else{var tot=e-s;/* ind += 0.5;\r\n                      mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */ind=min(max(0,ind+0.5-s),e-s);var x=-tot/2+ind;var a=tot/2;mult=Math.sqrt(1-x*x/(a*a));}mult=easer(mult);}else if(type===6){if(e===s){mult=0;}else{ind=min(max(0,ind+0.5-s),e-s);mult=(1+Math.cos(Math.PI+Math.PI*2*ind/(e-s)))/2;// eslint-disable-line\n}mult=easer(mult);}else{if(ind>=floor(s)){if(ind-s<0){mult=max(0,min(min(e,1)-(s-ind),1));}else{mult=max(0,min(e-ind,1));}}mult=easer(mult);}// Smoothness implementation.\n// The smoothness represents a reduced range of the original [0; 1] range.\n// if smoothness is 25%, the new range will be [0.375; 0.625]\n// Steps are:\n// - find the lower value of the new range (threshold)\n// - if multiplier is smaller than that value, floor it to 0\n// - if it is larger,\n//     - subtract the threshold\n//     - divide it by the smoothness (this will return the range to [0; 1])\n// Note: If it doesn't work on some scenarios, consider applying it before the easer.\nif(this.sm.v!==100){var smoothness=this.sm.v*0.01;if(smoothness===0){smoothness=0.00000001;}var threshold=0.5-smoothness*0.5;if(mult<threshold){mult=0;}else{mult=(mult-threshold)/smoothness;if(mult>1){mult=1;}}}return mult*this.a.v;},getValue:function getValue(newCharsFlag){this.iterateDynamicProperties();this._mdf=newCharsFlag||this._mdf;this._currentTextLength=this.elem.textProperty.currentData.l.length||0;if(newCharsFlag&&this.data.r===2){this.e.v=this._currentTextLength;}var divisor=this.data.r===2?1:100/this.data.totalChars;var o=this.o.v/divisor;var s=this.s.v/divisor+o;var e=this.e.v/divisor+o;if(s>e){var _s=s;s=e;e=_s;}this.finalS=s;this.finalE=e;}};extendPrototype([DynamicPropertyContainer],TextSelectorPropFactory);function getTextSelectorProp(elem,data,arr){return new TextSelectorPropFactory(elem,data,arr);}return{getTextSelectorProp:getTextSelectorProp};}();function TextAnimatorDataProperty(elem,animatorProps,container){var defaultData={propType:false};var getProp=PropertyFactory.getProp;var textAnimatorAnimatables=animatorProps.a;this.a={r:textAnimatorAnimatables.r?getProp(elem,textAnimatorAnimatables.r,0,degToRads,container):defaultData,rx:textAnimatorAnimatables.rx?getProp(elem,textAnimatorAnimatables.rx,0,degToRads,container):defaultData,ry:textAnimatorAnimatables.ry?getProp(elem,textAnimatorAnimatables.ry,0,degToRads,container):defaultData,sk:textAnimatorAnimatables.sk?getProp(elem,textAnimatorAnimatables.sk,0,degToRads,container):defaultData,sa:textAnimatorAnimatables.sa?getProp(elem,textAnimatorAnimatables.sa,0,degToRads,container):defaultData,s:textAnimatorAnimatables.s?getProp(elem,textAnimatorAnimatables.s,1,0.01,container):defaultData,a:textAnimatorAnimatables.a?getProp(elem,textAnimatorAnimatables.a,1,0,container):defaultData,o:textAnimatorAnimatables.o?getProp(elem,textAnimatorAnimatables.o,0,0.01,container):defaultData,p:textAnimatorAnimatables.p?getProp(elem,textAnimatorAnimatables.p,1,0,container):defaultData,sw:textAnimatorAnimatables.sw?getProp(elem,textAnimatorAnimatables.sw,0,0,container):defaultData,sc:textAnimatorAnimatables.sc?getProp(elem,textAnimatorAnimatables.sc,1,0,container):defaultData,fc:textAnimatorAnimatables.fc?getProp(elem,textAnimatorAnimatables.fc,1,0,container):defaultData,fh:textAnimatorAnimatables.fh?getProp(elem,textAnimatorAnimatables.fh,0,0,container):defaultData,fs:textAnimatorAnimatables.fs?getProp(elem,textAnimatorAnimatables.fs,0,0.01,container):defaultData,fb:textAnimatorAnimatables.fb?getProp(elem,textAnimatorAnimatables.fb,0,0.01,container):defaultData,t:textAnimatorAnimatables.t?getProp(elem,textAnimatorAnimatables.t,0,0,container):defaultData};this.s=TextSelectorProp.getTextSelectorProp(elem,animatorProps.s,container);this.s.t=animatorProps.s.t;}function TextAnimatorProperty(textData,renderType,elem){this._isFirstFrame=true;this._hasMaskedPath=false;this._frameId=-1;this._textData=textData;this._renderType=renderType;this._elem=elem;this._animatorsData=createSizedArray(this._textData.a.length);this._pathData={};this._moreOptions={alignment:{}};this.renderedLetters=[];this.lettersChangedFlag=false;this.initDynamicPropertyContainer(elem);}TextAnimatorProperty.prototype.searchProperties=function(){var i;var len=this._textData.a.length;var animatorProps;var getProp=PropertyFactory.getProp;for(i=0;i<len;i+=1){animatorProps=this._textData.a[i];this._animatorsData[i]=new TextAnimatorDataProperty(this._elem,animatorProps,this);}if(this._textData.p&&'m'in this._textData.p){this._pathData={a:getProp(this._elem,this._textData.p.a,0,0,this),f:getProp(this._elem,this._textData.p.f,0,0,this),l:getProp(this._elem,this._textData.p.l,0,0,this),r:getProp(this._elem,this._textData.p.r,0,0,this),p:getProp(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)};this._hasMaskedPath=true;}else{this._hasMaskedPath=false;}this._moreOptions.alignment=getProp(this._elem,this._textData.m.a,1,0,this);};TextAnimatorProperty.prototype.getMeasures=function(documentData,lettersChangedFlag){this.lettersChangedFlag=lettersChangedFlag;if(!this._mdf&&!this._isFirstFrame&&!lettersChangedFlag&&(!this._hasMaskedPath||!this._pathData.m._mdf)){return;}this._isFirstFrame=false;var alignment=this._moreOptions.alignment.v;var animators=this._animatorsData;var textData=this._textData;var matrixHelper=this.mHelper;var renderType=this._renderType;var renderedLettersCount=this.renderedLetters.length;var xPos;var yPos;var i;var len;var letters=documentData.l;var pathInfo;var currentLength;var currentPoint;var segmentLength;var flag;var pointInd;var segmentInd;var prevPoint;var points;var segments;var partialLength;var totalLength;var perc;var tanAngle;var mask;if(this._hasMaskedPath){mask=this._pathData.m;if(!this._pathData.n||this._pathData._mdf){var paths=mask.v;if(this._pathData.r.v){paths=paths.reverse();}// TODO: release bezier data cached from previous pathInfo: this._pathData.pi\npathInfo={tLength:0,segments:[]};len=paths._length-1;var bezierData;totalLength=0;for(i=0;i<len;i+=1){bezierData=bez.buildBezierData(paths.v[i],paths.v[i+1],[paths.o[i][0]-paths.v[i][0],paths.o[i][1]-paths.v[i][1]],[paths.i[i+1][0]-paths.v[i+1][0],paths.i[i+1][1]-paths.v[i+1][1]]);pathInfo.tLength+=bezierData.segmentLength;pathInfo.segments.push(bezierData);totalLength+=bezierData.segmentLength;}i=len;if(mask.v.c){bezierData=bez.buildBezierData(paths.v[i],paths.v[0],[paths.o[i][0]-paths.v[i][0],paths.o[i][1]-paths.v[i][1]],[paths.i[0][0]-paths.v[0][0],paths.i[0][1]-paths.v[0][1]]);pathInfo.tLength+=bezierData.segmentLength;pathInfo.segments.push(bezierData);totalLength+=bezierData.segmentLength;}this._pathData.pi=pathInfo;}pathInfo=this._pathData.pi;currentLength=this._pathData.f.v;segmentInd=0;pointInd=1;segmentLength=0;flag=true;segments=pathInfo.segments;if(currentLength<0&&mask.v.c){if(pathInfo.tLength<Math.abs(currentLength)){currentLength=-Math.abs(currentLength)%pathInfo.tLength;}segmentInd=segments.length-1;points=segments[segmentInd].points;pointInd=points.length-1;while(currentLength<0){currentLength+=points[pointInd].partialLength;pointInd-=1;if(pointInd<0){segmentInd-=1;points=segments[segmentInd].points;pointInd=points.length-1;}}}points=segments[segmentInd].points;prevPoint=points[pointInd-1];currentPoint=points[pointInd];partialLength=currentPoint.partialLength;}len=letters.length;xPos=0;yPos=0;var yOff=documentData.finalSize*1.2*0.714;var firstLine=true;var animatorProps;var animatorSelector;var j;var jLen;var letterValue;jLen=animators.length;var mult;var ind=-1;var offf;var xPathPos;var yPathPos;var initPathPos=currentLength;var initSegmentInd=segmentInd;var initPointInd=pointInd;var currentLine=-1;var elemOpacity;var sc;var sw;var fc;var k;var letterSw;var letterSc;var letterFc;var letterM='';var letterP=this.defaultPropsArray;var letterO;//\nif(documentData.j===2||documentData.j===1){var animatorJustifyOffset=0;var animatorFirstCharOffset=0;var justifyOffsetMult=documentData.j===2?-0.5:-1;var lastIndex=0;var isNewLine=true;for(i=0;i<len;i+=1){if(letters[i].n){if(animatorJustifyOffset){animatorJustifyOffset+=animatorFirstCharOffset;}while(lastIndex<i){letters[lastIndex].animatorJustifyOffset=animatorJustifyOffset;lastIndex+=1;}animatorJustifyOffset=0;isNewLine=true;}else{for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.t.propType){if(isNewLine&&documentData.j===2){animatorFirstCharOffset+=animatorProps.t.v*justifyOffsetMult;}animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(mult.length){animatorJustifyOffset+=animatorProps.t.v*mult[0]*justifyOffsetMult;}else{animatorJustifyOffset+=animatorProps.t.v*mult*justifyOffsetMult;}}}isNewLine=false;}}if(animatorJustifyOffset){animatorJustifyOffset+=animatorFirstCharOffset;}while(lastIndex<i){letters[lastIndex].animatorJustifyOffset=animatorJustifyOffset;lastIndex+=1;}}//\nfor(i=0;i<len;i+=1){matrixHelper.reset();elemOpacity=1;if(letters[i].n){xPos=0;yPos+=documentData.yOffset;yPos+=firstLine?1:0;currentLength=initPathPos;firstLine=false;if(this._hasMaskedPath){segmentInd=initSegmentInd;pointInd=initPointInd;points=segments[segmentInd].points;prevPoint=points[pointInd-1];currentPoint=points[pointInd];partialLength=currentPoint.partialLength;segmentLength=0;}letterM='';letterFc='';letterSw='';letterO='';letterP=this.defaultPropsArray;}else{if(this._hasMaskedPath){if(currentLine!==letters[i].line){switch(documentData.j){case 1:currentLength+=totalLength-documentData.lineWidths[letters[i].line];break;case 2:currentLength+=(totalLength-documentData.lineWidths[letters[i].line])/2;break;default:break;}currentLine=letters[i].line;}if(ind!==letters[i].ind){if(letters[ind]){currentLength+=letters[ind].extra;}currentLength+=letters[i].an/2;ind=letters[i].ind;}currentLength+=alignment[0]*letters[i].an*0.005;var animatorOffset=0;for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.p.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(mult.length){animatorOffset+=animatorProps.p.v[0]*mult[0];}else{animatorOffset+=animatorProps.p.v[0]*mult;}}if(animatorProps.a.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(mult.length){animatorOffset+=animatorProps.a.v[0]*mult[0];}else{animatorOffset+=animatorProps.a.v[0]*mult;}}}flag=true;// Force alignment only works with a single line for now\nif(this._pathData.a.v){currentLength=letters[0].an*0.5+(totalLength-this._pathData.f.v-letters[0].an*0.5-letters[letters.length-1].an*0.5)*ind/(len-1);currentLength+=this._pathData.f.v;}while(flag){if(segmentLength+partialLength>=currentLength+animatorOffset||!points){perc=(currentLength+animatorOffset-segmentLength)/currentPoint.partialLength;xPathPos=prevPoint.point[0]+(currentPoint.point[0]-prevPoint.point[0])*perc;yPathPos=prevPoint.point[1]+(currentPoint.point[1]-prevPoint.point[1])*perc;matrixHelper.translate(-alignment[0]*letters[i].an*0.005,-(alignment[1]*yOff)*0.01);flag=false;}else if(points){segmentLength+=currentPoint.partialLength;pointInd+=1;if(pointInd>=points.length){pointInd=0;segmentInd+=1;if(!segments[segmentInd]){if(mask.v.c){pointInd=0;segmentInd=0;points=segments[segmentInd].points;}else{segmentLength-=currentPoint.partialLength;points=null;}}else{points=segments[segmentInd].points;}}if(points){prevPoint=currentPoint;currentPoint=points[pointInd];partialLength=currentPoint.partialLength;}}}offf=letters[i].an/2-letters[i].add;matrixHelper.translate(-offf,0,0);}else{offf=letters[i].an/2-letters[i].add;matrixHelper.translate(-offf,0,0);// Grouping alignment\nmatrixHelper.translate(-alignment[0]*letters[i].an*0.005,-alignment[1]*yOff*0.01,0);}for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.t.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);// This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\nif(xPos!==0||documentData.j!==0){if(this._hasMaskedPath){if(mult.length){currentLength+=animatorProps.t.v*mult[0];}else{currentLength+=animatorProps.t.v*mult;}}else if(mult.length){xPos+=animatorProps.t.v*mult[0];}else{xPos+=animatorProps.t.v*mult;}}}}if(documentData.strokeWidthAnim){sw=documentData.sw||0;}if(documentData.strokeColorAnim){if(documentData.sc){sc=[documentData.sc[0],documentData.sc[1],documentData.sc[2]];}else{sc=[0,0,0];}}if(documentData.fillColorAnim&&documentData.fc){fc=[documentData.fc[0],documentData.fc[1],documentData.fc[2]];}for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.a.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(mult.length){matrixHelper.translate(-animatorProps.a.v[0]*mult[0],-animatorProps.a.v[1]*mult[1],animatorProps.a.v[2]*mult[2]);}else{matrixHelper.translate(-animatorProps.a.v[0]*mult,-animatorProps.a.v[1]*mult,animatorProps.a.v[2]*mult);}}}for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.s.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(mult.length){matrixHelper.scale(1+(animatorProps.s.v[0]-1)*mult[0],1+(animatorProps.s.v[1]-1)*mult[1],1);}else{matrixHelper.scale(1+(animatorProps.s.v[0]-1)*mult,1+(animatorProps.s.v[1]-1)*mult,1);}}}for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(animatorProps.sk.propType){if(mult.length){matrixHelper.skewFromAxis(-animatorProps.sk.v*mult[0],animatorProps.sa.v*mult[1]);}else{matrixHelper.skewFromAxis(-animatorProps.sk.v*mult,animatorProps.sa.v*mult);}}if(animatorProps.r.propType){if(mult.length){matrixHelper.rotateZ(-animatorProps.r.v*mult[2]);}else{matrixHelper.rotateZ(-animatorProps.r.v*mult);}}if(animatorProps.ry.propType){if(mult.length){matrixHelper.rotateY(animatorProps.ry.v*mult[1]);}else{matrixHelper.rotateY(animatorProps.ry.v*mult);}}if(animatorProps.rx.propType){if(mult.length){matrixHelper.rotateX(animatorProps.rx.v*mult[0]);}else{matrixHelper.rotateX(animatorProps.rx.v*mult);}}if(animatorProps.o.propType){if(mult.length){elemOpacity+=(animatorProps.o.v*mult[0]-elemOpacity)*mult[0];}else{elemOpacity+=(animatorProps.o.v*mult-elemOpacity)*mult;}}if(documentData.strokeWidthAnim&&animatorProps.sw.propType){if(mult.length){sw+=animatorProps.sw.v*mult[0];}else{sw+=animatorProps.sw.v*mult;}}if(documentData.strokeColorAnim&&animatorProps.sc.propType){for(k=0;k<3;k+=1){if(mult.length){sc[k]+=(animatorProps.sc.v[k]-sc[k])*mult[0];}else{sc[k]+=(animatorProps.sc.v[k]-sc[k])*mult;}}}if(documentData.fillColorAnim&&documentData.fc){if(animatorProps.fc.propType){for(k=0;k<3;k+=1){if(mult.length){fc[k]+=(animatorProps.fc.v[k]-fc[k])*mult[0];}else{fc[k]+=(animatorProps.fc.v[k]-fc[k])*mult;}}}if(animatorProps.fh.propType){if(mult.length){fc=addHueToRGB(fc,animatorProps.fh.v*mult[0]);}else{fc=addHueToRGB(fc,animatorProps.fh.v*mult);}}if(animatorProps.fs.propType){if(mult.length){fc=addSaturationToRGB(fc,animatorProps.fs.v*mult[0]);}else{fc=addSaturationToRGB(fc,animatorProps.fs.v*mult);}}if(animatorProps.fb.propType){if(mult.length){fc=addBrightnessToRGB(fc,animatorProps.fb.v*mult[0]);}else{fc=addBrightnessToRGB(fc,animatorProps.fb.v*mult);}}}}for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.p.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(this._hasMaskedPath){if(mult.length){matrixHelper.translate(0,animatorProps.p.v[1]*mult[0],-animatorProps.p.v[2]*mult[1]);}else{matrixHelper.translate(0,animatorProps.p.v[1]*mult,-animatorProps.p.v[2]*mult);}}else if(mult.length){matrixHelper.translate(animatorProps.p.v[0]*mult[0],animatorProps.p.v[1]*mult[1],-animatorProps.p.v[2]*mult[2]);}else{matrixHelper.translate(animatorProps.p.v[0]*mult,animatorProps.p.v[1]*mult,-animatorProps.p.v[2]*mult);}}}if(documentData.strokeWidthAnim){letterSw=sw<0?0:sw;}if(documentData.strokeColorAnim){letterSc='rgb('+Math.round(sc[0]*255)+','+Math.round(sc[1]*255)+','+Math.round(sc[2]*255)+')';}if(documentData.fillColorAnim&&documentData.fc){letterFc='rgb('+Math.round(fc[0]*255)+','+Math.round(fc[1]*255)+','+Math.round(fc[2]*255)+')';}if(this._hasMaskedPath){matrixHelper.translate(0,-documentData.ls);matrixHelper.translate(0,alignment[1]*yOff*0.01+yPos,0);if(this._pathData.p.v){tanAngle=(currentPoint.point[1]-prevPoint.point[1])/(currentPoint.point[0]-prevPoint.point[0]);var rot=Math.atan(tanAngle)*180/Math.PI;if(currentPoint.point[0]<prevPoint.point[0]){rot+=180;}matrixHelper.rotate(-rot*Math.PI/180);}matrixHelper.translate(xPathPos,yPathPos,0);currentLength-=alignment[0]*letters[i].an*0.005;if(letters[i+1]&&ind!==letters[i+1].ind){currentLength+=letters[i].an/2;currentLength+=documentData.tr*0.001*documentData.finalSize;}}else{matrixHelper.translate(xPos,yPos,0);if(documentData.ps){// matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\nmatrixHelper.translate(documentData.ps[0],documentData.ps[1]+documentData.ascent,0);}switch(documentData.j){case 1:matrixHelper.translate(letters[i].animatorJustifyOffset+documentData.justifyOffset+(documentData.boxWidth-documentData.lineWidths[letters[i].line]),0,0);break;case 2:matrixHelper.translate(letters[i].animatorJustifyOffset+documentData.justifyOffset+(documentData.boxWidth-documentData.lineWidths[letters[i].line])/2,0,0);break;default:break;}matrixHelper.translate(0,-documentData.ls);matrixHelper.translate(offf,0,0);matrixHelper.translate(alignment[0]*letters[i].an*0.005,alignment[1]*yOff*0.01,0);xPos+=letters[i].l+documentData.tr*0.001*documentData.finalSize;}if(renderType==='html'){letterM=matrixHelper.toCSS();}else if(renderType==='svg'){letterM=matrixHelper.to2dCSS();}else{letterP=[matrixHelper.props[0],matrixHelper.props[1],matrixHelper.props[2],matrixHelper.props[3],matrixHelper.props[4],matrixHelper.props[5],matrixHelper.props[6],matrixHelper.props[7],matrixHelper.props[8],matrixHelper.props[9],matrixHelper.props[10],matrixHelper.props[11],matrixHelper.props[12],matrixHelper.props[13],matrixHelper.props[14],matrixHelper.props[15]];}letterO=elemOpacity;}if(renderedLettersCount<=i){letterValue=new LetterProps(letterO,letterSw,letterSc,letterFc,letterM,letterP);this.renderedLetters.push(letterValue);renderedLettersCount+=1;this.lettersChangedFlag=true;}else{letterValue=this.renderedLetters[i];this.lettersChangedFlag=letterValue.update(letterO,letterSw,letterSc,letterFc,letterM,letterP)||this.lettersChangedFlag;}}};TextAnimatorProperty.prototype.getValue=function(){if(this._elem.globalData.frameId===this._frameId){return;}this._frameId=this._elem.globalData.frameId;this.iterateDynamicProperties();};TextAnimatorProperty.prototype.mHelper=new Matrix();TextAnimatorProperty.prototype.defaultPropsArray=[];extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(data,globalData,comp){this.lettersChangedFlag=true;this.initFrame();this.initBaseData(data,globalData,comp);this.textProperty=new TextProperty(this,data.t,this.dynamicProperties);this.textAnimator=new TextAnimatorProperty(data.t,this.renderType,this);this.initTransform(data,globalData,comp);this.initHierarchy();this.initRenderable();this.initRendererElement();this.createContainerElements();this.createRenderableComponents();this.createContent();this.hide();this.textAnimator.searchProperties(this.dynamicProperties);};ITextElement.prototype.prepareFrame=function(num){this._mdf=false;this.prepareRenderableFrame(num);this.prepareProperties(num,this.isInRange);if(this.textProperty._mdf||this.textProperty._isFirstFrame){this.buildNewText();this.textProperty._isFirstFrame=false;this.textProperty._mdf=false;}};ITextElement.prototype.createPathShape=function(matrixHelper,shapes){var j;var jLen=shapes.length;var pathNodes;var shapeStr='';for(j=0;j<jLen;j+=1){if(shapes[j].ty==='sh'){pathNodes=shapes[j].ks.k;shapeStr+=buildShapeString(pathNodes,pathNodes.i.length,true,matrixHelper);}}return shapeStr;};ITextElement.prototype.updateDocumentData=function(newData,index){this.textProperty.updateDocumentData(newData,index);};ITextElement.prototype.canResizeFont=function(_canResize){this.textProperty.canResizeFont(_canResize);};ITextElement.prototype.setMinimumFontSize=function(_fontSize){this.textProperty.setMinimumFontSize(_fontSize);};ITextElement.prototype.applyTextPropertiesToMatrix=function(documentData,matrixHelper,lineNumber,xPos,yPos){if(documentData.ps){matrixHelper.translate(documentData.ps[0],documentData.ps[1]+documentData.ascent,0);}matrixHelper.translate(0,-documentData.ls,0);switch(documentData.j){case 1:matrixHelper.translate(documentData.justifyOffset+(documentData.boxWidth-documentData.lineWidths[lineNumber]),0,0);break;case 2:matrixHelper.translate(documentData.justifyOffset+(documentData.boxWidth-documentData.lineWidths[lineNumber])/2,0,0);break;default:break;}matrixHelper.translate(xPos,yPos,0);};ITextElement.prototype.buildColor=function(colorData){return'rgb('+Math.round(colorData[0]*255)+','+Math.round(colorData[1]*255)+','+Math.round(colorData[2]*255)+')';};ITextElement.prototype.emptyProp=new LetterProps();ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(data,globalData,comp){this.textSpans=[];this.renderType='svg';this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement);SVGTextLottieElement.prototype.createContent=function(){if(this.data.singleShape&&!this.globalData.fontManager.chars){this.textContainer=createNS('text');}};SVGTextLottieElement.prototype.buildTextContents=function(textArray){var i=0;var len=textArray.length;var textContents=[];var currentTextContent='';while(i<len){if(textArray[i]===String.fromCharCode(13)||textArray[i]===String.fromCharCode(3)){textContents.push(currentTextContent);currentTextContent='';}else{currentTextContent+=textArray[i];}i+=1;}textContents.push(currentTextContent);return textContents;};SVGTextLottieElement.prototype.buildShapeData=function(data,scale){// data should probably be cloned to apply scale separately to each instance of a text on different layers\n// but since text internal content gets only rendered once and then it's never rerendered,\n// it's probably safe not to clone data and reuse always the same instance even if the object is mutated.\n// Avoiding cloning is preferred since cloning each character shape data is expensive\nif(data.shapes&&data.shapes.length){var shape=data.shapes[0];if(shape.it){var shapeItem=shape.it[shape.it.length-1];if(shapeItem.s){shapeItem.s.k[0]=scale;shapeItem.s.k[1]=scale;}}}return data;};SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var i;var len;var documentData=this.textProperty.currentData;this.renderedLetters=createSizedArray(documentData?documentData.l.length:0);if(documentData.fc){this.layerElement.setAttribute('fill',this.buildColor(documentData.fc));}else{this.layerElement.setAttribute('fill','rgba(0,0,0,0)');}if(documentData.sc){this.layerElement.setAttribute('stroke',this.buildColor(documentData.sc));this.layerElement.setAttribute('stroke-width',documentData.sw);}this.layerElement.setAttribute('font-size',documentData.finalSize);var fontData=this.globalData.fontManager.getFontByName(documentData.f);if(fontData.fClass){this.layerElement.setAttribute('class',fontData.fClass);}else{this.layerElement.setAttribute('font-family',fontData.fFamily);var fWeight=documentData.fWeight;var fStyle=documentData.fStyle;this.layerElement.setAttribute('font-style',fStyle);this.layerElement.setAttribute('font-weight',fWeight);}this.layerElement.setAttribute('aria-label',documentData.t);var letters=documentData.l||[];var usesGlyphs=!!this.globalData.fontManager.chars;len=letters.length;var tSpan;var matrixHelper=this.mHelper;var shapeStr='';var singleShape=this.data.singleShape;var xPos=0;var yPos=0;var firstLine=true;var trackingOffset=documentData.tr*0.001*documentData.finalSize;if(singleShape&&!usesGlyphs&&!documentData.sz){var tElement=this.textContainer;var justify='start';switch(documentData.j){case 1:justify='end';break;case 2:justify='middle';break;default:justify='start';break;}tElement.setAttribute('text-anchor',justify);tElement.setAttribute('letter-spacing',trackingOffset);var textContent=this.buildTextContents(documentData.finalText);len=textContent.length;yPos=documentData.ps?documentData.ps[1]+documentData.ascent:0;for(i=0;i<len;i+=1){tSpan=this.textSpans[i].span||createNS('tspan');tSpan.textContent=textContent[i];tSpan.setAttribute('x',0);tSpan.setAttribute('y',yPos);tSpan.style.display='inherit';tElement.appendChild(tSpan);if(!this.textSpans[i]){this.textSpans[i]={span:null,glyph:null};}this.textSpans[i].span=tSpan;yPos+=documentData.finalLineHeight;}this.layerElement.appendChild(tElement);}else{var cachedSpansLength=this.textSpans.length;var charData;for(i=0;i<len;i+=1){if(!this.textSpans[i]){this.textSpans[i]={span:null,childSpan:null,glyph:null};}if(!usesGlyphs||!singleShape||i===0){tSpan=cachedSpansLength>i?this.textSpans[i].span:createNS(usesGlyphs?'g':'text');if(cachedSpansLength<=i){tSpan.setAttribute('stroke-linecap','butt');tSpan.setAttribute('stroke-linejoin','round');tSpan.setAttribute('stroke-miterlimit','4');this.textSpans[i].span=tSpan;if(usesGlyphs){var childSpan=createNS('g');tSpan.appendChild(childSpan);this.textSpans[i].childSpan=childSpan;}this.textSpans[i].span=tSpan;this.layerElement.appendChild(tSpan);}tSpan.style.display='inherit';}matrixHelper.reset();if(singleShape){if(letters[i].n){xPos=-trackingOffset;yPos+=documentData.yOffset;yPos+=firstLine?1:0;firstLine=false;}this.applyTextPropertiesToMatrix(documentData,matrixHelper,letters[i].line,xPos,yPos);xPos+=letters[i].l||0;// xPos += letters[i].val === ' ' ? 0 : trackingOffset;\nxPos+=trackingOffset;}if(usesGlyphs){charData=this.globalData.fontManager.getCharData(documentData.finalText[i],fontData.fStyle,this.globalData.fontManager.getFontByName(documentData.f).fFamily);var glyphElement;// t === 1 means the character has been replaced with an animated shaped\nif(charData.t===1){glyphElement=new SVGCompElement(charData.data,this.globalData,this);}else{var data=emptyShapeData;if(charData.data&&charData.data.shapes){data=this.buildShapeData(charData.data,documentData.finalSize);}glyphElement=new SVGShapeElement(data,this.globalData,this);}if(this.textSpans[i].glyph){var glyph=this.textSpans[i].glyph;this.textSpans[i].childSpan.removeChild(glyph.layerElement);glyph.destroy();}this.textSpans[i].glyph=glyphElement;glyphElement._debug=true;glyphElement.prepareFrame(0);glyphElement.renderFrame();this.textSpans[i].childSpan.appendChild(glyphElement.layerElement);// when using animated shapes, the layer will be scaled instead of replacing the internal scale\n// this might have issues with strokes and might need a different solution\nif(charData.t===1){this.textSpans[i].childSpan.setAttribute('transform','scale('+documentData.finalSize/100+','+documentData.finalSize/100+')');}}else{if(singleShape){tSpan.setAttribute('transform','translate('+matrixHelper.props[12]+','+matrixHelper.props[13]+')');}tSpan.textContent=letters[i].val;tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace','xml:space','preserve');}//\n}if(singleShape&&tSpan){tSpan.setAttribute('d',shapeStr);}}while(i<this.textSpans.length){this.textSpans[i].span.style.display='none';i+=1;}this._sizeChanged=true;};SVGTextLottieElement.prototype.sourceRectAtTime=function(){this.prepareFrame(this.comp.renderedFrame-this.data.st);this.renderInnerContent();if(this._sizeChanged){this._sizeChanged=false;var textBox=this.layerElement.getBBox();this.bbox={top:textBox.y,left:textBox.x,width:textBox.width,height:textBox.height};}return this.bbox;};SVGTextLottieElement.prototype.getValue=function(){var i;var len=this.textSpans.length;var glyphElement;this.renderedFrame=this.comp.renderedFrame;for(i=0;i<len;i+=1){glyphElement=this.textSpans[i].glyph;if(glyphElement){glyphElement.prepareFrame(this.comp.renderedFrame-this.data.st);if(glyphElement._mdf){this._mdf=true;}}}};SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape||this._mdf){this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);if(this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){this._sizeChanged=true;var i;var len;var renderedLetters=this.textAnimator.renderedLetters;var letters=this.textProperty.currentData.l;len=letters.length;var renderedLetter;var textSpan;var glyphElement;for(i=0;i<len;i+=1){if(!letters[i].n){renderedLetter=renderedLetters[i];textSpan=this.textSpans[i].span;glyphElement=this.textSpans[i].glyph;if(glyphElement){glyphElement.renderFrame();}if(renderedLetter._mdf.m){textSpan.setAttribute('transform',renderedLetter.m);}if(renderedLetter._mdf.o){textSpan.setAttribute('opacity',renderedLetter.o);}if(renderedLetter._mdf.sw){textSpan.setAttribute('stroke-width',renderedLetter.sw);}if(renderedLetter._mdf.sc){textSpan.setAttribute('stroke',renderedLetter.sc);}if(renderedLetter._mdf.fc){textSpan.setAttribute('fill',renderedLetter.fc);}}}}}};function ISolidElement(data,globalData,comp){this.initElement(data,globalData,comp);}extendPrototype([IImageElement],ISolidElement);ISolidElement.prototype.createContent=function(){var rect=createNS('rect');/// /rect.style.width = this.data.sw;\n/// /rect.style.height = this.data.sh;\n/// /rect.style.fill = this.data.sc;\nrect.setAttribute('width',this.data.sw);rect.setAttribute('height',this.data.sh);rect.setAttribute('fill',this.data.sc);this.layerElement.appendChild(rect);};function NullElement(data,globalData,comp){this.initFrame();this.initBaseData(data,globalData,comp);this.initFrame();this.initTransform(data,globalData,comp);this.initHierarchy();}NullElement.prototype.prepareFrame=function(num){this.prepareProperties(num,true);};NullElement.prototype.renderFrame=function(){};NullElement.prototype.getBaseElement=function(){return null;};NullElement.prototype.destroy=function(){};NullElement.prototype.sourceRectAtTime=function(){};NullElement.prototype.hide=function(){};extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase);SVGRendererBase.prototype.createNull=function(data){return new NullElement(data,this.globalData,this);};SVGRendererBase.prototype.createShape=function(data){return new SVGShapeElement(data,this.globalData,this);};SVGRendererBase.prototype.createText=function(data){return new SVGTextLottieElement(data,this.globalData,this);};SVGRendererBase.prototype.createImage=function(data){return new IImageElement(data,this.globalData,this);};SVGRendererBase.prototype.createSolid=function(data){return new ISolidElement(data,this.globalData,this);};SVGRendererBase.prototype.configAnimation=function(animData){this.svgElement.setAttribute('xmlns','http://www.w3.org/2000/svg');if(this.renderConfig.viewBoxSize){this.svgElement.setAttribute('viewBox',this.renderConfig.viewBoxSize);}else{this.svgElement.setAttribute('viewBox','0 0 '+animData.w+' '+animData.h);}if(!this.renderConfig.viewBoxOnly){this.svgElement.setAttribute('width',animData.w);this.svgElement.setAttribute('height',animData.h);this.svgElement.style.width='100%';this.svgElement.style.height='100%';this.svgElement.style.transform='translate3d(0,0,0)';this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility;}if(this.renderConfig.width){this.svgElement.setAttribute('width',this.renderConfig.width);}if(this.renderConfig.height){this.svgElement.setAttribute('height',this.renderConfig.height);}if(this.renderConfig.className){this.svgElement.setAttribute('class',this.renderConfig.className);}if(this.renderConfig.id){this.svgElement.setAttribute('id',this.renderConfig.id);}if(this.renderConfig.focusable!==undefined){this.svgElement.setAttribute('focusable',this.renderConfig.focusable);}this.svgElement.setAttribute('preserveAspectRatio',this.renderConfig.preserveAspectRatio);// this.layerElement.style.transform = 'translate3d(0,0,0)';\n// this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\nthis.animationItem.wrapper.appendChild(this.svgElement);// Mask animation\nvar defs=this.globalData.defs;this.setupGlobalData(animData,defs);this.globalData.progressiveLoad=this.renderConfig.progressiveLoad;this.data=animData;var maskElement=createNS('clipPath');var rect=createNS('rect');rect.setAttribute('width',animData.w);rect.setAttribute('height',animData.h);rect.setAttribute('x',0);rect.setAttribute('y',0);var maskId=createElementID();maskElement.setAttribute('id',maskId);maskElement.appendChild(rect);this.layerElement.setAttribute('clip-path','url('+getLocationHref()+'#'+maskId+')');defs.appendChild(maskElement);this.layers=animData.layers;this.elements=createSizedArray(animData.layers.length);};SVGRendererBase.prototype.destroy=function(){if(this.animationItem.wrapper){this.animationItem.wrapper.innerText='';}this.layerElement=null;this.globalData.defs=null;var i;var len=this.layers?this.layers.length:0;for(i=0;i<len;i+=1){if(this.elements[i]){this.elements[i].destroy();}}this.elements.length=0;this.destroyed=true;this.animationItem=null;};SVGRendererBase.prototype.updateContainerSize=function(){};SVGRendererBase.prototype.buildItem=function(pos){var elements=this.elements;if(elements[pos]||this.layers[pos].ty===99){return;}elements[pos]=true;var element=this.createItem(this.layers[pos]);elements[pos]=element;if(getExpressionsPlugin()){if(this.layers[pos].ty===0){this.globalData.projectInterface.registerComposition(element);}element.initExpressions();}this.appendElementInPos(element,pos);if(this.layers[pos].tt){if(!this.elements[pos-1]||this.elements[pos-1]===true){this.buildItem(pos-1);this.addPendingElement(element);}else{element.setMatte(elements[pos-1].layerId);}}};SVGRendererBase.prototype.checkPendingElements=function(){while(this.pendingElements.length){var element=this.pendingElements.pop();element.checkParenting();if(element.data.tt){var i=0;var len=this.elements.length;while(i<len){if(this.elements[i]===element){element.setMatte(this.elements[i-1].layerId);break;}i+=1;}}}};SVGRendererBase.prototype.renderFrame=function(num){if(this.renderedFrame===num||this.destroyed){return;}if(num===null){num=this.renderedFrame;}else{this.renderedFrame=num;}// console.log('-------');\n// console.log('FRAME ',num);\nthis.globalData.frameNum=num;this.globalData.frameId+=1;this.globalData.projectInterface.currentFrame=num;this.globalData._mdf=false;var i;var len=this.layers.length;if(!this.completeLayers){this.checkLayers(num);}for(i=len-1;i>=0;i-=1){if(this.completeLayers||this.elements[i]){this.elements[i].prepareFrame(num-this.layers[i].st);}}if(this.globalData._mdf){for(i=0;i<len;i+=1){if(this.completeLayers||this.elements[i]){this.elements[i].renderFrame();}}}};SVGRendererBase.prototype.appendElementInPos=function(element,pos){var newElement=element.getBaseElement();if(!newElement){return;}var i=0;var nextElement;while(i<pos){if(this.elements[i]&&this.elements[i]!==true&&this.elements[i].getBaseElement()){nextElement=this.elements[i].getBaseElement();}i+=1;}if(nextElement){this.layerElement.insertBefore(newElement,nextElement);}else{this.layerElement.appendChild(newElement);}};SVGRendererBase.prototype.hide=function(){this.layerElement.style.display='none';};SVGRendererBase.prototype.show=function(){this.layerElement.style.display='block';};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement);ICompElement.prototype.initElement=function(data,globalData,comp){this.initFrame();this.initBaseData(data,globalData,comp);this.initTransform(data,globalData,comp);this.initRenderable();this.initHierarchy();this.initRendererElement();this.createContainerElements();this.createRenderableComponents();if(this.data.xt||!globalData.progressiveLoad){this.buildAllItems();}this.hide();};/* ICompElement.prototype.hide = function(){\r\n      if(!this.hidden){\r\n          this.hideElement();\r\n          var i,len = this.elements.length;\r\n          for( i = 0; i < len; i+=1 ){\r\n              if(this.elements[i]){\r\n                  this.elements[i].hide();\r\n              }\r\n          }\r\n      }\r\n  }; */ICompElement.prototype.prepareFrame=function(num){this._mdf=false;this.prepareRenderableFrame(num);this.prepareProperties(num,this.isInRange);if(!this.isInRange&&!this.data.xt){return;}if(!this.tm._placeholder){var timeRemapped=this.tm.v;if(timeRemapped===this.data.op){timeRemapped=this.data.op-1;}this.renderedFrame=timeRemapped;}else{this.renderedFrame=num/this.data.sr;}var i;var len=this.elements.length;if(!this.completeLayers){this.checkLayers(this.renderedFrame);}// This iteration needs to be backwards because of how expressions connect between each other\nfor(i=len-1;i>=0;i-=1){if(this.completeLayers||this.elements[i]){this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st);if(this.elements[i]._mdf){this._mdf=true;}}}};ICompElement.prototype.renderInnerContent=function(){var i;var len=this.layers.length;for(i=0;i<len;i+=1){if(this.completeLayers||this.elements[i]){this.elements[i].renderFrame();}}};ICompElement.prototype.setElements=function(elems){this.elements=elems;};ICompElement.prototype.getElements=function(){return this.elements;};ICompElement.prototype.destroyElements=function(){var i;var len=this.layers.length;for(i=0;i<len;i+=1){if(this.elements[i]){this.elements[i].destroy();}}};ICompElement.prototype.destroy=function(){this.destroyElements();this.destroyBaseElement();};function SVGCompElement(data,globalData,comp){this.layers=data.layers;this.supports3d=true;this.completeLayers=false;this.pendingElements=[];this.elements=this.layers?createSizedArray(this.layers.length):[];this.initElement(data,globalData,comp);this.tm=data.tm?PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this):{_placeholder:true};}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement);SVGCompElement.prototype.createComp=function(data){return new SVGCompElement(data,this.globalData,this);};function SVGRenderer(animationItem,config){this.animationItem=animationItem;this.layers=null;this.renderedFrame=-1;this.svgElement=createNS('svg');var ariaLabel='';if(config&&config.title){var titleElement=createNS('title');var titleId=createElementID();titleElement.setAttribute('id',titleId);titleElement.textContent=config.title;this.svgElement.appendChild(titleElement);ariaLabel+=titleId;}if(config&&config.description){var descElement=createNS('desc');var descId=createElementID();descElement.setAttribute('id',descId);descElement.textContent=config.description;this.svgElement.appendChild(descElement);ariaLabel+=' '+descId;}if(ariaLabel){this.svgElement.setAttribute('aria-labelledby',ariaLabel);}var defs=createNS('defs');this.svgElement.appendChild(defs);var maskElement=createNS('g');this.svgElement.appendChild(maskElement);this.layerElement=maskElement;this.renderConfig={preserveAspectRatio:config&&config.preserveAspectRatio||'xMidYMid meet',imagePreserveAspectRatio:config&&config.imagePreserveAspectRatio||'xMidYMid slice',contentVisibility:config&&config.contentVisibility||'visible',progressiveLoad:config&&config.progressiveLoad||false,hideOnTransparent:!(config&&config.hideOnTransparent===false),viewBoxOnly:config&&config.viewBoxOnly||false,viewBoxSize:config&&config.viewBoxSize||false,className:config&&config.className||'',id:config&&config.id||'',focusable:config&&config.focusable,filterSize:{width:config&&config.filterSize&&config.filterSize.width||'100%',height:config&&config.filterSize&&config.filterSize.height||'100%',x:config&&config.filterSize&&config.filterSize.x||'0%',y:config&&config.filterSize&&config.filterSize.y||'0%'},width:config&&config.width,height:config&&config.height};this.globalData={_mdf:false,frameNum:-1,defs:defs,renderConfig:this.renderConfig};this.elements=[];this.pendingElements=[];this.destroyed=false;this.rendererType='svg';}extendPrototype([SVGRendererBase],SVGRenderer);SVGRenderer.prototype.createComp=function(data){return new SVGCompElement(data,this.globalData,this);};function CVContextData(){this.saved=[];this.cArrPos=0;this.cTr=new Matrix();this.cO=1;var i;var len=15;this.savedOp=createTypedArray('float32',len);for(i=0;i<len;i+=1){this.saved[i]=createTypedArray('float32',16);}this._length=len;}CVContextData.prototype.duplicate=function(){var newLength=this._length*2;var currentSavedOp=this.savedOp;this.savedOp=createTypedArray('float32',newLength);this.savedOp.set(currentSavedOp);var i=0;for(i=this._length;i<newLength;i+=1){this.saved[i]=createTypedArray('float32',16);}this._length=newLength;};CVContextData.prototype.reset=function(){this.cArrPos=0;this.cTr.reset();this.cO=1;};function ShapeTransformManager(){this.sequences={};this.sequenceList=[];this.transform_key_count=0;}ShapeTransformManager.prototype={addTransformSequence:function addTransformSequence(transforms){var i;var len=transforms.length;var key='_';for(i=0;i<len;i+=1){key+=transforms[i].transform.key+'_';}var sequence=this.sequences[key];if(!sequence){sequence={transforms:[].concat(transforms),finalTransform:new Matrix(),_mdf:false};this.sequences[key]=sequence;this.sequenceList.push(sequence);}return sequence;},processSequence:function processSequence(sequence,isFirstFrame){var i=0;var len=sequence.transforms.length;var _mdf=isFirstFrame;while(i<len&&!isFirstFrame){if(sequence.transforms[i].transform.mProps._mdf){_mdf=true;break;}i+=1;}if(_mdf){var props;sequence.finalTransform.reset();for(i=len-1;i>=0;i-=1){props=sequence.transforms[i].transform.mProps.v.props;sequence.finalTransform.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);}}sequence._mdf=_mdf;},processSequences:function processSequences(isFirstFrame){var i;var len=this.sequenceList.length;for(i=0;i<len;i+=1){this.processSequence(this.sequenceList[i],isFirstFrame);}},getNewKey:function getNewKey(){this.transform_key_count+=1;return'_'+this.transform_key_count;}};function CVEffects(){}CVEffects.prototype.renderFrame=function(){};function CVMaskElement(data,element){this.data=data;this.element=element;this.masksProperties=this.data.masksProperties||[];this.viewData=createSizedArray(this.masksProperties.length);var i;var len=this.masksProperties.length;var hasMasks=false;for(i=0;i<len;i+=1){if(this.masksProperties[i].mode!=='n'){hasMasks=true;}this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);}this.hasMasks=hasMasks;if(hasMasks){this.element.addRenderableComponent(this);}}CVMaskElement.prototype.renderFrame=function(){if(!this.hasMasks){return;}var transform=this.element.finalTransform.mat;var ctx=this.element.canvasContext;var i;var len=this.masksProperties.length;var pt;var pts;var data;ctx.beginPath();for(i=0;i<len;i+=1){if(this.masksProperties[i].mode!=='n'){if(this.masksProperties[i].inv){ctx.moveTo(0,0);ctx.lineTo(this.element.globalData.compSize.w,0);ctx.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h);ctx.lineTo(0,this.element.globalData.compSize.h);ctx.lineTo(0,0);}data=this.viewData[i].v;pt=transform.applyToPointArray(data.v[0][0],data.v[0][1],0);ctx.moveTo(pt[0],pt[1]);var j;var jLen=data._length;for(j=1;j<jLen;j+=1){pts=transform.applyToTriplePoints(data.o[j-1],data.i[j],data.v[j]);ctx.bezierCurveTo(pts[0],pts[1],pts[2],pts[3],pts[4],pts[5]);}pts=transform.applyToTriplePoints(data.o[j-1],data.i[0],data.v[0]);ctx.bezierCurveTo(pts[0],pts[1],pts[2],pts[3],pts[4],pts[5]);}}this.element.globalData.renderer.save(true);ctx.clip();};CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty;CVMaskElement.prototype.destroy=function(){this.element=null;};function CVBaseElement(){}CVBaseElement.prototype={createElements:function createElements(){},initRendererElement:function initRendererElement(){},createContainerElements:function createContainerElements(){this.canvasContext=this.globalData.canvasContext;this.renderableEffectsManager=new CVEffects(this);},createContent:function createContent(){},setBlendMode:function setBlendMode(){var globalData=this.globalData;if(globalData.blendMode!==this.data.bm){globalData.blendMode=this.data.bm;var blendModeValue=getBlendMode(this.data.bm);globalData.canvasContext.globalCompositeOperation=blendModeValue;}},createRenderableComponents:function createRenderableComponents(){this.maskManager=new CVMaskElement(this.data,this);},hideElement:function hideElement(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){this.hidden=true;}},showElement:function showElement(){if(this.isInRange&&!this.isTransparent){this.hidden=false;this._isFirstFrame=true;this.maskManager._isFirstFrame=true;}},renderFrame:function renderFrame(){if(this.hidden||this.data.hd){return;}this.renderTransform();this.renderRenderable();this.setBlendMode();var forceRealStack=this.data.ty===0;this.globalData.renderer.save(forceRealStack);this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);this.renderInnerContent();this.globalData.renderer.restore(forceRealStack);if(this.maskManager.hasMasks){this.globalData.renderer.restore(true);}if(this._isFirstFrame){this._isFirstFrame=false;}},destroy:function destroy(){this.canvasContext=null;this.data=null;this.globalData=null;this.maskManager.destroy();},mHelper:new Matrix()};CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement;CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(element,data,styles,transformsManager){this.styledShapes=[];this.tr=[0,0,0,0,0,0];var ty=4;if(data.ty==='rc'){ty=5;}else if(data.ty==='el'){ty=6;}else if(data.ty==='sr'){ty=7;}this.sh=ShapePropertyFactory.getShapeProp(element,data,ty,element);var i;var len=styles.length;var styledShape;for(i=0;i<len;i+=1){if(!styles[i].closed){styledShape={transforms:transformsManager.addTransformSequence(styles[i].transforms),trNodes:[]};this.styledShapes.push(styledShape);styles[i].elements.push(styledShape);}}}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(data,globalData,comp){this.shapes=[];this.shapesData=data.shapes;this.stylesList=[];this.itemsData=[];this.prevViewData=[];this.shapeModifiers=[];this.processedElements=[];this.transformsManager=new ShapeTransformManager();this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement);CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement;CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:false};CVShapeElement.prototype.dashResetter=[];CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,true,[]);};CVShapeElement.prototype.createStyleElement=function(data,transforms){var styleElem={data:data,type:data.ty,preTransforms:this.transformsManager.addTransformSequence(transforms),transforms:[],elements:[],closed:data.hd===true};var elementData={};if(data.ty==='fl'||data.ty==='st'){elementData.c=PropertyFactory.getProp(this,data.c,1,255,this);if(!elementData.c.k){styleElem.co='rgb('+bmFloor(elementData.c.v[0])+','+bmFloor(elementData.c.v[1])+','+bmFloor(elementData.c.v[2])+')';}}else if(data.ty==='gf'||data.ty==='gs'){elementData.s=PropertyFactory.getProp(this,data.s,1,null,this);elementData.e=PropertyFactory.getProp(this,data.e,1,null,this);elementData.h=PropertyFactory.getProp(this,data.h||{k:0},0,0.01,this);elementData.a=PropertyFactory.getProp(this,data.a||{k:0},0,degToRads,this);elementData.g=new GradientProperty(this,data.g,this);}elementData.o=PropertyFactory.getProp(this,data.o,0,0.01,this);if(data.ty==='st'||data.ty==='gs'){styleElem.lc=lineCapEnum[data.lc||2];styleElem.lj=lineJoinEnum[data.lj||2];if(data.lj==1){// eslint-disable-line eqeqeq\nstyleElem.ml=data.ml;}elementData.w=PropertyFactory.getProp(this,data.w,0,null,this);if(!elementData.w.k){styleElem.wi=elementData.w.v;}if(data.d){var d=new DashProperty(this,data.d,'canvas',this);elementData.d=d;if(!elementData.d.k){styleElem.da=elementData.d.dashArray;styleElem[\"do\"]=elementData.d.dashoffset[0];}}}else{styleElem.r=data.r===2?'evenodd':'nonzero';}this.stylesList.push(styleElem);elementData.style=styleElem;return elementData;};CVShapeElement.prototype.createGroupElement=function(){var elementData={it:[],prevViewData:[]};return elementData;};CVShapeElement.prototype.createTransformElement=function(data){var elementData={transform:{opacity:1,_opMdf:false,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,data.o,0,0.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,data,this)}};return elementData;};CVShapeElement.prototype.createShapeElement=function(data){var elementData=new CVShapeData(this,data,this.stylesList,this.transformsManager);this.shapes.push(elementData);this.addShapeToModifiers(elementData);return elementData;};CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=true;var i;var len=this.itemsData.length;for(i=0;i<len;i+=1){this.prevViewData[i]=this.itemsData[i];}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,true,[]);len=this.dynamicProperties.length;for(i=0;i<len;i+=1){this.dynamicProperties[i].getValue();}this.renderModifiers();this.transformsManager.processSequences(this._isFirstFrame);};CVShapeElement.prototype.addTransformToStyleList=function(transform){var i;var len=this.stylesList.length;for(i=0;i<len;i+=1){if(!this.stylesList[i].closed){this.stylesList[i].transforms.push(transform);}}};CVShapeElement.prototype.removeTransformFromStyleList=function(){var i;var len=this.stylesList.length;for(i=0;i<len;i+=1){if(!this.stylesList[i].closed){this.stylesList[i].transforms.pop();}}};CVShapeElement.prototype.closeStyles=function(styles){var i;var len=styles.length;for(i=0;i<len;i+=1){styles[i].closed=true;}};CVShapeElement.prototype.searchShapes=function(arr,itemsData,prevViewData,shouldRender,transforms){var i;var len=arr.length-1;var j;var jLen;var ownStyles=[];var ownModifiers=[];var processedPos;var modifier;var currentTransform;var ownTransforms=[].concat(transforms);for(i=len;i>=0;i-=1){processedPos=this.searchProcessedElement(arr[i]);if(!processedPos){arr[i]._shouldRender=shouldRender;}else{itemsData[i]=prevViewData[processedPos-1];}if(arr[i].ty==='fl'||arr[i].ty==='st'||arr[i].ty==='gf'||arr[i].ty==='gs'){if(!processedPos){itemsData[i]=this.createStyleElement(arr[i],ownTransforms);}else{itemsData[i].style.closed=false;}ownStyles.push(itemsData[i].style);}else if(arr[i].ty==='gr'){if(!processedPos){itemsData[i]=this.createGroupElement(arr[i]);}else{jLen=itemsData[i].it.length;for(j=0;j<jLen;j+=1){itemsData[i].prevViewData[j]=itemsData[i].it[j];}}this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData,shouldRender,ownTransforms);}else if(arr[i].ty==='tr'){if(!processedPos){currentTransform=this.createTransformElement(arr[i]);itemsData[i]=currentTransform;}ownTransforms.push(itemsData[i]);this.addTransformToStyleList(itemsData[i]);}else if(arr[i].ty==='sh'||arr[i].ty==='rc'||arr[i].ty==='el'||arr[i].ty==='sr'){if(!processedPos){itemsData[i]=this.createShapeElement(arr[i]);}}else if(arr[i].ty==='tm'||arr[i].ty==='rd'||arr[i].ty==='pb'){if(!processedPos){modifier=ShapeModifiers.getModifier(arr[i].ty);modifier.init(this,arr[i]);itemsData[i]=modifier;this.shapeModifiers.push(modifier);}else{modifier=itemsData[i];modifier.closed=false;}ownModifiers.push(modifier);}else if(arr[i].ty==='rp'){if(!processedPos){modifier=ShapeModifiers.getModifier(arr[i].ty);itemsData[i]=modifier;modifier.init(this,arr,i,itemsData);this.shapeModifiers.push(modifier);shouldRender=false;}else{modifier=itemsData[i];modifier.closed=true;}ownModifiers.push(modifier);}this.addProcessedElement(arr[i],i+1);}this.removeTransformFromStyleList();this.closeStyles(ownStyles);len=ownModifiers.length;for(i=0;i<len;i+=1){ownModifiers[i].closed=true;}};CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1;this.transformHelper._opMdf=false;this.renderModifiers();this.transformsManager.processSequences(this._isFirstFrame);this.renderShape(this.transformHelper,this.shapesData,this.itemsData,true);};CVShapeElement.prototype.renderShapeTransform=function(parentTransform,groupTransform){if(parentTransform._opMdf||groupTransform.op._mdf||this._isFirstFrame){groupTransform.opacity=parentTransform.opacity;groupTransform.opacity*=groupTransform.op.v;groupTransform._opMdf=true;}};CVShapeElement.prototype.drawLayer=function(){var i;var len=this.stylesList.length;var j;var jLen;var k;var kLen;var elems;var nodes;var renderer=this.globalData.renderer;var ctx=this.globalData.canvasContext;var type;var currentStyle;for(i=0;i<len;i+=1){currentStyle=this.stylesList[i];type=currentStyle.type;// Skipping style when\n// Stroke width equals 0\n// style should not be rendered (extra unused repeaters)\n// current opacity equals 0\n// global opacity equals 0\nif(!((type==='st'||type==='gs')&&currentStyle.wi===0||!currentStyle.data._shouldRender||currentStyle.coOp===0||this.globalData.currentGlobalAlpha===0)){renderer.save();elems=currentStyle.elements;if(type==='st'||type==='gs'){ctx.strokeStyle=type==='st'?currentStyle.co:currentStyle.grd;ctx.lineWidth=currentStyle.wi;ctx.lineCap=currentStyle.lc;ctx.lineJoin=currentStyle.lj;ctx.miterLimit=currentStyle.ml||0;}else{ctx.fillStyle=type==='fl'?currentStyle.co:currentStyle.grd;}renderer.ctxOpacity(currentStyle.coOp);if(type!=='st'&&type!=='gs'){ctx.beginPath();}renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);jLen=elems.length;for(j=0;j<jLen;j+=1){if(type==='st'||type==='gs'){ctx.beginPath();if(currentStyle.da){ctx.setLineDash(currentStyle.da);ctx.lineDashOffset=currentStyle[\"do\"];}}nodes=elems[j].trNodes;kLen=nodes.length;for(k=0;k<kLen;k+=1){if(nodes[k].t==='m'){ctx.moveTo(nodes[k].p[0],nodes[k].p[1]);}else if(nodes[k].t==='c'){ctx.bezierCurveTo(nodes[k].pts[0],nodes[k].pts[1],nodes[k].pts[2],nodes[k].pts[3],nodes[k].pts[4],nodes[k].pts[5]);}else{ctx.closePath();}}if(type==='st'||type==='gs'){ctx.stroke();if(currentStyle.da){ctx.setLineDash(this.dashResetter);}}}if(type!=='st'&&type!=='gs'){ctx.fill(currentStyle.r);}renderer.restore();}}};CVShapeElement.prototype.renderShape=function(parentTransform,items,data,isMain){var i;var len=items.length-1;var groupTransform;groupTransform=parentTransform;for(i=len;i>=0;i-=1){if(items[i].ty==='tr'){groupTransform=data[i].transform;this.renderShapeTransform(parentTransform,groupTransform);}else if(items[i].ty==='sh'||items[i].ty==='el'||items[i].ty==='rc'||items[i].ty==='sr'){this.renderPath(items[i],data[i]);}else if(items[i].ty==='fl'){this.renderFill(items[i],data[i],groupTransform);}else if(items[i].ty==='st'){this.renderStroke(items[i],data[i],groupTransform);}else if(items[i].ty==='gf'||items[i].ty==='gs'){this.renderGradientFill(items[i],data[i],groupTransform);}else if(items[i].ty==='gr'){this.renderShape(groupTransform,items[i].it,data[i].it);}else if(items[i].ty==='tm'){//\n}}if(isMain){this.drawLayer();}};CVShapeElement.prototype.renderStyledShape=function(styledShape,shape){if(this._isFirstFrame||shape._mdf||styledShape.transforms._mdf){var shapeNodes=styledShape.trNodes;var paths=shape.paths;var i;var len;var j;var jLen=paths._length;shapeNodes.length=0;var groupTransformMat=styledShape.transforms.finalTransform;for(j=0;j<jLen;j+=1){var pathNodes=paths.shapes[j];if(pathNodes&&pathNodes.v){len=pathNodes._length;for(i=1;i<len;i+=1){if(i===1){shapeNodes.push({t:'m',p:groupTransformMat.applyToPointArray(pathNodes.v[0][0],pathNodes.v[0][1],0)});}shapeNodes.push({t:'c',pts:groupTransformMat.applyToTriplePoints(pathNodes.o[i-1],pathNodes.i[i],pathNodes.v[i])});}if(len===1){shapeNodes.push({t:'m',p:groupTransformMat.applyToPointArray(pathNodes.v[0][0],pathNodes.v[0][1],0)});}if(pathNodes.c&&len){shapeNodes.push({t:'c',pts:groupTransformMat.applyToTriplePoints(pathNodes.o[i-1],pathNodes.i[0],pathNodes.v[0])});shapeNodes.push({t:'z'});}}}styledShape.trNodes=shapeNodes;}};CVShapeElement.prototype.renderPath=function(pathData,itemData){if(pathData.hd!==true&&pathData._shouldRender){var i;var len=itemData.styledShapes.length;for(i=0;i<len;i+=1){this.renderStyledShape(itemData.styledShapes[i],itemData.sh);}}};CVShapeElement.prototype.renderFill=function(styleData,itemData,groupTransform){var styleElem=itemData.style;if(itemData.c._mdf||this._isFirstFrame){styleElem.co='rgb('+bmFloor(itemData.c.v[0])+','+bmFloor(itemData.c.v[1])+','+bmFloor(itemData.c.v[2])+')';}if(itemData.o._mdf||groupTransform._opMdf||this._isFirstFrame){styleElem.coOp=itemData.o.v*groupTransform.opacity;}};CVShapeElement.prototype.renderGradientFill=function(styleData,itemData,groupTransform){var styleElem=itemData.style;var grd;if(!styleElem.grd||itemData.g._mdf||itemData.s._mdf||itemData.e._mdf||styleData.t!==1&&(itemData.h._mdf||itemData.a._mdf)){var ctx=this.globalData.canvasContext;var pt1=itemData.s.v;var pt2=itemData.e.v;if(styleData.t===1){grd=ctx.createLinearGradient(pt1[0],pt1[1],pt2[0],pt2[1]);}else{var rad=Math.sqrt(Math.pow(pt1[0]-pt2[0],2)+Math.pow(pt1[1]-pt2[1],2));var ang=Math.atan2(pt2[1]-pt1[1],pt2[0]-pt1[0]);var percent=itemData.h.v;if(percent>=1){percent=0.99;}else if(percent<=-1){percent=-0.99;}var dist=rad*percent;var x=Math.cos(ang+itemData.a.v)*dist+pt1[0];var y=Math.sin(ang+itemData.a.v)*dist+pt1[1];grd=ctx.createRadialGradient(x,y,0,pt1[0],pt1[1],rad);}var i;var len=styleData.g.p;var cValues=itemData.g.c;var opacity=1;for(i=0;i<len;i+=1){if(itemData.g._hasOpacity&&itemData.g._collapsable){opacity=itemData.g.o[i*2+1];}grd.addColorStop(cValues[i*4]/100,'rgba('+cValues[i*4+1]+','+cValues[i*4+2]+','+cValues[i*4+3]+','+opacity+')');}styleElem.grd=grd;}styleElem.coOp=itemData.o.v*groupTransform.opacity;};CVShapeElement.prototype.renderStroke=function(styleData,itemData,groupTransform){var styleElem=itemData.style;var d=itemData.d;if(d&&(d._mdf||this._isFirstFrame)){styleElem.da=d.dashArray;styleElem[\"do\"]=d.dashoffset[0];}if(itemData.c._mdf||this._isFirstFrame){styleElem.co='rgb('+bmFloor(itemData.c.v[0])+','+bmFloor(itemData.c.v[1])+','+bmFloor(itemData.c.v[2])+')';}if(itemData.o._mdf||groupTransform._opMdf||this._isFirstFrame){styleElem.coOp=itemData.o.v*groupTransform.opacity;}if(itemData.w._mdf||this._isFirstFrame){styleElem.wi=itemData.w.v;}};CVShapeElement.prototype.destroy=function(){this.shapesData=null;this.globalData=null;this.canvasContext=null;this.stylesList.length=0;this.itemsData.length=0;};function CVTextElement(data,globalData,comp){this.textSpans=[];this.yOffset=0;this.fillColorAnim=false;this.strokeColorAnim=false;this.strokeWidthAnim=false;this.stroke=false;this.fill=false;this.justifyOffset=0;this.currentRender=null;this.renderType='canvas';this.values={fill:'rgba(0,0,0,0)',stroke:'rgba(0,0,0,0)',sWidth:0,fValue:''};this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement);CVTextElement.prototype.tHelper=createTag('canvas').getContext('2d');CVTextElement.prototype.buildNewText=function(){var documentData=this.textProperty.currentData;this.renderedLetters=createSizedArray(documentData.l?documentData.l.length:0);var hasFill=false;if(documentData.fc){hasFill=true;this.values.fill=this.buildColor(documentData.fc);}else{this.values.fill='rgba(0,0,0,0)';}this.fill=hasFill;var hasStroke=false;if(documentData.sc){hasStroke=true;this.values.stroke=this.buildColor(documentData.sc);this.values.sWidth=documentData.sw;}var fontData=this.globalData.fontManager.getFontByName(documentData.f);var i;var len;var letters=documentData.l;var matrixHelper=this.mHelper;this.stroke=hasStroke;this.values.fValue=documentData.finalSize+'px '+this.globalData.fontManager.getFontByName(documentData.f).fFamily;len=documentData.finalText.length;// this.tHelper.font = this.values.fValue;\nvar charData;var shapeData;var k;var kLen;var shapes;var j;var jLen;var pathNodes;var commands;var pathArr;var singleShape=this.data.singleShape;var trackingOffset=documentData.tr*0.001*documentData.finalSize;var xPos=0;var yPos=0;var firstLine=true;var cnt=0;for(i=0;i<len;i+=1){charData=this.globalData.fontManager.getCharData(documentData.finalText[i],fontData.fStyle,this.globalData.fontManager.getFontByName(documentData.f).fFamily);shapeData=charData&&charData.data||{};matrixHelper.reset();if(singleShape&&letters[i].n){xPos=-trackingOffset;yPos+=documentData.yOffset;yPos+=firstLine?1:0;firstLine=false;}shapes=shapeData.shapes?shapeData.shapes[0].it:[];jLen=shapes.length;matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);if(singleShape){this.applyTextPropertiesToMatrix(documentData,matrixHelper,letters[i].line,xPos,yPos);}commands=createSizedArray(jLen-1);var commandsCounter=0;for(j=0;j<jLen;j+=1){if(shapes[j].ty==='sh'){kLen=shapes[j].ks.k.i.length;pathNodes=shapes[j].ks.k;pathArr=[];for(k=1;k<kLen;k+=1){if(k===1){pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));}pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToY(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToX(pathNodes.v[k][0],pathNodes.v[k][1],0),matrixHelper.applyToY(pathNodes.v[k][0],pathNodes.v[k][1],0));}pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToY(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));commands[commandsCounter]=pathArr;commandsCounter+=1;}}if(singleShape){xPos+=letters[i].l;xPos+=trackingOffset;}if(this.textSpans[cnt]){this.textSpans[cnt].elem=commands;}else{this.textSpans[cnt]={elem:commands};}cnt+=1;}};CVTextElement.prototype.renderInnerContent=function(){var ctx=this.canvasContext;ctx.font=this.values.fValue;ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;if(!this.data.singleShape){this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);}var i;var len;var j;var jLen;var k;var kLen;var renderedLetters=this.textAnimator.renderedLetters;var letters=this.textProperty.currentData.l;len=letters.length;var renderedLetter;var lastFill=null;var lastStroke=null;var lastStrokeW=null;var commands;var pathArr;for(i=0;i<len;i+=1){if(!letters[i].n){renderedLetter=renderedLetters[i];if(renderedLetter){this.globalData.renderer.save();this.globalData.renderer.ctxTransform(renderedLetter.p);this.globalData.renderer.ctxOpacity(renderedLetter.o);}if(this.fill){if(renderedLetter&&renderedLetter.fc){if(lastFill!==renderedLetter.fc){lastFill=renderedLetter.fc;ctx.fillStyle=renderedLetter.fc;}}else if(lastFill!==this.values.fill){lastFill=this.values.fill;ctx.fillStyle=this.values.fill;}commands=this.textSpans[i].elem;jLen=commands.length;this.globalData.canvasContext.beginPath();for(j=0;j<jLen;j+=1){pathArr=commands[j];kLen=pathArr.length;this.globalData.canvasContext.moveTo(pathArr[0],pathArr[1]);for(k=2;k<kLen;k+=6){this.globalData.canvasContext.bezierCurveTo(pathArr[k],pathArr[k+1],pathArr[k+2],pathArr[k+3],pathArr[k+4],pathArr[k+5]);}}this.globalData.canvasContext.closePath();this.globalData.canvasContext.fill();/// ctx.fillText(this.textSpans[i].val,0,0);\n}if(this.stroke){if(renderedLetter&&renderedLetter.sw){if(lastStrokeW!==renderedLetter.sw){lastStrokeW=renderedLetter.sw;ctx.lineWidth=renderedLetter.sw;}}else if(lastStrokeW!==this.values.sWidth){lastStrokeW=this.values.sWidth;ctx.lineWidth=this.values.sWidth;}if(renderedLetter&&renderedLetter.sc){if(lastStroke!==renderedLetter.sc){lastStroke=renderedLetter.sc;ctx.strokeStyle=renderedLetter.sc;}}else if(lastStroke!==this.values.stroke){lastStroke=this.values.stroke;ctx.strokeStyle=this.values.stroke;}commands=this.textSpans[i].elem;jLen=commands.length;this.globalData.canvasContext.beginPath();for(j=0;j<jLen;j+=1){pathArr=commands[j];kLen=pathArr.length;this.globalData.canvasContext.moveTo(pathArr[0],pathArr[1]);for(k=2;k<kLen;k+=6){this.globalData.canvasContext.bezierCurveTo(pathArr[k],pathArr[k+1],pathArr[k+2],pathArr[k+3],pathArr[k+4],pathArr[k+5]);}}this.globalData.canvasContext.closePath();this.globalData.canvasContext.stroke();/// ctx.strokeText(letters[i].val,0,0);\n}if(renderedLetter){this.globalData.renderer.restore();}}}};function CVImageElement(data,globalData,comp){this.assetData=globalData.getAssetData(data.refId);this.img=globalData.imageLoader.getAsset(this.assetData);this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement);CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement;CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame;CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var canvas=createTag('canvas');canvas.width=this.assetData.w;canvas.height=this.assetData.h;var ctx=canvas.getContext('2d');var imgW=this.img.width;var imgH=this.img.height;var imgRel=imgW/imgH;var canvasRel=this.assetData.w/this.assetData.h;var widthCrop;var heightCrop;var par=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;if(imgRel>canvasRel&&par==='xMidYMid slice'||imgRel<canvasRel&&par!=='xMidYMid slice'){heightCrop=imgH;widthCrop=heightCrop*canvasRel;}else{widthCrop=imgW;heightCrop=widthCrop/canvasRel;}ctx.drawImage(this.img,(imgW-widthCrop)/2,(imgH-heightCrop)/2,widthCrop,heightCrop,0,0,this.assetData.w,this.assetData.h);this.img=canvas;}};CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0);};CVImageElement.prototype.destroy=function(){this.img=null;};function CVSolidElement(data,globalData,comp){this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement);CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement;CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame;CVSolidElement.prototype.renderInnerContent=function(){var ctx=this.canvasContext;ctx.fillStyle=this.data.sc;ctx.fillRect(0,0,this.data.sw,this.data.sh);//\n};function CanvasRendererBase(animationItem,config){this.animationItem=animationItem;this.renderConfig={clearCanvas:config&&config.clearCanvas!==undefined?config.clearCanvas:true,context:config&&config.context||null,progressiveLoad:config&&config.progressiveLoad||false,preserveAspectRatio:config&&config.preserveAspectRatio||'xMidYMid meet',imagePreserveAspectRatio:config&&config.imagePreserveAspectRatio||'xMidYMid slice',contentVisibility:config&&config.contentVisibility||'visible',className:config&&config.className||'',id:config&&config.id||''};this.renderConfig.dpr=config&&config.dpr||1;if(this.animationItem.wrapper){this.renderConfig.dpr=config&&config.dpr||window.devicePixelRatio||1;}this.renderedFrame=-1;this.globalData={frameNum:-1,_mdf:false,renderConfig:this.renderConfig,currentGlobalAlpha:-1};this.contextData=new CVContextData();this.elements=[];this.pendingElements=[];this.transformMat=new Matrix();this.completeLayers=false;this.rendererType='canvas';}extendPrototype([BaseRenderer],CanvasRendererBase);CanvasRendererBase.prototype.createShape=function(data){return new CVShapeElement(data,this.globalData,this);};CanvasRendererBase.prototype.createText=function(data){return new CVTextElement(data,this.globalData,this);};CanvasRendererBase.prototype.createImage=function(data){return new CVImageElement(data,this.globalData,this);};CanvasRendererBase.prototype.createSolid=function(data){return new CVSolidElement(data,this.globalData,this);};CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull;CanvasRendererBase.prototype.ctxTransform=function(props){if(props[0]===1&&props[1]===0&&props[4]===0&&props[5]===1&&props[12]===0&&props[13]===0){return;}if(!this.renderConfig.clearCanvas){this.canvasContext.transform(props[0],props[1],props[4],props[5],props[12],props[13]);return;}this.transformMat.cloneFromProps(props);var cProps=this.contextData.cTr.props;this.transformMat.transform(cProps[0],cProps[1],cProps[2],cProps[3],cProps[4],cProps[5],cProps[6],cProps[7],cProps[8],cProps[9],cProps[10],cProps[11],cProps[12],cProps[13],cProps[14],cProps[15]);// this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\nthis.contextData.cTr.cloneFromProps(this.transformMat.props);var trProps=this.contextData.cTr.props;this.canvasContext.setTransform(trProps[0],trProps[1],trProps[4],trProps[5],trProps[12],trProps[13]);};CanvasRendererBase.prototype.ctxOpacity=function(op){/* if(op === 1){\r\n          return;\r\n      } */if(!this.renderConfig.clearCanvas){this.canvasContext.globalAlpha*=op<0?0:op;this.globalData.currentGlobalAlpha=this.contextData.cO;return;}this.contextData.cO*=op<0?0:op;if(this.globalData.currentGlobalAlpha!==this.contextData.cO){this.canvasContext.globalAlpha=this.contextData.cO;this.globalData.currentGlobalAlpha=this.contextData.cO;}};CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return;}this.contextData.reset();};CanvasRendererBase.prototype.save=function(actionFlag){if(!this.renderConfig.clearCanvas){this.canvasContext.save();return;}if(actionFlag){this.canvasContext.save();}var props=this.contextData.cTr.props;if(this.contextData._length<=this.contextData.cArrPos){this.contextData.duplicate();}var i;var arr=this.contextData.saved[this.contextData.cArrPos];for(i=0;i<16;i+=1){arr[i]=props[i];}this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO;this.contextData.cArrPos+=1;};CanvasRendererBase.prototype.restore=function(actionFlag){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return;}if(actionFlag){this.canvasContext.restore();this.globalData.blendMode='source-over';}this.contextData.cArrPos-=1;var popped=this.contextData.saved[this.contextData.cArrPos];var i;var arr=this.contextData.cTr.props;for(i=0;i<16;i+=1){arr[i]=popped[i];}this.canvasContext.setTransform(popped[0],popped[1],popped[4],popped[5],popped[12],popped[13]);popped=this.contextData.savedOp[this.contextData.cArrPos];this.contextData.cO=popped;if(this.globalData.currentGlobalAlpha!==popped){this.canvasContext.globalAlpha=popped;this.globalData.currentGlobalAlpha=popped;}};CanvasRendererBase.prototype.configAnimation=function(animData){if(this.animationItem.wrapper){this.animationItem.container=createTag('canvas');var containerStyle=this.animationItem.container.style;containerStyle.width='100%';containerStyle.height='100%';var origin='0px 0px 0px';containerStyle.transformOrigin=origin;containerStyle.mozTransformOrigin=origin;containerStyle.webkitTransformOrigin=origin;containerStyle['-webkit-transform']=origin;containerStyle.contentVisibility=this.renderConfig.contentVisibility;this.animationItem.wrapper.appendChild(this.animationItem.container);this.canvasContext=this.animationItem.container.getContext('2d');if(this.renderConfig.className){this.animationItem.container.setAttribute('class',this.renderConfig.className);}if(this.renderConfig.id){this.animationItem.container.setAttribute('id',this.renderConfig.id);}}else{this.canvasContext=this.renderConfig.context;}this.data=animData;this.layers=animData.layers;this.transformCanvas={w:animData.w,h:animData.h,sx:0,sy:0,tx:0,ty:0};this.setupGlobalData(animData,document.body);this.globalData.canvasContext=this.canvasContext;this.globalData.renderer=this;this.globalData.isDashed=false;this.globalData.progressiveLoad=this.renderConfig.progressiveLoad;this.globalData.transformCanvas=this.transformCanvas;this.elements=createSizedArray(animData.layers.length);this.updateContainerSize();};CanvasRendererBase.prototype.updateContainerSize=function(){this.reset();var elementWidth;var elementHeight;if(this.animationItem.wrapper&&this.animationItem.container){elementWidth=this.animationItem.wrapper.offsetWidth;elementHeight=this.animationItem.wrapper.offsetHeight;this.animationItem.container.setAttribute('width',elementWidth*this.renderConfig.dpr);this.animationItem.container.setAttribute('height',elementHeight*this.renderConfig.dpr);}else{elementWidth=this.canvasContext.canvas.width*this.renderConfig.dpr;elementHeight=this.canvasContext.canvas.height*this.renderConfig.dpr;}var elementRel;var animationRel;if(this.renderConfig.preserveAspectRatio.indexOf('meet')!==-1||this.renderConfig.preserveAspectRatio.indexOf('slice')!==-1){var par=this.renderConfig.preserveAspectRatio.split(' ');var fillType=par[1]||'meet';var pos=par[0]||'xMidYMid';var xPos=pos.substr(0,4);var yPos=pos.substr(4);elementRel=elementWidth/elementHeight;animationRel=this.transformCanvas.w/this.transformCanvas.h;if(animationRel>elementRel&&fillType==='meet'||animationRel<elementRel&&fillType==='slice'){this.transformCanvas.sx=elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);this.transformCanvas.sy=elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);}else{this.transformCanvas.sx=elementHeight/(this.transformCanvas.h/this.renderConfig.dpr);this.transformCanvas.sy=elementHeight/(this.transformCanvas.h/this.renderConfig.dpr);}if(xPos==='xMid'&&(animationRel<elementRel&&fillType==='meet'||animationRel>elementRel&&fillType==='slice')){this.transformCanvas.tx=(elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))/2*this.renderConfig.dpr;}else if(xPos==='xMax'&&(animationRel<elementRel&&fillType==='meet'||animationRel>elementRel&&fillType==='slice')){this.transformCanvas.tx=(elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))*this.renderConfig.dpr;}else{this.transformCanvas.tx=0;}if(yPos==='YMid'&&(animationRel>elementRel&&fillType==='meet'||animationRel<elementRel&&fillType==='slice')){this.transformCanvas.ty=(elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w))/2*this.renderConfig.dpr;}else if(yPos==='YMax'&&(animationRel>elementRel&&fillType==='meet'||animationRel<elementRel&&fillType==='slice')){this.transformCanvas.ty=(elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w))*this.renderConfig.dpr;}else{this.transformCanvas.ty=0;}}else if(this.renderConfig.preserveAspectRatio==='none'){this.transformCanvas.sx=elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);this.transformCanvas.sy=elementHeight/(this.transformCanvas.h/this.renderConfig.dpr);this.transformCanvas.tx=0;this.transformCanvas.ty=0;}else{this.transformCanvas.sx=this.renderConfig.dpr;this.transformCanvas.sy=this.renderConfig.dpr;this.transformCanvas.tx=0;this.transformCanvas.ty=0;}this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];/* var i, len = this.elements.length;\r\n      for(i=0;i<len;i+=1){\r\n          if(this.elements[i] && this.elements[i].data.ty === 0){\r\n              this.elements[i].resize(this.globalData.transformCanvas);\r\n          }\r\n      } */this.ctxTransform(this.transformCanvas.props);this.canvasContext.beginPath();this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h);this.canvasContext.closePath();this.canvasContext.clip();this.renderFrame(this.renderedFrame,true);};CanvasRendererBase.prototype.destroy=function(){if(this.renderConfig.clearCanvas&&this.animationItem.wrapper){this.animationItem.wrapper.innerText='';}var i;var len=this.layers?this.layers.length:0;for(i=len-1;i>=0;i-=1){if(this.elements[i]){this.elements[i].destroy();}}this.elements.length=0;this.globalData.canvasContext=null;this.animationItem.container=null;this.destroyed=true;};CanvasRendererBase.prototype.renderFrame=function(num,forceRender){if(this.renderedFrame===num&&this.renderConfig.clearCanvas===true&&!forceRender||this.destroyed||num===-1){return;}this.renderedFrame=num;this.globalData.frameNum=num-this.animationItem._isFirstFrame;this.globalData.frameId+=1;this.globalData._mdf=!this.renderConfig.clearCanvas||forceRender;this.globalData.projectInterface.currentFrame=num;// console.log('--------');\n// console.log('NEW: ',num);\nvar i;var len=this.layers.length;if(!this.completeLayers){this.checkLayers(num);}for(i=0;i<len;i+=1){if(this.completeLayers||this.elements[i]){this.elements[i].prepareFrame(num-this.layers[i].st);}}if(this.globalData._mdf){if(this.renderConfig.clearCanvas===true){this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h);}else{this.save();}for(i=len-1;i>=0;i-=1){if(this.completeLayers||this.elements[i]){this.elements[i].renderFrame();}}if(this.renderConfig.clearCanvas!==true){this.restore();}}};CanvasRendererBase.prototype.buildItem=function(pos){var elements=this.elements;if(elements[pos]||this.layers[pos].ty===99){return;}var element=this.createItem(this.layers[pos],this,this.globalData);elements[pos]=element;element.initExpressions();/* if(this.layers[pos].ty === 0){\r\n          element.resize(this.globalData.transformCanvas);\r\n      } */};CanvasRendererBase.prototype.checkPendingElements=function(){while(this.pendingElements.length){var element=this.pendingElements.pop();element.checkParenting();}};CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display='none';};CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display='block';};function CVCompElement(data,globalData,comp){this.completeLayers=false;this.layers=data.layers;this.pendingElements=[];this.elements=createSizedArray(this.layers.length);this.initElement(data,globalData,comp);this.tm=data.tm?PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this):{_placeholder:true};}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement);CVCompElement.prototype.renderInnerContent=function(){var ctx=this.canvasContext;ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(this.data.w,0);ctx.lineTo(this.data.w,this.data.h);ctx.lineTo(0,this.data.h);ctx.lineTo(0,0);ctx.clip();var i;var len=this.layers.length;for(i=len-1;i>=0;i-=1){if(this.completeLayers||this.elements[i]){this.elements[i].renderFrame();}}};CVCompElement.prototype.destroy=function(){var i;var len=this.layers.length;for(i=len-1;i>=0;i-=1){if(this.elements[i]){this.elements[i].destroy();}}this.layers=null;this.elements=null;};CVCompElement.prototype.createComp=function(data){return new CVCompElement(data,this.globalData,this);};function CanvasRenderer(animationItem,config){this.animationItem=animationItem;this.renderConfig={clearCanvas:config&&config.clearCanvas!==undefined?config.clearCanvas:true,context:config&&config.context||null,progressiveLoad:config&&config.progressiveLoad||false,preserveAspectRatio:config&&config.preserveAspectRatio||'xMidYMid meet',imagePreserveAspectRatio:config&&config.imagePreserveAspectRatio||'xMidYMid slice',contentVisibility:config&&config.contentVisibility||'visible',className:config&&config.className||'',id:config&&config.id||''};this.renderConfig.dpr=config&&config.dpr||1;if(this.animationItem.wrapper){this.renderConfig.dpr=config&&config.dpr||window.devicePixelRatio||1;}this.renderedFrame=-1;this.globalData={frameNum:-1,_mdf:false,renderConfig:this.renderConfig,currentGlobalAlpha:-1};this.contextData=new CVContextData();this.elements=[];this.pendingElements=[];this.transformMat=new Matrix();this.completeLayers=false;this.rendererType='canvas';}extendPrototype([CanvasRendererBase],CanvasRenderer);CanvasRenderer.prototype.createComp=function(data){return new CVCompElement(data,this.globalData,this);};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function checkBlendMode(){},initRendererElement:function initRendererElement(){this.baseElement=createTag(this.data.tg||'div');if(this.data.hasMask){this.svgElement=createNS('svg');this.layerElement=createNS('g');this.maskedElement=this.layerElement;this.svgElement.appendChild(this.layerElement);this.baseElement.appendChild(this.svgElement);}else{this.layerElement=this.baseElement;}styleDiv(this.baseElement);},createContainerElements:function createContainerElements(){this.renderableEffectsManager=new CVEffects(this);this.transformedElement=this.baseElement;this.maskedElement=this.layerElement;if(this.data.ln){this.layerElement.setAttribute('id',this.data.ln);}if(this.data.cl){this.layerElement.setAttribute('class',this.data.cl);}if(this.data.bm!==0){this.setBlendMode();}},renderElement:function renderElement(){var transformedElementStyle=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var matrixValue=this.finalTransform.mat.toCSS();transformedElementStyle.transform=matrixValue;transformedElementStyle.webkitTransform=matrixValue;}if(this.finalTransform._opMdf){transformedElementStyle.opacity=this.finalTransform.mProp.o.v;}},renderFrame:function renderFrame(){// If it is exported as hidden (data.hd === true) no need to render\n// If it is not visible no need to render\nif(this.data.hd||this.hidden){return;}this.renderTransform();this.renderRenderable();this.renderElement();this.renderInnerContent();if(this._isFirstFrame){this._isFirstFrame=false;}},destroy:function destroy(){this.layerElement=null;this.transformedElement=null;if(this.matteElement){this.matteElement=null;}if(this.maskManager){this.maskManager.destroy();this.maskManager=null;}},createRenderableComponents:function createRenderableComponents(){this.maskManager=new MaskElement(this.data,this,this.globalData);},addEffects:function addEffects(){},setMatte:function setMatte(){}};HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement;HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy;HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(data,globalData,comp){this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement);HSolidElement.prototype.createContent=function(){var rect;if(this.data.hasMask){rect=createNS('rect');rect.setAttribute('width',this.data.sw);rect.setAttribute('height',this.data.sh);rect.setAttribute('fill',this.data.sc);this.svgElement.setAttribute('width',this.data.sw);this.svgElement.setAttribute('height',this.data.sh);}else{rect=createTag('div');rect.style.width=this.data.sw+'px';rect.style.height=this.data.sh+'px';rect.style.backgroundColor=this.data.sc;}this.layerElement.appendChild(rect);};function HShapeElement(data,globalData,comp){// List of drawable elements\nthis.shapes=[];// Full shape data\nthis.shapesData=data.shapes;// List of styles that will be applied to shapes\nthis.stylesList=[];// List of modifiers that will be applied to shapes\nthis.shapeModifiers=[];// List of items in shape tree\nthis.itemsData=[];// List of items in previous shape tree\nthis.processedElements=[];// List of animated components\nthis.animatedContents=[];this.shapesContainer=createNS('g');this.initElement(data,globalData,comp);// Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n// List of elements that have been created\nthis.prevViewData=[];this.currentBBox={x:999999,y:-999999,h:0,w:0};}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement);HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent;HShapeElement.prototype.createContent=function(){var cont;this.baseElement.style.fontSize=0;if(this.data.hasMask){this.layerElement.appendChild(this.shapesContainer);cont=this.svgElement;}else{cont=createNS('svg');var size=this.comp.data?this.comp.data:this.globalData.compSize;cont.setAttribute('width',size.w);cont.setAttribute('height',size.h);cont.appendChild(this.shapesContainer);this.layerElement.appendChild(cont);}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],true);this.filterUniqueShapes();this.shapeCont=cont;};HShapeElement.prototype.getTransformedPoint=function(transformers,point){var i;var len=transformers.length;for(i=0;i<len;i+=1){point=transformers[i].mProps.v.applyToPointArray(point[0],point[1],0);}return point;};HShapeElement.prototype.calculateShapeBoundingBox=function(item,boundingBox){var shape=item.sh.v;var transformers=item.transformers;var i;var len=shape._length;var vPoint;var oPoint;var nextIPoint;var nextVPoint;if(len<=1){return;}for(i=0;i<len-1;i+=1){vPoint=this.getTransformedPoint(transformers,shape.v[i]);oPoint=this.getTransformedPoint(transformers,shape.o[i]);nextIPoint=this.getTransformedPoint(transformers,shape.i[i+1]);nextVPoint=this.getTransformedPoint(transformers,shape.v[i+1]);this.checkBounds(vPoint,oPoint,nextIPoint,nextVPoint,boundingBox);}if(shape.c){vPoint=this.getTransformedPoint(transformers,shape.v[i]);oPoint=this.getTransformedPoint(transformers,shape.o[i]);nextIPoint=this.getTransformedPoint(transformers,shape.i[0]);nextVPoint=this.getTransformedPoint(transformers,shape.v[0]);this.checkBounds(vPoint,oPoint,nextIPoint,nextVPoint,boundingBox);}};HShapeElement.prototype.checkBounds=function(vPoint,oPoint,nextIPoint,nextVPoint,boundingBox){this.getBoundsOfCurve(vPoint,oPoint,nextIPoint,nextVPoint);var bounds=this.shapeBoundingBox;boundingBox.x=bmMin(bounds.left,boundingBox.x);boundingBox.xMax=bmMax(bounds.right,boundingBox.xMax);boundingBox.y=bmMin(bounds.top,boundingBox.y);boundingBox.yMax=bmMax(bounds.bottom,boundingBox.yMax);};HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0};HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0};HShapeElement.prototype.getBoundsOfCurve=function(p0,p1,p2,p3){var bounds=[[p0[0],p3[0]],[p0[1],p3[1]]];for(var a,b,c,t,b2ac,t1,t2,i=0;i<2;++i){// eslint-disable-line no-plusplus\nb=6*p0[i]-12*p1[i]+6*p2[i];a=-3*p0[i]+9*p1[i]-9*p2[i]+3*p3[i];c=3*p1[i]-3*p0[i];b|=0;// eslint-disable-line no-bitwise\na|=0;// eslint-disable-line no-bitwise\nc|=0;// eslint-disable-line no-bitwise\nif(a===0&&b===0){//\n}else if(a===0){t=-c/b;if(t>0&&t<1){bounds[i].push(this.calculateF(t,p0,p1,p2,p3,i));}}else{b2ac=b*b-4*c*a;if(b2ac>=0){t1=(-b+bmSqrt(b2ac))/(2*a);if(t1>0&&t1<1)bounds[i].push(this.calculateF(t1,p0,p1,p2,p3,i));t2=(-b-bmSqrt(b2ac))/(2*a);if(t2>0&&t2<1)bounds[i].push(this.calculateF(t2,p0,p1,p2,p3,i));}}}this.shapeBoundingBox.left=bmMin.apply(null,bounds[0]);this.shapeBoundingBox.top=bmMin.apply(null,bounds[1]);this.shapeBoundingBox.right=bmMax.apply(null,bounds[0]);this.shapeBoundingBox.bottom=bmMax.apply(null,bounds[1]);};HShapeElement.prototype.calculateF=function(t,p0,p1,p2,p3,i){return bmPow(1-t,3)*p0[i]+3*bmPow(1-t,2)*t*p1[i]+3*(1-t)*bmPow(t,2)*p2[i]+bmPow(t,3)*p3[i];};HShapeElement.prototype.calculateBoundingBox=function(itemsData,boundingBox){var i;var len=itemsData.length;for(i=0;i<len;i+=1){if(itemsData[i]&&itemsData[i].sh){this.calculateShapeBoundingBox(itemsData[i],boundingBox);}else if(itemsData[i]&&itemsData[i].it){this.calculateBoundingBox(itemsData[i].it,boundingBox);}}};HShapeElement.prototype.currentBoxContains=function(box){return this.currentBBox.x<=box.x&&this.currentBBox.y<=box.y&&this.currentBBox.width+this.currentBBox.x>=box.x+box.width&&this.currentBBox.height+this.currentBBox.y>=box.y+box.height;};HShapeElement.prototype.renderInnerContent=function(){this._renderShapeFrame();if(!this.hidden&&(this._isFirstFrame||this._mdf)){var tempBoundingBox=this.tempBoundingBox;var max=999999;tempBoundingBox.x=max;tempBoundingBox.xMax=-max;tempBoundingBox.y=max;tempBoundingBox.yMax=-max;this.calculateBoundingBox(this.itemsData,tempBoundingBox);tempBoundingBox.width=tempBoundingBox.xMax<tempBoundingBox.x?0:tempBoundingBox.xMax-tempBoundingBox.x;tempBoundingBox.height=tempBoundingBox.yMax<tempBoundingBox.y?0:tempBoundingBox.yMax-tempBoundingBox.y;// var tempBoundingBox = this.shapeCont.getBBox();\nif(this.currentBoxContains(tempBoundingBox)){return;}var changed=false;if(this.currentBBox.w!==tempBoundingBox.width){this.currentBBox.w=tempBoundingBox.width;this.shapeCont.setAttribute('width',tempBoundingBox.width);changed=true;}if(this.currentBBox.h!==tempBoundingBox.height){this.currentBBox.h=tempBoundingBox.height;this.shapeCont.setAttribute('height',tempBoundingBox.height);changed=true;}if(changed||this.currentBBox.x!==tempBoundingBox.x||this.currentBBox.y!==tempBoundingBox.y){this.currentBBox.w=tempBoundingBox.width;this.currentBBox.h=tempBoundingBox.height;this.currentBBox.x=tempBoundingBox.x;this.currentBBox.y=tempBoundingBox.y;this.shapeCont.setAttribute('viewBox',this.currentBBox.x+' '+this.currentBBox.y+' '+this.currentBBox.w+' '+this.currentBBox.h);var shapeStyle=this.shapeCont.style;var shapeTransform='translate('+this.currentBBox.x+'px,'+this.currentBBox.y+'px)';shapeStyle.transform=shapeTransform;shapeStyle.webkitTransform=shapeTransform;}}};function HTextElement(data,globalData,comp){this.textSpans=[];this.textPaths=[];this.currentBBox={x:999999,y:-999999,h:0,w:0};this.renderType='svg';this.isMasked=false;this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement);HTextElement.prototype.createContent=function(){this.isMasked=this.checkMasks();if(this.isMasked){this.renderType='svg';this.compW=this.comp.data.w;this.compH=this.comp.data.h;this.svgElement.setAttribute('width',this.compW);this.svgElement.setAttribute('height',this.compH);var g=createNS('g');this.maskedElement.appendChild(g);this.innerElem=g;}else{this.renderType='html';this.innerElem=this.layerElement;}this.checkParenting();};HTextElement.prototype.buildNewText=function(){var documentData=this.textProperty.currentData;this.renderedLetters=createSizedArray(documentData.l?documentData.l.length:0);var innerElemStyle=this.innerElem.style;var textColor=documentData.fc?this.buildColor(documentData.fc):'rgba(0,0,0,0)';innerElemStyle.fill=textColor;innerElemStyle.color=textColor;if(documentData.sc){innerElemStyle.stroke=this.buildColor(documentData.sc);innerElemStyle.strokeWidth=documentData.sw+'px';}var fontData=this.globalData.fontManager.getFontByName(documentData.f);if(!this.globalData.fontManager.chars){innerElemStyle.fontSize=documentData.finalSize+'px';innerElemStyle.lineHeight=documentData.finalSize+'px';if(fontData.fClass){this.innerElem.className=fontData.fClass;}else{innerElemStyle.fontFamily=fontData.fFamily;var fWeight=documentData.fWeight;var fStyle=documentData.fStyle;innerElemStyle.fontStyle=fStyle;innerElemStyle.fontWeight=fWeight;}}var i;var len;var letters=documentData.l;len=letters.length;var tSpan;var tParent;var tCont;var matrixHelper=this.mHelper;var shapes;var shapeStr='';var cnt=0;for(i=0;i<len;i+=1){if(this.globalData.fontManager.chars){if(!this.textPaths[cnt]){tSpan=createNS('path');tSpan.setAttribute('stroke-linecap',lineCapEnum[1]);tSpan.setAttribute('stroke-linejoin',lineJoinEnum[2]);tSpan.setAttribute('stroke-miterlimit','4');}else{tSpan=this.textPaths[cnt];}if(!this.isMasked){if(this.textSpans[cnt]){tParent=this.textSpans[cnt];tCont=tParent.children[0];}else{tParent=createTag('div');tParent.style.lineHeight=0;tCont=createNS('svg');tCont.appendChild(tSpan);styleDiv(tParent);}}}else if(!this.isMasked){if(this.textSpans[cnt]){tParent=this.textSpans[cnt];tSpan=this.textPaths[cnt];}else{tParent=createTag('span');styleDiv(tParent);tSpan=createTag('span');styleDiv(tSpan);tParent.appendChild(tSpan);}}else{tSpan=this.textPaths[cnt]?this.textPaths[cnt]:createNS('text');}// tSpan.setAttribute('visibility', 'hidden');\nif(this.globalData.fontManager.chars){var charData=this.globalData.fontManager.getCharData(documentData.finalText[i],fontData.fStyle,this.globalData.fontManager.getFontByName(documentData.f).fFamily);var shapeData;if(charData){shapeData=charData.data;}else{shapeData=null;}matrixHelper.reset();if(shapeData&&shapeData.shapes&&shapeData.shapes.length){shapes=shapeData.shapes[0].it;matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);shapeStr=this.createPathShape(matrixHelper,shapes);tSpan.setAttribute('d',shapeStr);}if(!this.isMasked){this.innerElem.appendChild(tParent);if(shapeData&&shapeData.shapes){// document.body.appendChild is needed to get exact measure of shape\ndocument.body.appendChild(tCont);var boundingBox=tCont.getBBox();tCont.setAttribute('width',boundingBox.width+2);tCont.setAttribute('height',boundingBox.height+2);tCont.setAttribute('viewBox',boundingBox.x-1+' '+(boundingBox.y-1)+' '+(boundingBox.width+2)+' '+(boundingBox.height+2));var tContStyle=tCont.style;var tContTranslation='translate('+(boundingBox.x-1)+'px,'+(boundingBox.y-1)+'px)';tContStyle.transform=tContTranslation;tContStyle.webkitTransform=tContTranslation;letters[i].yOffset=boundingBox.y-1;}else{tCont.setAttribute('width',1);tCont.setAttribute('height',1);}tParent.appendChild(tCont);}else{this.innerElem.appendChild(tSpan);}}else{tSpan.textContent=letters[i].val;tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace','xml:space','preserve');if(!this.isMasked){this.innerElem.appendChild(tParent);//\nvar tStyle=tSpan.style;var tSpanTranslation='translate3d(0,'+-documentData.finalSize/1.2+'px,0)';tStyle.transform=tSpanTranslation;tStyle.webkitTransform=tSpanTranslation;}else{this.innerElem.appendChild(tSpan);}}//\nif(!this.isMasked){this.textSpans[cnt]=tParent;}else{this.textSpans[cnt]=tSpan;}this.textSpans[cnt].style.display='block';this.textPaths[cnt]=tSpan;cnt+=1;}while(cnt<this.textSpans.length){this.textSpans[cnt].style.display='none';cnt+=1;}};HTextElement.prototype.renderInnerContent=function(){var svgStyle;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag){return;}if(this.isMasked&&this.finalTransform._matMdf){// Todo Benchmark if using this is better than getBBox\nthis.svgElement.setAttribute('viewBox',-this.finalTransform.mProp.p.v[0]+' '+-this.finalTransform.mProp.p.v[1]+' '+this.compW+' '+this.compH);svgStyle=this.svgElement.style;var translation='translate('+-this.finalTransform.mProp.p.v[0]+'px,'+-this.finalTransform.mProp.p.v[1]+'px)';svgStyle.transform=translation;svgStyle.webkitTransform=translation;}}this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);if(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag){return;}var i;var len;var count=0;var renderedLetters=this.textAnimator.renderedLetters;var letters=this.textProperty.currentData.l;len=letters.length;var renderedLetter;var textSpan;var textPath;for(i=0;i<len;i+=1){if(letters[i].n){count+=1;}else{textSpan=this.textSpans[i];textPath=this.textPaths[i];renderedLetter=renderedLetters[count];count+=1;if(renderedLetter._mdf.m){if(!this.isMasked){textSpan.style.webkitTransform=renderedLetter.m;textSpan.style.transform=renderedLetter.m;}else{textSpan.setAttribute('transform',renderedLetter.m);}}/// /textSpan.setAttribute('opacity',renderedLetter.o);\ntextSpan.style.opacity=renderedLetter.o;if(renderedLetter.sw&&renderedLetter._mdf.sw){textPath.setAttribute('stroke-width',renderedLetter.sw);}if(renderedLetter.sc&&renderedLetter._mdf.sc){textPath.setAttribute('stroke',renderedLetter.sc);}if(renderedLetter.fc&&renderedLetter._mdf.fc){textPath.setAttribute('fill',renderedLetter.fc);textPath.style.color=renderedLetter.fc;}}}if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var boundingBox=this.innerElem.getBBox();if(this.currentBBox.w!==boundingBox.width){this.currentBBox.w=boundingBox.width;this.svgElement.setAttribute('width',boundingBox.width);}if(this.currentBBox.h!==boundingBox.height){this.currentBBox.h=boundingBox.height;this.svgElement.setAttribute('height',boundingBox.height);}var margin=1;if(this.currentBBox.w!==boundingBox.width+margin*2||this.currentBBox.h!==boundingBox.height+margin*2||this.currentBBox.x!==boundingBox.x-margin||this.currentBBox.y!==boundingBox.y-margin){this.currentBBox.w=boundingBox.width+margin*2;this.currentBBox.h=boundingBox.height+margin*2;this.currentBBox.x=boundingBox.x-margin;this.currentBBox.y=boundingBox.y-margin;this.svgElement.setAttribute('viewBox',this.currentBBox.x+' '+this.currentBBox.y+' '+this.currentBBox.w+' '+this.currentBBox.h);svgStyle=this.svgElement.style;var svgTransform='translate('+this.currentBBox.x+'px,'+this.currentBBox.y+'px)';svgStyle.transform=svgTransform;svgStyle.webkitTransform=svgTransform;}}};function HCameraElement(data,globalData,comp){this.initFrame();this.initBaseData(data,globalData,comp);this.initHierarchy();var getProp=PropertyFactory.getProp;this.pe=getProp(this,data.pe,0,0,this);if(data.ks.p.s){this.px=getProp(this,data.ks.p.x,1,0,this);this.py=getProp(this,data.ks.p.y,1,0,this);this.pz=getProp(this,data.ks.p.z,1,0,this);}else{this.p=getProp(this,data.ks.p,1,0,this);}if(data.ks.a){this.a=getProp(this,data.ks.a,1,0,this);}if(data.ks.or.k.length&&data.ks.or.k[0].to){var i;var len=data.ks.or.k.length;for(i=0;i<len;i+=1){data.ks.or.k[i].to=null;data.ks.or.k[i].ti=null;}}this.or=getProp(this,data.ks.or,1,degToRads,this);this.or.sh=true;this.rx=getProp(this,data.ks.rx,0,degToRads,this);this.ry=getProp(this,data.ks.ry,0,degToRads,this);this.rz=getProp(this,data.ks.rz,0,degToRads,this);this.mat=new Matrix();this._prevMat=new Matrix();this._isFirstFrame=true;// TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\nthis.finalTransform={mProp:this};}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement);HCameraElement.prototype.setup=function(){var i;var len=this.comp.threeDElements.length;var comp;var perspectiveStyle;var containerStyle;for(i=0;i<len;i+=1){// [perspectiveElem,container]\ncomp=this.comp.threeDElements[i];if(comp.type==='3d'){perspectiveStyle=comp.perspectiveElem.style;containerStyle=comp.container.style;var perspective=this.pe.v+'px';var origin='0px 0px 0px';var matrix='matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';perspectiveStyle.perspective=perspective;perspectiveStyle.webkitPerspective=perspective;containerStyle.transformOrigin=origin;containerStyle.mozTransformOrigin=origin;containerStyle.webkitTransformOrigin=origin;perspectiveStyle.transform=matrix;perspectiveStyle.webkitTransform=matrix;}}};HCameraElement.prototype.createElements=function(){};HCameraElement.prototype.hide=function(){};HCameraElement.prototype.renderFrame=function(){var _mdf=this._isFirstFrame;var i;var len;if(this.hierarchy){len=this.hierarchy.length;for(i=0;i<len;i+=1){_mdf=this.hierarchy[i].finalTransform.mProp._mdf||_mdf;}}if(_mdf||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){this.mat.reset();if(this.hierarchy){len=this.hierarchy.length-1;for(i=len;i>=0;i-=1){var mTransf=this.hierarchy[i].finalTransform.mProp;this.mat.translate(-mTransf.p.v[0],-mTransf.p.v[1],mTransf.p.v[2]);this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);this.mat.scale(1/mTransf.s.v[0],1/mTransf.s.v[1],1/mTransf.s.v[2]);this.mat.translate(mTransf.a.v[0],mTransf.a.v[1],mTransf.a.v[2]);}}if(this.p){this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]);}else{this.mat.translate(-this.px.v,-this.py.v,this.pz.v);}if(this.a){var diffVector;if(this.p){diffVector=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]];}else{diffVector=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];}var mag=Math.sqrt(Math.pow(diffVector[0],2)+Math.pow(diffVector[1],2)+Math.pow(diffVector[2],2));// var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\nvar lookDir=[diffVector[0]/mag,diffVector[1]/mag,diffVector[2]/mag];var lookLengthOnXZ=Math.sqrt(lookDir[2]*lookDir[2]+lookDir[0]*lookDir[0]);var mRotationX=Math.atan2(lookDir[1],lookLengthOnXZ);var mRotationY=Math.atan2(lookDir[0],-lookDir[2]);this.mat.rotateY(mRotationY).rotateX(-mRotationX);}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0);this.mat.translate(0,0,this.pe.v);var hasMatrixChanged=!this._prevMat.equals(this.mat);if((hasMatrixChanged||this.pe._mdf)&&this.comp.threeDElements){len=this.comp.threeDElements.length;var comp;var perspectiveStyle;var containerStyle;for(i=0;i<len;i+=1){comp=this.comp.threeDElements[i];if(comp.type==='3d'){if(hasMatrixChanged){var matValue=this.mat.toCSS();containerStyle=comp.container.style;containerStyle.transform=matValue;containerStyle.webkitTransform=matValue;}if(this.pe._mdf){perspectiveStyle=comp.perspectiveElem.style;perspectiveStyle.perspective=this.pe.v+'px';perspectiveStyle.webkitPerspective=this.pe.v+'px';}}}this.mat.clone(this._prevMat);}}this._isFirstFrame=false;};HCameraElement.prototype.prepareFrame=function(num){this.prepareProperties(num,true);};HCameraElement.prototype.destroy=function(){};HCameraElement.prototype.getBaseElement=function(){return null;};function HImageElement(data,globalData,comp){this.assetData=globalData.getAssetData(data.refId);this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement);HImageElement.prototype.createContent=function(){var assetPath=this.globalData.getAssetsPath(this.assetData);var img=new Image();if(this.data.hasMask){this.imageElem=createNS('image');this.imageElem.setAttribute('width',this.assetData.w+'px');this.imageElem.setAttribute('height',this.assetData.h+'px');this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);this.layerElement.appendChild(this.imageElem);this.baseElement.setAttribute('width',this.assetData.w);this.baseElement.setAttribute('height',this.assetData.h);}else{this.layerElement.appendChild(img);}img.crossOrigin='anonymous';img.src=assetPath;if(this.data.ln){this.baseElement.setAttribute('id',this.data.ln);}};function HybridRendererBase(animationItem,config){this.animationItem=animationItem;this.layers=null;this.renderedFrame=-1;this.renderConfig={className:config&&config.className||'',imagePreserveAspectRatio:config&&config.imagePreserveAspectRatio||'xMidYMid slice',hideOnTransparent:!(config&&config.hideOnTransparent===false),filterSize:{width:config&&config.filterSize&&config.filterSize.width||'400%',height:config&&config.filterSize&&config.filterSize.height||'400%',x:config&&config.filterSize&&config.filterSize.x||'-100%',y:config&&config.filterSize&&config.filterSize.y||'-100%'}};this.globalData={_mdf:false,frameNum:-1,renderConfig:this.renderConfig};this.pendingElements=[];this.elements=[];this.threeDElements=[];this.destroyed=false;this.camera=null;this.supports3d=true;this.rendererType='html';}extendPrototype([BaseRenderer],HybridRendererBase);HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem;HybridRendererBase.prototype.checkPendingElements=function(){while(this.pendingElements.length){var element=this.pendingElements.pop();element.checkParenting();}};HybridRendererBase.prototype.appendElementInPos=function(element,pos){var newDOMElement=element.getBaseElement();if(!newDOMElement){return;}var layer=this.layers[pos];if(!layer.ddd||!this.supports3d){if(this.threeDElements){this.addTo3dContainer(newDOMElement,pos);}else{var i=0;var nextDOMElement;var nextLayer;var tmpDOMElement;while(i<pos){if(this.elements[i]&&this.elements[i]!==true&&this.elements[i].getBaseElement){nextLayer=this.elements[i];tmpDOMElement=this.layers[i].ddd?this.getThreeDContainerByPos(i):nextLayer.getBaseElement();nextDOMElement=tmpDOMElement||nextDOMElement;}i+=1;}if(nextDOMElement){if(!layer.ddd||!this.supports3d){this.layerElement.insertBefore(newDOMElement,nextDOMElement);}}else if(!layer.ddd||!this.supports3d){this.layerElement.appendChild(newDOMElement);}}}else{this.addTo3dContainer(newDOMElement,pos);}};HybridRendererBase.prototype.createShape=function(data){if(!this.supports3d){return new SVGShapeElement(data,this.globalData,this);}return new HShapeElement(data,this.globalData,this);};HybridRendererBase.prototype.createText=function(data){if(!this.supports3d){return new SVGTextLottieElement(data,this.globalData,this);}return new HTextElement(data,this.globalData,this);};HybridRendererBase.prototype.createCamera=function(data){this.camera=new HCameraElement(data,this.globalData,this);return this.camera;};HybridRendererBase.prototype.createImage=function(data){if(!this.supports3d){return new IImageElement(data,this.globalData,this);}return new HImageElement(data,this.globalData,this);};HybridRendererBase.prototype.createSolid=function(data){if(!this.supports3d){return new ISolidElement(data,this.globalData,this);}return new HSolidElement(data,this.globalData,this);};HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull;HybridRendererBase.prototype.getThreeDContainerByPos=function(pos){var i=0;var len=this.threeDElements.length;while(i<len){if(this.threeDElements[i].startPos<=pos&&this.threeDElements[i].endPos>=pos){return this.threeDElements[i].perspectiveElem;}i+=1;}return null;};HybridRendererBase.prototype.createThreeDContainer=function(pos,type){var perspectiveElem=createTag('div');var style;var containerStyle;styleDiv(perspectiveElem);var container=createTag('div');styleDiv(container);if(type==='3d'){style=perspectiveElem.style;style.width=this.globalData.compSize.w+'px';style.height=this.globalData.compSize.h+'px';var center='50% 50%';style.webkitTransformOrigin=center;style.mozTransformOrigin=center;style.transformOrigin=center;containerStyle=container.style;var matrix='matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';containerStyle.transform=matrix;containerStyle.webkitTransform=matrix;}perspectiveElem.appendChild(container);// this.resizerElem.appendChild(perspectiveElem);\nvar threeDContainerData={container:container,perspectiveElem:perspectiveElem,startPos:pos,endPos:pos,type:type};this.threeDElements.push(threeDContainerData);return threeDContainerData;};HybridRendererBase.prototype.build3dContainers=function(){var i;var len=this.layers.length;var lastThreeDContainerData;var currentContainer='';for(i=0;i<len;i+=1){if(this.layers[i].ddd&&this.layers[i].ty!==3){if(currentContainer!=='3d'){currentContainer='3d';lastThreeDContainerData=this.createThreeDContainer(i,'3d');}lastThreeDContainerData.endPos=Math.max(lastThreeDContainerData.endPos,i);}else{if(currentContainer!=='2d'){currentContainer='2d';lastThreeDContainerData=this.createThreeDContainer(i,'2d');}lastThreeDContainerData.endPos=Math.max(lastThreeDContainerData.endPos,i);}}len=this.threeDElements.length;for(i=len-1;i>=0;i-=1){this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);}};HybridRendererBase.prototype.addTo3dContainer=function(elem,pos){var i=0;var len=this.threeDElements.length;while(i<len){if(pos<=this.threeDElements[i].endPos){var j=this.threeDElements[i].startPos;var nextElement;while(j<pos){if(this.elements[j]&&this.elements[j].getBaseElement){nextElement=this.elements[j].getBaseElement();}j+=1;}if(nextElement){this.threeDElements[i].container.insertBefore(elem,nextElement);}else{this.threeDElements[i].container.appendChild(elem);}break;}i+=1;}};HybridRendererBase.prototype.configAnimation=function(animData){var resizerElem=createTag('div');var wrapper=this.animationItem.wrapper;var style=resizerElem.style;style.width=animData.w+'px';style.height=animData.h+'px';this.resizerElem=resizerElem;styleDiv(resizerElem);style.transformStyle='flat';style.mozTransformStyle='flat';style.webkitTransformStyle='flat';if(this.renderConfig.className){resizerElem.setAttribute('class',this.renderConfig.className);}wrapper.appendChild(resizerElem);style.overflow='hidden';var svg=createNS('svg');svg.setAttribute('width','1');svg.setAttribute('height','1');styleDiv(svg);this.resizerElem.appendChild(svg);var defs=createNS('defs');svg.appendChild(defs);this.data=animData;// Mask animation\nthis.setupGlobalData(animData,svg);this.globalData.defs=defs;this.layers=animData.layers;this.layerElement=this.resizerElem;this.build3dContainers();this.updateContainerSize();};HybridRendererBase.prototype.destroy=function(){if(this.animationItem.wrapper){this.animationItem.wrapper.innerText='';}this.animationItem.container=null;this.globalData.defs=null;var i;var len=this.layers?this.layers.length:0;for(i=0;i<len;i+=1){this.elements[i].destroy();}this.elements.length=0;this.destroyed=true;this.animationItem=null;};HybridRendererBase.prototype.updateContainerSize=function(){var elementWidth=this.animationItem.wrapper.offsetWidth;var elementHeight=this.animationItem.wrapper.offsetHeight;var elementRel=elementWidth/elementHeight;var animationRel=this.globalData.compSize.w/this.globalData.compSize.h;var sx;var sy;var tx;var ty;if(animationRel>elementRel){sx=elementWidth/this.globalData.compSize.w;sy=elementWidth/this.globalData.compSize.w;tx=0;ty=(elementHeight-this.globalData.compSize.h*(elementWidth/this.globalData.compSize.w))/2;}else{sx=elementHeight/this.globalData.compSize.h;sy=elementHeight/this.globalData.compSize.h;tx=(elementWidth-this.globalData.compSize.w*(elementHeight/this.globalData.compSize.h))/2;ty=0;}var style=this.resizerElem.style;style.webkitTransform='matrix3d('+sx+',0,0,0,0,'+sy+',0,0,0,0,1,0,'+tx+','+ty+',0,1)';style.transform=style.webkitTransform;};HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame;HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display='none';};HybridRendererBase.prototype.show=function(){this.resizerElem.style.display='block';};HybridRendererBase.prototype.initItems=function(){this.buildAllItems();if(this.camera){this.camera.setup();}else{var cWidth=this.globalData.compSize.w;var cHeight=this.globalData.compSize.h;var i;var len=this.threeDElements.length;for(i=0;i<len;i+=1){var style=this.threeDElements[i].perspectiveElem.style;style.webkitPerspective=Math.sqrt(Math.pow(cWidth,2)+Math.pow(cHeight,2))+'px';style.perspective=style.webkitPerspective;}}};HybridRendererBase.prototype.searchExtraCompositions=function(assets){var i;var len=assets.length;var floatingContainer=createTag('div');for(i=0;i<len;i+=1){if(assets[i].xt){var comp=this.createComp(assets[i],floatingContainer,this.globalData.comp,null);comp.initExpressions();this.globalData.projectInterface.registerComposition(comp);}}};function HCompElement(data,globalData,comp){this.layers=data.layers;this.supports3d=!data.hasMask;this.completeLayers=false;this.pendingElements=[];this.elements=this.layers?createSizedArray(this.layers.length):[];this.initElement(data,globalData,comp);this.tm=data.tm?PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this):{_placeholder:true};}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement);HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements;HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements();// divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\nif(this.data.hasMask){this.svgElement.setAttribute('width',this.data.w);this.svgElement.setAttribute('height',this.data.h);this.transformedElement=this.baseElement;}else{this.transformedElement=this.layerElement;}};HCompElement.prototype.addTo3dContainer=function(elem,pos){var j=0;var nextElement;while(j<pos){if(this.elements[j]&&this.elements[j].getBaseElement){nextElement=this.elements[j].getBaseElement();}j+=1;}if(nextElement){this.layerElement.insertBefore(elem,nextElement);}else{this.layerElement.appendChild(elem);}};HCompElement.prototype.createComp=function(data){if(!this.supports3d){return new SVGCompElement(data,this.globalData,this);}return new HCompElement(data,this.globalData,this);};function HybridRenderer(animationItem,config){this.animationItem=animationItem;this.layers=null;this.renderedFrame=-1;this.renderConfig={className:config&&config.className||'',imagePreserveAspectRatio:config&&config.imagePreserveAspectRatio||'xMidYMid slice',hideOnTransparent:!(config&&config.hideOnTransparent===false),filterSize:{width:config&&config.filterSize&&config.filterSize.width||'400%',height:config&&config.filterSize&&config.filterSize.height||'400%',x:config&&config.filterSize&&config.filterSize.x||'-100%',y:config&&config.filterSize&&config.filterSize.y||'-100%'}};this.globalData={_mdf:false,frameNum:-1,renderConfig:this.renderConfig};this.pendingElements=[];this.elements=[];this.threeDElements=[];this.destroyed=false;this.camera=null;this.supports3d=true;this.rendererType='html';}extendPrototype([HybridRendererBase],HybridRenderer);HybridRenderer.prototype.createComp=function(data){if(!this.supports3d){return new SVGCompElement(data,this.globalData,this);}return new HCompElement(data,this.globalData,this);};var Expressions=function(){var ob={};ob.initExpressions=initExpressions;function initExpressions(animation){var stackCount=0;var registers=[];function pushExpression(){stackCount+=1;}function popExpression(){stackCount-=1;if(stackCount===0){releaseInstances();}}function registerExpressionProperty(expression){if(registers.indexOf(expression)===-1){registers.push(expression);}}function releaseInstances(){var i;var len=registers.length;for(i=0;i<len;i+=1){registers[i].release();}registers.length=0;}animation.renderer.compInterface=CompExpressionInterface(animation.renderer);animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);animation.renderer.globalData.pushExpression=pushExpression;animation.renderer.globalData.popExpression=popExpression;animation.renderer.globalData.registerExpressionProperty=registerExpressionProperty;}return ob;}();function _typeof$1(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$1=function _typeof(obj){return typeof obj;};}else{_typeof$1=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$1(obj);}/* eslint-disable */ /*\r\n   Copyright 2014 David Bau.\r\n\r\n   Permission is hereby granted, free of charge, to any person obtaining\r\n   a copy of this software and associated documentation files (the\r\n   \"Software\"), to deal in the Software without restriction, including\r\n   without limitation the rights to use, copy, modify, merge, publish,\r\n   distribute, sublicense, and/or sell copies of the Software, and to\r\n   permit persons to whom the Software is furnished to do so, subject to\r\n   the following conditions:\r\n\r\n   The above copyright notice and this permission notice shall be\r\n   included in all copies or substantial portions of the Software.\r\n\r\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n   */function seedRandom(pool,math){//\n// The following constants are related to IEEE 754 limits.\n//\nvar global=this,width=256,// each RC4 output is 0 <= x < 256\nchunks=6,// at least six RC4 outputs for each double\ndigits=52,// there are 52 significant digits in a double\nrngname='random',// rngname: name for Math.random and Math.seedrandom\nstartdenom=math.pow(width,chunks),significance=math.pow(2,digits),overflow=significance*2,mask=width-1,nodecrypto;// node.js crypto module, initialized at the bottom.\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nfunction seedrandom(seed,options,callback){var key=[];options=options===true?{entropy:true}:options||{};// Flatten the seed string or build one from local entropy if needed.\nvar shortseed=mixkey(flatten(options.entropy?[seed,tostring(pool)]:seed===null?autoseed():seed,3),key);// Use the seed to initialize an ARC4 generator.\nvar arc4=new ARC4(key);// This function returns a random double in [0, 1) that contains\n// randomness in every bit of the mantissa of the IEEE 754 value.\nvar prng=function prng(){var n=arc4.g(chunks),// Start with a numerator n < 2 ^ 48\nd=startdenom,//   and denominator d = 2 ^ 48.\nx=0;//   and no 'extra last byte'.\nwhile(n<significance){// Fill up all significant digits by\nn=(n+x)*width;//   shifting numerator and\nd*=width;//   denominator and generating a\nx=arc4.g(1);//   new least-significant-byte.\n}while(n>=overflow){// To avoid rounding up, before adding\nn/=2;//   last byte, shift everything\nd/=2;//   right using integer math until\nx>>>=1;//   we have exactly the desired bits.\n}return(n+x)/d;// Form the number within [0, 1).\n};prng.int32=function(){return arc4.g(4)|0;};prng.quick=function(){return arc4.g(4)/0x100000000;};prng[\"double\"]=prng;// Mix the randomness into accumulated entropy.\nmixkey(tostring(arc4.S),pool);// Calling convention: what to return as a function of prng, seed, is_math.\nreturn(options.pass||callback||function(prng,seed,is_math_call,state){if(state){// Load the arc4 state from the given state if it has an S array.\nif(state.S){copy(state,arc4);}// Only provide the .state method if requested via options.state.\nprng.state=function(){return copy(arc4,{});};}// If called as a method of Math (Math.seedrandom()), mutate\n// Math.random because that is how seedrandom.js has worked since v1.0.\nif(is_math_call){math[rngname]=prng;return seed;}// Otherwise, it is a newer calling convention, so return the\n// prng directly.\nelse return prng;})(prng,shortseed,'global'in options?options.global:this==math,options.state);}math['seed'+rngname]=seedrandom;//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\nfunction ARC4(key){var t,keylen=key.length,me=this,i=0,j=me.i=me.j=0,s=me.S=[];// The empty key [] is treated as [0].\nif(!keylen){key=[keylen++];}// Set up S using the standard key scheduling algorithm.\nwhile(i<width){s[i]=i++;}for(i=0;i<width;i++){s[i]=s[j=mask&j+key[i%keylen]+(t=s[i])];s[j]=t;}// The \"g\" method returns the next (count) outputs as one number.\nme.g=function(count){// Using instance members instead of closure state nearly doubles speed.\nvar t,r=0,i=me.i,j=me.j,s=me.S;while(count--){t=s[i=mask&i+1];r=r*width+s[mask&(s[i]=s[j=mask&j+t])+(s[j]=t)];}me.i=i;me.j=j;return r;// For robust unpredictability, the function call below automatically\n// discards an initial batch of values.  This is called RC4-drop[256].\n// See http://google.com/search?q=rsa+fluhrer+response&btnI\n};}//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\nfunction copy(f,t){t.i=f.i;t.j=f.j;t.S=f.S.slice();return t;}//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\nfunction flatten(obj,depth){var result=[],typ=_typeof$1(obj),prop;if(depth&&typ=='object'){for(prop in obj){try{result.push(flatten(obj[prop],depth-1));}catch(e){}}}return result.length?result:typ=='string'?obj:obj+'\\0';}//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\nfunction mixkey(seed,key){var stringseed=seed+'',smear,j=0;while(j<stringseed.length){key[mask&j]=mask&(smear^=key[mask&j]*19)+stringseed.charCodeAt(j++);}return tostring(key);}//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\nfunction autoseed(){try{if(nodecrypto){return tostring(nodecrypto.randomBytes(width));}var out=new Uint8Array(width);(global.crypto||global.msCrypto).getRandomValues(out);return tostring(out);}catch(e){var browser=global.navigator,plugins=browser&&browser.plugins;return[+new Date(),global,plugins,global.screen,tostring(pool)];}}//\n// tostring()\n// Converts an array of charcodes to a string\n//\nfunction tostring(a){return String.fromCharCode.apply(0,a);}//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(),pool);//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\n// End anonymous scope, and pass initial values.\n};function initialize$2(BMMath){seedRandom([],BMMath);}var propTypes={SHAPE:'shape'};function _typeof(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof(obj);}var ExpressionManager=function(){'use strict';var ob={};var Math=BMMath;var window=null;var document=null;var XMLHttpRequest=null;var fetch=null;var frames=null;initialize$2(BMMath);function $bm_isInstanceOfArray(arr){return arr.constructor===Array||arr.constructor===Float32Array;}function isNumerable(tOfV,v){return tOfV==='number'||tOfV==='boolean'||tOfV==='string'||v instanceof Number;}function $bm_neg(a){var tOfA=_typeof(a);if(tOfA==='number'||tOfA==='boolean'||a instanceof Number){return-a;}if($bm_isInstanceOfArray(a)){var i;var lenA=a.length;var retArr=[];for(i=0;i<lenA;i+=1){retArr[i]=-a[i];}return retArr;}if(a.propType){return a.v;}return-a;}var easeInBez=BezierFactory.getBezierEasing(0.333,0,0.833,0.833,'easeIn').get;var easeOutBez=BezierFactory.getBezierEasing(0.167,0.167,0.667,1,'easeOut').get;var easeInOutBez=BezierFactory.getBezierEasing(0.33,0,0.667,1,'easeInOut').get;function sum(a,b){var tOfA=_typeof(a);var tOfB=_typeof(b);if(tOfA==='string'||tOfB==='string'){return a+b;}if(isNumerable(tOfA,a)&&isNumerable(tOfB,b)){return a+b;}if($bm_isInstanceOfArray(a)&&isNumerable(tOfB,b)){a=a.slice(0);a[0]+=b;return a;}if(isNumerable(tOfA,a)&&$bm_isInstanceOfArray(b)){b=b.slice(0);b[0]=a+b[0];return b;}if($bm_isInstanceOfArray(a)&&$bm_isInstanceOfArray(b)){var i=0;var lenA=a.length;var lenB=b.length;var retArr=[];while(i<lenA||i<lenB){if((typeof a[i]==='number'||a[i]instanceof Number)&&(typeof b[i]==='number'||b[i]instanceof Number)){retArr[i]=a[i]+b[i];}else{retArr[i]=b[i]===undefined?a[i]:a[i]||b[i];}i+=1;}return retArr;}return 0;}var add=sum;function sub(a,b){var tOfA=_typeof(a);var tOfB=_typeof(b);if(isNumerable(tOfA,a)&&isNumerable(tOfB,b)){if(tOfA==='string'){a=parseInt(a,10);}if(tOfB==='string'){b=parseInt(b,10);}return a-b;}if($bm_isInstanceOfArray(a)&&isNumerable(tOfB,b)){a=a.slice(0);a[0]-=b;return a;}if(isNumerable(tOfA,a)&&$bm_isInstanceOfArray(b)){b=b.slice(0);b[0]=a-b[0];return b;}if($bm_isInstanceOfArray(a)&&$bm_isInstanceOfArray(b)){var i=0;var lenA=a.length;var lenB=b.length;var retArr=[];while(i<lenA||i<lenB){if((typeof a[i]==='number'||a[i]instanceof Number)&&(typeof b[i]==='number'||b[i]instanceof Number)){retArr[i]=a[i]-b[i];}else{retArr[i]=b[i]===undefined?a[i]:a[i]||b[i];}i+=1;}return retArr;}return 0;}function mul(a,b){var tOfA=_typeof(a);var tOfB=_typeof(b);var arr;if(isNumerable(tOfA,a)&&isNumerable(tOfB,b)){return a*b;}var i;var len;if($bm_isInstanceOfArray(a)&&isNumerable(tOfB,b)){len=a.length;arr=createTypedArray('float32',len);for(i=0;i<len;i+=1){arr[i]=a[i]*b;}return arr;}if(isNumerable(tOfA,a)&&$bm_isInstanceOfArray(b)){len=b.length;arr=createTypedArray('float32',len);for(i=0;i<len;i+=1){arr[i]=a*b[i];}return arr;}return 0;}function div(a,b){var tOfA=_typeof(a);var tOfB=_typeof(b);var arr;if(isNumerable(tOfA,a)&&isNumerable(tOfB,b)){return a/b;}var i;var len;if($bm_isInstanceOfArray(a)&&isNumerable(tOfB,b)){len=a.length;arr=createTypedArray('float32',len);for(i=0;i<len;i+=1){arr[i]=a[i]/b;}return arr;}if(isNumerable(tOfA,a)&&$bm_isInstanceOfArray(b)){len=b.length;arr=createTypedArray('float32',len);for(i=0;i<len;i+=1){arr[i]=a/b[i];}return arr;}return 0;}function mod(a,b){if(typeof a==='string'){a=parseInt(a,10);}if(typeof b==='string'){b=parseInt(b,10);}return a%b;}var $bm_sum=sum;var $bm_sub=sub;var $bm_mul=mul;var $bm_div=div;var $bm_mod=mod;function clamp(num,min,max){if(min>max){var mm=max;max=min;min=mm;}return Math.min(Math.max(num,min),max);}function radiansToDegrees(val){return val/degToRads;}var radians_to_degrees=radiansToDegrees;function degreesToRadians(val){return val*degToRads;}var degrees_to_radians=radiansToDegrees;var helperLengthArray=[0,0,0,0,0,0];function length(arr1,arr2){if(typeof arr1==='number'||arr1 instanceof Number){arr2=arr2||0;return Math.abs(arr1-arr2);}if(!arr2){arr2=helperLengthArray;}var i;var len=Math.min(arr1.length,arr2.length);var addedLength=0;for(i=0;i<len;i+=1){addedLength+=Math.pow(arr2[i]-arr1[i],2);}return Math.sqrt(addedLength);}function normalize(vec){return div(vec,length(vec));}function rgbToHsl(val){var r=val[0];var g=val[1];var b=val[2];var max=Math.max(r,g,b);var min=Math.min(r,g,b);var h;var s;var l=(max+min)/2;if(max===min){h=0;// achromatic\ns=0;// achromatic\n}else{var d=max-min;s=l>0.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;default:break;}h/=6;}return[h,s,l,val[3]];}function hue2rgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p;}function hslToRgb(val){var h=val[0];var s=val[1];var l=val[2];var r;var g;var b;if(s===0){r=l;// achromatic\nb=l;// achromatic\ng=l;// achromatic\n}else{var q=l<0.5?l*(1+s):l+s-l*s;var p=2*l-q;r=hue2rgb(p,q,h+1/3);g=hue2rgb(p,q,h);b=hue2rgb(p,q,h-1/3);}return[r,g,b,val[3]];}function linear(t,tMin,tMax,value1,value2){if(value1===undefined||value2===undefined){value1=tMin;value2=tMax;tMin=0;tMax=1;}if(tMax<tMin){var _tMin=tMax;tMax=tMin;tMin=_tMin;}if(t<=tMin){return value1;}if(t>=tMax){return value2;}var perc=tMax===tMin?0:(t-tMin)/(tMax-tMin);if(!value1.length){return value1+(value2-value1)*perc;}var i;var len=value1.length;var arr=createTypedArray('float32',len);for(i=0;i<len;i+=1){arr[i]=value1[i]+(value2[i]-value1[i])*perc;}return arr;}function random(min,max){if(max===undefined){if(min===undefined){min=0;max=1;}else{max=min;min=undefined;}}if(max.length){var i;var len=max.length;if(!min){min=createTypedArray('float32',len);}var arr=createTypedArray('float32',len);var rnd=BMMath.random();for(i=0;i<len;i+=1){arr[i]=min[i]+rnd*(max[i]-min[i]);}return arr;}if(min===undefined){min=0;}var rndm=BMMath.random();return min+rndm*(max-min);}function createPath(points,inTangents,outTangents,closed){var i;var len=points.length;var path=shapePool.newElement();path.setPathData(!!closed,len);var arrPlaceholder=[0,0];var inVertexPoint;var outVertexPoint;for(i=0;i<len;i+=1){inVertexPoint=inTangents&&inTangents[i]?inTangents[i]:arrPlaceholder;outVertexPoint=outTangents&&outTangents[i]?outTangents[i]:arrPlaceholder;path.setTripleAt(points[i][0],points[i][1],outVertexPoint[0]+points[i][0],outVertexPoint[1]+points[i][1],inVertexPoint[0]+points[i][0],inVertexPoint[1]+points[i][1],i,true);}return path;}function initiateExpression(elem,data,property){var val=data.x;var needsVelocity=/velocity(?![\\w\\d])/.test(val);var _needsRandom=val.indexOf('random')!==-1;var elemType=elem.data.ty;var transform;var $bm_transform;var content;var effect;var thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime;Object.defineProperty(thisProperty,'value',{get:function get(){return thisProperty.v;}});elem.comp.frameDuration=1/elem.comp.globalData.frameRate;elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate;var outPoint=elem.data.op/elem.comp.globalData.frameRate;var width=elem.data.sw?elem.data.sw:0;var height=elem.data.sh?elem.data.sh:0;var name=elem.data.nm;var loopIn;var loop_in;var loopOut;var loop_out;var smooth;var toWorld;var fromWorld;var fromComp;var toComp;var fromCompToSurface;var position;var rotation;var anchorPoint;var scale;var thisLayer;var thisComp;var mask;var valueAtTime;var velocityAtTime;var scoped_bm_rt;// val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\nvar expression_function=eval('[function _expression_function(){'+val+';scoped_bm_rt=$bm_rt}]')[0];// eslint-disable-line no-eval\nvar numKeys=property.kf?data.k.length:0;var active=!this.data||this.data.hd!==true;var wiggle=function wiggle(freq,amp){var iWiggle;var j;var lenWiggle=this.pv.length?this.pv.length:1;var addedAmps=createTypedArray('float32',lenWiggle);freq=5;var iterations=Math.floor(time*freq);iWiggle=0;j=0;while(iWiggle<iterations){// var rnd = BMMath.random();\nfor(j=0;j<lenWiggle;j+=1){addedAmps[j]+=-amp+amp*2*BMMath.random();// addedAmps[j] += -amp + amp*2*rnd;\n}iWiggle+=1;}// var rnd2 = BMMath.random();\nvar periods=time*freq;var perc=periods-Math.floor(periods);var arr=createTypedArray('float32',lenWiggle);if(lenWiggle>1){for(j=0;j<lenWiggle;j+=1){arr[j]=this.pv[j]+addedAmps[j]+(-amp+amp*2*BMMath.random())*perc;// arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\n// arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\n}return arr;}return this.pv+addedAmps[0]+(-amp+amp*2*BMMath.random())*perc;}.bind(this);if(thisProperty.loopIn){loopIn=thisProperty.loopIn.bind(thisProperty);loop_in=loopIn;}if(thisProperty.loopOut){loopOut=thisProperty.loopOut.bind(thisProperty);loop_out=loopOut;}if(thisProperty.smooth){smooth=thisProperty.smooth.bind(thisProperty);}function loopInDuration(type,duration){return loopIn(type,duration,true);}function loopOutDuration(type,duration){return loopOut(type,duration,true);}if(this.getValueAtTime){valueAtTime=this.getValueAtTime.bind(this);}if(this.getVelocityAtTime){velocityAtTime=this.getVelocityAtTime.bind(this);}var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(elem1,elem2){var fVec=[elem2[0]-elem1[0],elem2[1]-elem1[1],elem2[2]-elem1[2]];var pitch=Math.atan2(fVec[0],Math.sqrt(fVec[1]*fVec[1]+fVec[2]*fVec[2]))/degToRads;var yaw=-Math.atan2(fVec[1],fVec[2])/degToRads;return[yaw,pitch,0];}function easeOut(t,tMin,tMax,val1,val2){return applyEase(easeOutBez,t,tMin,tMax,val1,val2);}function easeIn(t,tMin,tMax,val1,val2){return applyEase(easeInBez,t,tMin,tMax,val1,val2);}function ease(t,tMin,tMax,val1,val2){return applyEase(easeInOutBez,t,tMin,tMax,val1,val2);}function applyEase(fn,t,tMin,tMax,val1,val2){if(val1===undefined){val1=tMin;val2=tMax;}else{t=(t-tMin)/(tMax-tMin);}if(t>1){t=1;}else if(t<0){t=0;}var mult=fn(t);if($bm_isInstanceOfArray(val1)){var iKey;var lenKey=val1.length;var arr=createTypedArray('float32',lenKey);for(iKey=0;iKey<lenKey;iKey+=1){arr[iKey]=(val2[iKey]-val1[iKey])*mult+val1[iKey];}return arr;}return(val2-val1)*mult+val1;}function nearestKey(time){var iKey;var lenKey=data.k.length;var index;var keyTime;if(!data.k.length||typeof data.k[0]==='number'){index=0;keyTime=0;}else{index=-1;time*=elem.comp.globalData.frameRate;if(time<data.k[0].t){index=1;keyTime=data.k[0].t;}else{for(iKey=0;iKey<lenKey-1;iKey+=1){if(time===data.k[iKey].t){index=iKey+1;keyTime=data.k[iKey].t;break;}else if(time>data.k[iKey].t&&time<data.k[iKey+1].t){if(time-data.k[iKey].t>data.k[iKey+1].t-time){index=iKey+2;keyTime=data.k[iKey+1].t;}else{index=iKey+1;keyTime=data.k[iKey].t;}break;}}if(index===-1){index=iKey+1;keyTime=data.k[iKey].t;}}}var obKey={};obKey.index=index;obKey.time=keyTime/elem.comp.globalData.frameRate;return obKey;}function key(ind){var obKey;var iKey;var lenKey;if(!data.k.length||typeof data.k[0]==='number'){throw new Error('The property has no keyframe at index '+ind);}ind-=1;obKey={time:data.k[ind].t/elem.comp.globalData.frameRate,value:[]};var arr=Object.prototype.hasOwnProperty.call(data.k[ind],'s')?data.k[ind].s:data.k[ind-1].e;lenKey=arr.length;for(iKey=0;iKey<lenKey;iKey+=1){obKey[iKey]=arr[iKey];obKey.value[iKey]=arr[iKey];}return obKey;}function framesToTime(fr,fps){if(!fps){fps=elem.comp.globalData.frameRate;}return fr/fps;}function timeToFrames(t,fps){if(!t&&t!==0){t=time;}if(!fps){fps=elem.comp.globalData.frameRate;}return t*fps;}function seedRandom(seed){BMMath.seedrandom(randSeed+seed);}function sourceRectAtTime(){return elem.sourceRectAtTime();}function substring(init,end){if(typeof value==='string'){if(end===undefined){return value.substring(init);}return value.substring(init,end);}return'';}function substr(init,end){if(typeof value==='string'){if(end===undefined){return value.substr(init);}return value.substr(init,end);}return'';}function posterizeTime(framesPerSecond){time=framesPerSecond===0?0:Math.floor(time*framesPerSecond)/framesPerSecond;value=valueAtTime(time);}var time;var velocity;var value;var text;var textIndex;var textTotal;var selectorValue;var index=elem.data.ind;var hasParent=!!(elem.hierarchy&&elem.hierarchy.length);var parent;var randSeed=Math.floor(Math.random()*1000000);var globalData=elem.globalData;function executeExpression(_value){// globalData.pushExpression();\nvalue=_value;if(this.frameExpressionId===elem.globalData.frameId&&this.propType!=='textSelector'){return value;}if(this.propType==='textSelector'){textIndex=this.textIndex;textTotal=this.textTotal;selectorValue=this.selectorValue;}if(!thisLayer){text=elem.layerInterface.text;thisLayer=elem.layerInterface;thisComp=elem.comp.compInterface;toWorld=thisLayer.toWorld.bind(thisLayer);fromWorld=thisLayer.fromWorld.bind(thisLayer);fromComp=thisLayer.fromComp.bind(thisLayer);toComp=thisLayer.toComp.bind(thisLayer);mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null;fromCompToSurface=fromComp;}if(!transform){transform=elem.layerInterface('ADBE Transform Group');$bm_transform=transform;if(transform){anchorPoint=transform.anchorPoint;/* position = transform.position;\r\n                      rotation = transform.rotation;\r\n                      scale = transform.scale; */}}if(elemType===4&&!content){content=thisLayer('ADBE Root Vectors Group');}if(!effect){effect=thisLayer(4);}hasParent=!!(elem.hierarchy&&elem.hierarchy.length);if(hasParent&&!parent){parent=elem.hierarchy[0].layerInterface;}time=this.comp.renderedFrame/this.comp.globalData.frameRate;if(_needsRandom){seedRandom(randSeed+time);}if(needsVelocity){velocity=velocityAtTime(time);}expression_function();this.frameExpressionId=elem.globalData.frameId;// TODO: Check if it's possible to return on ShapeInterface the .v value\n// Changed this to a ternary operation because Rollup failed compiling it correctly\nscoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt;return scoped_bm_rt;}// Bundlers will see these as dead code and unless we reference them\nexecuteExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData];return executeExpression;}ob.initiateExpression=initiateExpression;ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath];return ob;}();var expressionHelpers=function(){function searchExpressions(elem,data,prop){if(data.x){prop.k=true;prop.x=true;prop.initiateExpression=ExpressionManager.initiateExpression;prop.effectsSequence.push(prop.initiateExpression(elem,data,prop).bind(prop));}}function getValueAtTime(frameNum){frameNum*=this.elem.globalData.frameRate;frameNum-=this.offsetTime;if(frameNum!==this._cachingAtTime.lastFrame){this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<frameNum?this._cachingAtTime.lastIndex:0;this._cachingAtTime.value=this.interpolateValue(frameNum,this._cachingAtTime);this._cachingAtTime.lastFrame=frameNum;}return this._cachingAtTime.value;}function getSpeedAtTime(frameNum){var delta=-0.01;var v1=this.getValueAtTime(frameNum);var v2=this.getValueAtTime(frameNum+delta);var speed=0;if(v1.length){var i;for(i=0;i<v1.length;i+=1){speed+=Math.pow(v2[i]-v1[i],2);}speed=Math.sqrt(speed)*100;}else{speed=0;}return speed;}function getVelocityAtTime(frameNum){if(this.vel!==undefined){return this.vel;}var delta=-0.001;// frameNum += this.elem.data.st;\nvar v1=this.getValueAtTime(frameNum);var v2=this.getValueAtTime(frameNum+delta);var velocity;if(v1.length){velocity=createTypedArray('float32',v1.length);var i;for(i=0;i<v1.length;i+=1){// removing frameRate\n// if needed, don't add it here\n// velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\nvelocity[i]=(v2[i]-v1[i])/delta;}}else{velocity=(v2-v1)/delta;}return velocity;}function getStaticValueAtTime(){return this.pv;}function setGroupProperty(propertyGroup){this.propertyGroup=propertyGroup;}return{searchExpressions:searchExpressions,getSpeedAtTime:getSpeedAtTime,getVelocityAtTime:getVelocityAtTime,getValueAtTime:getValueAtTime,getStaticValueAtTime:getStaticValueAtTime,setGroupProperty:setGroupProperty};}();function addPropertyDecorator(){function loopOut(type,duration,durationFlag){if(!this.k||!this.keyframes){return this.pv;}type=type?type.toLowerCase():'';var currentFrame=this.comp.renderedFrame;var keyframes=this.keyframes;var lastKeyFrame=keyframes[keyframes.length-1].t;if(currentFrame<=lastKeyFrame){return this.pv;}var cycleDuration;var firstKeyFrame;if(!durationFlag){if(!duration||duration>keyframes.length-1){duration=keyframes.length-1;}firstKeyFrame=keyframes[keyframes.length-1-duration].t;cycleDuration=lastKeyFrame-firstKeyFrame;}else{if(!duration){cycleDuration=Math.max(0,lastKeyFrame-this.elem.data.ip);}else{cycleDuration=Math.abs(lastKeyFrame-this.elem.comp.globalData.frameRate*duration);}firstKeyFrame=lastKeyFrame-cycleDuration;}var i;var len;var ret;if(type==='pingpong'){var iterations=Math.floor((currentFrame-firstKeyFrame)/cycleDuration);if(iterations%2!==0){return this.getValueAtTime((cycleDuration-(currentFrame-firstKeyFrame)%cycleDuration+firstKeyFrame)/this.comp.globalData.frameRate,0);// eslint-disable-line\n}}else if(type==='offset'){var initV=this.getValueAtTime(firstKeyFrame/this.comp.globalData.frameRate,0);var endV=this.getValueAtTime(lastKeyFrame/this.comp.globalData.frameRate,0);var current=this.getValueAtTime(((currentFrame-firstKeyFrame)%cycleDuration+firstKeyFrame)/this.comp.globalData.frameRate,0);// eslint-disable-line\nvar repeats=Math.floor((currentFrame-firstKeyFrame)/cycleDuration);if(this.pv.length){ret=new Array(initV.length);len=ret.length;for(i=0;i<len;i+=1){ret[i]=(endV[i]-initV[i])*repeats+current[i];}return ret;}return(endV-initV)*repeats+current;}else if(type==='continue'){var lastValue=this.getValueAtTime(lastKeyFrame/this.comp.globalData.frameRate,0);var nextLastValue=this.getValueAtTime((lastKeyFrame-0.001)/this.comp.globalData.frameRate,0);if(this.pv.length){ret=new Array(lastValue.length);len=ret.length;for(i=0;i<len;i+=1){ret[i]=lastValue[i]+(lastValue[i]-nextLastValue[i])*((currentFrame-lastKeyFrame)/this.comp.globalData.frameRate)/0.0005;// eslint-disable-line\n}return ret;}return lastValue+(lastValue-nextLastValue)*((currentFrame-lastKeyFrame)/0.001);}return this.getValueAtTime(((currentFrame-firstKeyFrame)%cycleDuration+firstKeyFrame)/this.comp.globalData.frameRate,0);// eslint-disable-line\n}function loopIn(type,duration,durationFlag){if(!this.k){return this.pv;}type=type?type.toLowerCase():'';var currentFrame=this.comp.renderedFrame;var keyframes=this.keyframes;var firstKeyFrame=keyframes[0].t;if(currentFrame>=firstKeyFrame){return this.pv;}var cycleDuration;var lastKeyFrame;if(!durationFlag){if(!duration||duration>keyframes.length-1){duration=keyframes.length-1;}lastKeyFrame=keyframes[duration].t;cycleDuration=lastKeyFrame-firstKeyFrame;}else{if(!duration){cycleDuration=Math.max(0,this.elem.data.op-firstKeyFrame);}else{cycleDuration=Math.abs(this.elem.comp.globalData.frameRate*duration);}lastKeyFrame=firstKeyFrame+cycleDuration;}var i;var len;var ret;if(type==='pingpong'){var iterations=Math.floor((firstKeyFrame-currentFrame)/cycleDuration);if(iterations%2===0){return this.getValueAtTime(((firstKeyFrame-currentFrame)%cycleDuration+firstKeyFrame)/this.comp.globalData.frameRate,0);// eslint-disable-line\n}}else if(type==='offset'){var initV=this.getValueAtTime(firstKeyFrame/this.comp.globalData.frameRate,0);var endV=this.getValueAtTime(lastKeyFrame/this.comp.globalData.frameRate,0);var current=this.getValueAtTime((cycleDuration-(firstKeyFrame-currentFrame)%cycleDuration+firstKeyFrame)/this.comp.globalData.frameRate,0);var repeats=Math.floor((firstKeyFrame-currentFrame)/cycleDuration)+1;if(this.pv.length){ret=new Array(initV.length);len=ret.length;for(i=0;i<len;i+=1){ret[i]=current[i]-(endV[i]-initV[i])*repeats;}return ret;}return current-(endV-initV)*repeats;}else if(type==='continue'){var firstValue=this.getValueAtTime(firstKeyFrame/this.comp.globalData.frameRate,0);var nextFirstValue=this.getValueAtTime((firstKeyFrame+0.001)/this.comp.globalData.frameRate,0);if(this.pv.length){ret=new Array(firstValue.length);len=ret.length;for(i=0;i<len;i+=1){ret[i]=firstValue[i]+(firstValue[i]-nextFirstValue[i])*(firstKeyFrame-currentFrame)/0.001;}return ret;}return firstValue+(firstValue-nextFirstValue)*(firstKeyFrame-currentFrame)/0.001;}return this.getValueAtTime((cycleDuration-((firstKeyFrame-currentFrame)%cycleDuration+firstKeyFrame))/this.comp.globalData.frameRate,0);// eslint-disable-line\n}function smooth(width,samples){if(!this.k){return this.pv;}width=(width||0.4)*0.5;samples=Math.floor(samples||5);if(samples<=1){return this.pv;}var currentTime=this.comp.renderedFrame/this.comp.globalData.frameRate;var initFrame=currentTime-width;var endFrame=currentTime+width;var sampleFrequency=samples>1?(endFrame-initFrame)/(samples-1):1;var i=0;var j=0;var value;if(this.pv.length){value=createTypedArray('float32',this.pv.length);}else{value=0;}var sampleValue;while(i<samples){sampleValue=this.getValueAtTime(initFrame+i*sampleFrequency);if(this.pv.length){for(j=0;j<this.pv.length;j+=1){value[j]+=sampleValue[j];}}else{value+=sampleValue;}i+=1;}if(this.pv.length){for(j=0;j<this.pv.length;j+=1){value[j]/=samples;}}else{value/=samples;}return value;}function getTransformValueAtTime(time){if(!this._transformCachingAtTime){this._transformCachingAtTime={v:new Matrix()};}/// /\nvar matrix=this._transformCachingAtTime.v;matrix.cloneFromProps(this.pre.props);if(this.appliedTransformations<1){var anchor=this.a.getValueAtTime(time);matrix.translate(-anchor[0]*this.a.mult,-anchor[1]*this.a.mult,anchor[2]*this.a.mult);}if(this.appliedTransformations<2){var scale=this.s.getValueAtTime(time);matrix.scale(scale[0]*this.s.mult,scale[1]*this.s.mult,scale[2]*this.s.mult);}if(this.sk&&this.appliedTransformations<3){var skew=this.sk.getValueAtTime(time);var skewAxis=this.sa.getValueAtTime(time);matrix.skewFromAxis(-skew*this.sk.mult,skewAxis*this.sa.mult);}if(this.r&&this.appliedTransformations<4){var rotation=this.r.getValueAtTime(time);matrix.rotate(-rotation*this.r.mult);}else if(!this.r&&this.appliedTransformations<4){var rotationZ=this.rz.getValueAtTime(time);var rotationY=this.ry.getValueAtTime(time);var rotationX=this.rx.getValueAtTime(time);var orientation=this.or.getValueAtTime(time);matrix.rotateZ(-rotationZ*this.rz.mult).rotateY(rotationY*this.ry.mult).rotateX(rotationX*this.rx.mult).rotateZ(-orientation[2]*this.or.mult).rotateY(orientation[1]*this.or.mult).rotateX(orientation[0]*this.or.mult);}if(this.data.p&&this.data.p.s){var positionX=this.px.getValueAtTime(time);var positionY=this.py.getValueAtTime(time);if(this.data.p.z){var positionZ=this.pz.getValueAtTime(time);matrix.translate(positionX*this.px.mult,positionY*this.py.mult,-positionZ*this.pz.mult);}else{matrix.translate(positionX*this.px.mult,positionY*this.py.mult,0);}}else{var position=this.p.getValueAtTime(time);matrix.translate(position[0]*this.p.mult,position[1]*this.p.mult,-position[2]*this.p.mult);}return matrix;/// /\n}function getTransformStaticValueAtTime(){return this.v.clone(new Matrix());}var getTransformProperty=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(elem,data,container){var prop=getTransformProperty(elem,data,container);if(prop.dynamicProperties.length){prop.getValueAtTime=getTransformValueAtTime.bind(prop);}else{prop.getValueAtTime=getTransformStaticValueAtTime.bind(prop);}prop.setGroupProperty=expressionHelpers.setGroupProperty;return prop;};var propertyGetProp=PropertyFactory.getProp;PropertyFactory.getProp=function(elem,data,type,mult,container){var prop=propertyGetProp(elem,data,type,mult,container);// prop.getVelocityAtTime = getVelocityAtTime;\n// prop.loopOut = loopOut;\n// prop.loopIn = loopIn;\nif(prop.kf){prop.getValueAtTime=expressionHelpers.getValueAtTime.bind(prop);}else{prop.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(prop);}prop.setGroupProperty=expressionHelpers.setGroupProperty;prop.loopOut=loopOut;prop.loopIn=loopIn;prop.smooth=smooth;prop.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(prop);prop.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(prop);prop.numKeys=data.a===1?data.k.length:0;prop.propertyIndex=data.ix;var value=0;if(type!==0){value=createTypedArray('float32',data.a===1?data.k[0].s.length:data.k.length);}prop._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:value};expressionHelpers.searchExpressions(elem,data,prop);if(prop.k){container.addDynamicProperty(prop);}return prop;};function getShapeValueAtTime(frameNum){// For now this caching object is created only when needed instead of creating it when the shape is initialized.\nif(!this._cachingAtTime){this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame};}frameNum*=this.elem.globalData.frameRate;frameNum-=this.offsetTime;if(frameNum!==this._cachingAtTime.lastTime){this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<frameNum?this._caching.lastIndex:0;this._cachingAtTime.lastTime=frameNum;this.interpolateShape(frameNum,this._cachingAtTime.shapeValue,this._cachingAtTime);}return this._cachingAtTime.shapeValue;}var ShapePropertyConstructorFunction=ShapePropertyFactory.getConstructorFunction();var KeyframedShapePropertyConstructorFunction=ShapePropertyFactory.getKeyframedConstructorFunction();function ShapeExpressions(){}ShapeExpressions.prototype={vertices:function vertices(prop,time){if(this.k){this.getValue();}var shapePath=this.v;if(time!==undefined){shapePath=this.getValueAtTime(time,0);}var i;var len=shapePath._length;var vertices=shapePath[prop];var points=shapePath.v;var arr=createSizedArray(len);for(i=0;i<len;i+=1){if(prop==='i'||prop==='o'){arr[i]=[vertices[i][0]-points[i][0],vertices[i][1]-points[i][1]];}else{arr[i]=[vertices[i][0],vertices[i][1]];}}return arr;},points:function points(time){return this.vertices('v',time);},inTangents:function inTangents(time){return this.vertices('i',time);},outTangents:function outTangents(time){return this.vertices('o',time);},isClosed:function isClosed(){return this.v.c;},pointOnPath:function pointOnPath(perc,time){var shapePath=this.v;if(time!==undefined){shapePath=this.getValueAtTime(time,0);}if(!this._segmentsLength){this._segmentsLength=bez.getSegmentsLength(shapePath);}var segmentsLength=this._segmentsLength;var lengths=segmentsLength.lengths;var lengthPos=segmentsLength.totalLength*perc;var i=0;var len=lengths.length;var accumulatedLength=0;var pt;while(i<len){if(accumulatedLength+lengths[i].addedLength>lengthPos){var initIndex=i;var endIndex=shapePath.c&&i===len-1?0:i+1;var segmentPerc=(lengthPos-accumulatedLength)/lengths[i].addedLength;pt=bez.getPointInSegment(shapePath.v[initIndex],shapePath.v[endIndex],shapePath.o[initIndex],shapePath.i[endIndex],segmentPerc,lengths[i]);break;}else{accumulatedLength+=lengths[i].addedLength;}i+=1;}if(!pt){pt=shapePath.c?[shapePath.v[0][0],shapePath.v[0][1]]:[shapePath.v[shapePath._length-1][0],shapePath.v[shapePath._length-1][1]];}return pt;},vectorOnPath:function vectorOnPath(perc,time,vectorType){// perc doesn't use triple equality because it can be a Number object as well as a primitive.\nif(perc==1){// eslint-disable-line eqeqeq\nperc=this.v.c;}else if(perc==0){// eslint-disable-line eqeqeq\nperc=0.999;}var pt1=this.pointOnPath(perc,time);var pt2=this.pointOnPath(perc+0.001,time);var xLength=pt2[0]-pt1[0];var yLength=pt2[1]-pt1[1];var magnitude=Math.sqrt(Math.pow(xLength,2)+Math.pow(yLength,2));if(magnitude===0){return[0,0];}var unitVector=vectorType==='tangent'?[xLength/magnitude,yLength/magnitude]:[-yLength/magnitude,xLength/magnitude];return unitVector;},tangentOnPath:function tangentOnPath(perc,time){return this.vectorOnPath(perc,time,'tangent');},normalOnPath:function normalOnPath(perc,time){return this.vectorOnPath(perc,time,'normal');},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime};extendPrototype([ShapeExpressions],ShapePropertyConstructorFunction);extendPrototype([ShapeExpressions],KeyframedShapePropertyConstructorFunction);KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime=getShapeValueAtTime;KeyframedShapePropertyConstructorFunction.prototype.initiateExpression=ExpressionManager.initiateExpression;var propertyGetShapeProp=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(elem,data,type,arr,trims){var prop=propertyGetShapeProp(elem,data,type,arr,trims);prop.propertyIndex=data.ix;prop.lock=false;if(type===3){expressionHelpers.searchExpressions(elem,data.pt,prop);}else if(type===4){expressionHelpers.searchExpressions(elem,data.ks,prop);}if(prop.k){elem.addDynamicProperty(prop);}return prop;};}function initialize$1(){addPropertyDecorator();}function addDecorator(){function searchExpressions(){if(this.data.d.x){this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this);this.addEffect(this.getExpressionValue.bind(this));return true;}return null;}TextProperty.prototype.getExpressionValue=function(currentValue,text){var newValue=this.calculateExpression(text);if(currentValue.t!==newValue){var newData={};this.copyData(newData,currentValue);newData.t=newValue.toString();newData.__complete=false;return newData;}return currentValue;};TextProperty.prototype.searchProperty=function(){var isKeyframed=this.searchKeyframes();var hasExpressions=this.searchExpressions();this.kf=isKeyframed||hasExpressions;return this.kf;};TextProperty.prototype.searchExpressions=searchExpressions;}function initialize(){addDecorator();}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function createMergeNode(resultId,ins){var feMerge=createNS('feMerge');feMerge.setAttribute('result',resultId);var feMergeNode;var i;for(i=0;i<ins.length;i+=1){feMergeNode=createNS('feMergeNode');feMergeNode.setAttribute('in',ins[i]);feMerge.appendChild(feMergeNode);feMerge.appendChild(feMergeNode);}return feMerge;}};function SVGTintFilter(filter,filterManager,elem,id,source){this.filterManager=filterManager;var feColorMatrix=createNS('feColorMatrix');feColorMatrix.setAttribute('type','matrix');feColorMatrix.setAttribute('color-interpolation-filters','linearRGB');feColorMatrix.setAttribute('values','0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');feColorMatrix.setAttribute('result',id+'_tint_1');filter.appendChild(feColorMatrix);feColorMatrix=createNS('feColorMatrix');feColorMatrix.setAttribute('type','matrix');feColorMatrix.setAttribute('color-interpolation-filters','sRGB');feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');feColorMatrix.setAttribute('result',id+'_tint_2');filter.appendChild(feColorMatrix);this.matrixFilter=feColorMatrix;var feMerge=this.createMergeNode(id,[source,id+'_tint_1',id+'_tint_2']);filter.appendChild(feMerge);}extendPrototype([SVGComposableEffect],SVGTintFilter);SVGTintFilter.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){var colorBlack=this.filterManager.effectElements[0].p.v;var colorWhite=this.filterManager.effectElements[1].p.v;var opacity=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute('values',colorWhite[0]-colorBlack[0]+' 0 0 0 '+colorBlack[0]+' '+(colorWhite[1]-colorBlack[1])+' 0 0 0 '+colorBlack[1]+' '+(colorWhite[2]-colorBlack[2])+' 0 0 0 '+colorBlack[2]+' 0 0 0 '+opacity+' 0');}};function SVGFillFilter(filter,filterManager,elem,id){this.filterManager=filterManager;var feColorMatrix=createNS('feColorMatrix');feColorMatrix.setAttribute('type','matrix');feColorMatrix.setAttribute('color-interpolation-filters','sRGB');feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');feColorMatrix.setAttribute('result',id);filter.appendChild(feColorMatrix);this.matrixFilter=feColorMatrix;}SVGFillFilter.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){var color=this.filterManager.effectElements[2].p.v;var opacity=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute('values','0 0 0 0 '+color[0]+' 0 0 0 0 '+color[1]+' 0 0 0 0 '+color[2]+' 0 0 0 '+opacity+' 0');}};function SVGStrokeEffect(fil,filterManager,elem){this.initialized=false;this.filterManager=filterManager;this.elem=elem;this.paths=[];}SVGStrokeEffect.prototype.initialize=function(){var elemChildren=this.elem.layerElement.children||this.elem.layerElement.childNodes;var path;var groupPath;var i;var len;if(this.filterManager.effectElements[1].p.v===1){len=this.elem.maskManager.masksProperties.length;i=0;}else{i=this.filterManager.effectElements[0].p.v-1;len=i+1;}groupPath=createNS('g');groupPath.setAttribute('fill','none');groupPath.setAttribute('stroke-linecap','round');groupPath.setAttribute('stroke-dashoffset',1);for(i;i<len;i+=1){path=createNS('path');groupPath.appendChild(path);this.paths.push({p:path,m:i});}if(this.filterManager.effectElements[10].p.v===3){var mask=createNS('mask');var id=createElementID();mask.setAttribute('id',id);mask.setAttribute('mask-type','alpha');mask.appendChild(groupPath);this.elem.globalData.defs.appendChild(mask);var g=createNS('g');g.setAttribute('mask','url('+getLocationHref()+'#'+id+')');while(elemChildren[0]){g.appendChild(elemChildren[0]);}this.elem.layerElement.appendChild(g);this.masker=mask;groupPath.setAttribute('stroke','#fff');}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2){elemChildren=this.elem.layerElement.children||this.elem.layerElement.childNodes;while(elemChildren.length){this.elem.layerElement.removeChild(elemChildren[0]);}}this.elem.layerElement.appendChild(groupPath);this.elem.layerElement.removeAttribute('mask');groupPath.setAttribute('stroke','#fff');}this.initialized=true;this.pathMasker=groupPath;};SVGStrokeEffect.prototype.renderFrame=function(forceRender){if(!this.initialized){this.initialize();}var i;var len=this.paths.length;var mask;var path;for(i=0;i<len;i+=1){if(this.paths[i].m!==-1){mask=this.elem.maskManager.viewData[this.paths[i].m];path=this.paths[i].p;if(forceRender||this.filterManager._mdf||mask.prop._mdf){path.setAttribute('d',mask.lastPath);}if(forceRender||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||mask.prop._mdf){var dasharrayValue;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var s=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*0.01;var e=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*0.01;var l=path.getTotalLength();dasharrayValue='0 0 0 '+l*s+' ';var lineLength=l*(e-s);var segment=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*0.01;var units=Math.floor(lineLength/segment);var j;for(j=0;j<units;j+=1){dasharrayValue+='1 '+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*0.01+' ';}dasharrayValue+='0 '+l*10+' 0 0';}else{dasharrayValue='1 '+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*0.01;}path.setAttribute('stroke-dasharray',dasharrayValue);}}}if(forceRender||this.filterManager.effectElements[4].p._mdf){this.pathMasker.setAttribute('stroke-width',this.filterManager.effectElements[4].p.v*2);}if(forceRender||this.filterManager.effectElements[6].p._mdf){this.pathMasker.setAttribute('opacity',this.filterManager.effectElements[6].p.v);}if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(forceRender||this.filterManager.effectElements[3].p._mdf){var color=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute('stroke','rgb('+bmFloor(color[0]*255)+','+bmFloor(color[1]*255)+','+bmFloor(color[2]*255)+')');}}};function SVGTritoneFilter(filter,filterManager,elem,id){this.filterManager=filterManager;var feColorMatrix=createNS('feColorMatrix');feColorMatrix.setAttribute('type','matrix');feColorMatrix.setAttribute('color-interpolation-filters','linearRGB');feColorMatrix.setAttribute('values','0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');filter.appendChild(feColorMatrix);var feComponentTransfer=createNS('feComponentTransfer');feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');feComponentTransfer.setAttribute('result',id);this.matrixFilter=feComponentTransfer;var feFuncR=createNS('feFuncR');feFuncR.setAttribute('type','table');feComponentTransfer.appendChild(feFuncR);this.feFuncR=feFuncR;var feFuncG=createNS('feFuncG');feFuncG.setAttribute('type','table');feComponentTransfer.appendChild(feFuncG);this.feFuncG=feFuncG;var feFuncB=createNS('feFuncB');feFuncB.setAttribute('type','table');feComponentTransfer.appendChild(feFuncB);this.feFuncB=feFuncB;filter.appendChild(feComponentTransfer);}SVGTritoneFilter.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){var color1=this.filterManager.effectElements[0].p.v;var color2=this.filterManager.effectElements[1].p.v;var color3=this.filterManager.effectElements[2].p.v;var tableR=color3[0]+' '+color2[0]+' '+color1[0];var tableG=color3[1]+' '+color2[1]+' '+color1[1];var tableB=color3[2]+' '+color2[2]+' '+color1[2];this.feFuncR.setAttribute('tableValues',tableR);this.feFuncG.setAttribute('tableValues',tableG);this.feFuncB.setAttribute('tableValues',tableB);}};function SVGProLevelsFilter(filter,filterManager,elem,id){this.filterManager=filterManager;var effectElements=this.filterManager.effectElements;var feComponentTransfer=createNS('feComponentTransfer');// Red\nif(effectElements[10].p.k||effectElements[10].p.v!==0||effectElements[11].p.k||effectElements[11].p.v!==1||effectElements[12].p.k||effectElements[12].p.v!==1||effectElements[13].p.k||effectElements[13].p.v!==0||effectElements[14].p.k||effectElements[14].p.v!==1){this.feFuncR=this.createFeFunc('feFuncR',feComponentTransfer);}// Green\nif(effectElements[17].p.k||effectElements[17].p.v!==0||effectElements[18].p.k||effectElements[18].p.v!==1||effectElements[19].p.k||effectElements[19].p.v!==1||effectElements[20].p.k||effectElements[20].p.v!==0||effectElements[21].p.k||effectElements[21].p.v!==1){this.feFuncG=this.createFeFunc('feFuncG',feComponentTransfer);}// Blue\nif(effectElements[24].p.k||effectElements[24].p.v!==0||effectElements[25].p.k||effectElements[25].p.v!==1||effectElements[26].p.k||effectElements[26].p.v!==1||effectElements[27].p.k||effectElements[27].p.v!==0||effectElements[28].p.k||effectElements[28].p.v!==1){this.feFuncB=this.createFeFunc('feFuncB',feComponentTransfer);}// Alpha\nif(effectElements[31].p.k||effectElements[31].p.v!==0||effectElements[32].p.k||effectElements[32].p.v!==1||effectElements[33].p.k||effectElements[33].p.v!==1||effectElements[34].p.k||effectElements[34].p.v!==0||effectElements[35].p.k||effectElements[35].p.v!==1){this.feFuncA=this.createFeFunc('feFuncA',feComponentTransfer);}// RGB\nif(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA){feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');filter.appendChild(feComponentTransfer);}if(effectElements[3].p.k||effectElements[3].p.v!==0||effectElements[4].p.k||effectElements[4].p.v!==1||effectElements[5].p.k||effectElements[5].p.v!==1||effectElements[6].p.k||effectElements[6].p.v!==0||effectElements[7].p.k||effectElements[7].p.v!==1){feComponentTransfer=createNS('feComponentTransfer');feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');feComponentTransfer.setAttribute('result',id);filter.appendChild(feComponentTransfer);this.feFuncRComposed=this.createFeFunc('feFuncR',feComponentTransfer);this.feFuncGComposed=this.createFeFunc('feFuncG',feComponentTransfer);this.feFuncBComposed=this.createFeFunc('feFuncB',feComponentTransfer);}}SVGProLevelsFilter.prototype.createFeFunc=function(type,feComponentTransfer){var feFunc=createNS(type);feFunc.setAttribute('type','table');feComponentTransfer.appendChild(feFunc);return feFunc;};SVGProLevelsFilter.prototype.getTableValue=function(inputBlack,inputWhite,gamma,outputBlack,outputWhite){var cnt=0;var segments=256;var perc;var min=Math.min(inputBlack,inputWhite);var max=Math.max(inputBlack,inputWhite);var table=Array.call(null,{length:segments});var colorValue;var pos=0;var outputDelta=outputWhite-outputBlack;var inputDelta=inputWhite-inputBlack;while(cnt<=256){perc=cnt/256;if(perc<=min){colorValue=inputDelta<0?outputWhite:outputBlack;}else if(perc>=max){colorValue=inputDelta<0?outputBlack:outputWhite;}else{colorValue=outputBlack+outputDelta*Math.pow((perc-inputBlack)/inputDelta,1/gamma);}table[pos]=colorValue;pos+=1;cnt+=256/(segments-1);}return table.join(' ');};SVGProLevelsFilter.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){var val;var effectElements=this.filterManager.effectElements;if(this.feFuncRComposed&&(forceRender||effectElements[3].p._mdf||effectElements[4].p._mdf||effectElements[5].p._mdf||effectElements[6].p._mdf||effectElements[7].p._mdf)){val=this.getTableValue(effectElements[3].p.v,effectElements[4].p.v,effectElements[5].p.v,effectElements[6].p.v,effectElements[7].p.v);this.feFuncRComposed.setAttribute('tableValues',val);this.feFuncGComposed.setAttribute('tableValues',val);this.feFuncBComposed.setAttribute('tableValues',val);}if(this.feFuncR&&(forceRender||effectElements[10].p._mdf||effectElements[11].p._mdf||effectElements[12].p._mdf||effectElements[13].p._mdf||effectElements[14].p._mdf)){val=this.getTableValue(effectElements[10].p.v,effectElements[11].p.v,effectElements[12].p.v,effectElements[13].p.v,effectElements[14].p.v);this.feFuncR.setAttribute('tableValues',val);}if(this.feFuncG&&(forceRender||effectElements[17].p._mdf||effectElements[18].p._mdf||effectElements[19].p._mdf||effectElements[20].p._mdf||effectElements[21].p._mdf)){val=this.getTableValue(effectElements[17].p.v,effectElements[18].p.v,effectElements[19].p.v,effectElements[20].p.v,effectElements[21].p.v);this.feFuncG.setAttribute('tableValues',val);}if(this.feFuncB&&(forceRender||effectElements[24].p._mdf||effectElements[25].p._mdf||effectElements[26].p._mdf||effectElements[27].p._mdf||effectElements[28].p._mdf)){val=this.getTableValue(effectElements[24].p.v,effectElements[25].p.v,effectElements[26].p.v,effectElements[27].p.v,effectElements[28].p.v);this.feFuncB.setAttribute('tableValues',val);}if(this.feFuncA&&(forceRender||effectElements[31].p._mdf||effectElements[32].p._mdf||effectElements[33].p._mdf||effectElements[34].p._mdf||effectElements[35].p._mdf)){val=this.getTableValue(effectElements[31].p.v,effectElements[32].p.v,effectElements[33].p.v,effectElements[34].p.v,effectElements[35].p.v);this.feFuncA.setAttribute('tableValues',val);}}};function SVGDropShadowEffect(filter,filterManager,elem,id,source){var filterSize=filterManager.container.globalData.renderConfig.filterSize;filter.setAttribute('x',filterSize.x);filter.setAttribute('y',filterSize.y);filter.setAttribute('width',filterSize.width);filter.setAttribute('height',filterSize.height);this.filterManager=filterManager;var feGaussianBlur=createNS('feGaussianBlur');feGaussianBlur.setAttribute('in','SourceAlpha');feGaussianBlur.setAttribute('result',id+'_drop_shadow_1');feGaussianBlur.setAttribute('stdDeviation','0');this.feGaussianBlur=feGaussianBlur;filter.appendChild(feGaussianBlur);var feOffset=createNS('feOffset');feOffset.setAttribute('dx','25');feOffset.setAttribute('dy','0');feOffset.setAttribute('in',id+'_drop_shadow_1');feOffset.setAttribute('result',id+'_drop_shadow_2');this.feOffset=feOffset;filter.appendChild(feOffset);var feFlood=createNS('feFlood');feFlood.setAttribute('flood-color','#00ff00');feFlood.setAttribute('flood-opacity','1');feFlood.setAttribute('result',id+'_drop_shadow_3');this.feFlood=feFlood;filter.appendChild(feFlood);var feComposite=createNS('feComposite');feComposite.setAttribute('in',id+'_drop_shadow_3');feComposite.setAttribute('in2',id+'_drop_shadow_2');feComposite.setAttribute('operator','in');feComposite.setAttribute('result',id+'_drop_shadow_4');filter.appendChild(feComposite);var feMerge=this.createMergeNode(id,[id+'_drop_shadow_4',source]);filter.appendChild(feMerge);//\n}extendPrototype([SVGComposableEffect],SVGDropShadowEffect);SVGDropShadowEffect.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){if(forceRender||this.filterManager.effectElements[4].p._mdf){this.feGaussianBlur.setAttribute('stdDeviation',this.filterManager.effectElements[4].p.v/4);}if(forceRender||this.filterManager.effectElements[0].p._mdf){var col=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute('flood-color',rgbToHex(Math.round(col[0]*255),Math.round(col[1]*255),Math.round(col[2]*255)));}if(forceRender||this.filterManager.effectElements[1].p._mdf){this.feFlood.setAttribute('flood-opacity',this.filterManager.effectElements[1].p.v/255);}if(forceRender||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var distance=this.filterManager.effectElements[3].p.v;var angle=(this.filterManager.effectElements[2].p.v-90)*degToRads;var x=distance*Math.cos(angle);var y=distance*Math.sin(angle);this.feOffset.setAttribute('dx',x);this.feOffset.setAttribute('dy',y);}}};var _svgMatteSymbols=[];function SVGMatte3Effect(filterElem,filterManager,elem){this.initialized=false;this.filterManager=filterManager;this.filterElem=filterElem;this.elem=elem;elem.matteElement=createNS('g');elem.matteElement.appendChild(elem.layerElement);elem.matteElement.appendChild(elem.transformedElement);elem.baseElement=elem.matteElement;}SVGMatte3Effect.prototype.findSymbol=function(mask){var i=0;var len=_svgMatteSymbols.length;while(i<len){if(_svgMatteSymbols[i]===mask){return _svgMatteSymbols[i];}i+=1;}return null;};SVGMatte3Effect.prototype.replaceInParent=function(mask,symbolId){var parentNode=mask.layerElement.parentNode;if(!parentNode){return;}var children=parentNode.children;var i=0;var len=children.length;while(i<len){if(children[i]===mask.layerElement){break;}i+=1;}var nextChild;if(i<=len-2){nextChild=children[i+1];}var useElem=createNS('use');useElem.setAttribute('href','#'+symbolId);if(nextChild){parentNode.insertBefore(useElem,nextChild);}else{parentNode.appendChild(useElem);}};SVGMatte3Effect.prototype.setElementAsMask=function(elem,mask){if(!this.findSymbol(mask)){var symbolId=createElementID();var masker=createNS('mask');masker.setAttribute('id',mask.layerId);masker.setAttribute('mask-type','alpha');_svgMatteSymbols.push(mask);var defs=elem.globalData.defs;defs.appendChild(masker);var symbol=createNS('symbol');symbol.setAttribute('id',symbolId);this.replaceInParent(mask,symbolId);symbol.appendChild(mask.layerElement);defs.appendChild(symbol);var useElem=createNS('use');useElem.setAttribute('href','#'+symbolId);masker.appendChild(useElem);mask.data.hd=false;mask.show();}elem.setMatte(mask.layerId);};SVGMatte3Effect.prototype.initialize=function(){var ind=this.filterManager.effectElements[0].p.v;var elements=this.elem.comp.elements;var i=0;var len=elements.length;while(i<len){if(elements[i]&&elements[i].data.ind===ind){this.setElementAsMask(this.elem,elements[i]);}i+=1;}this.initialized=true;};SVGMatte3Effect.prototype.renderFrame=function(){if(!this.initialized){this.initialize();}};function SVGGaussianBlurEffect(filter,filterManager,elem,id){// Outset the filter region by 100% on all sides to accommodate blur expansion.\nfilter.setAttribute('x','-100%');filter.setAttribute('y','-100%');filter.setAttribute('width','300%');filter.setAttribute('height','300%');this.filterManager=filterManager;var feGaussianBlur=createNS('feGaussianBlur');feGaussianBlur.setAttribute('result',id);filter.appendChild(feGaussianBlur);this.feGaussianBlur=feGaussianBlur;}SVGGaussianBlurEffect.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){// Empirical value, matching AE's blur appearance.\nvar kBlurrinessToSigma=0.3;var sigma=this.filterManager.effectElements[0].p.v*kBlurrinessToSigma;// Dimensions mapping:\n//\n//   1 -> horizontal & vertical\n//   2 -> horizontal only\n//   3 -> vertical only\n//\nvar dimensions=this.filterManager.effectElements[1].p.v;var sigmaX=dimensions==3?0:sigma;// eslint-disable-line eqeqeq\nvar sigmaY=dimensions==2?0:sigma;// eslint-disable-line eqeqeq\nthis.feGaussianBlur.setAttribute('stdDeviation',sigmaX+' '+sigmaY);// Repeat edges mapping:\n//\n//   0 -> off -> duplicate\n//   1 -> on  -> wrap\nvar edgeMode=this.filterManager.effectElements[2].p.v==1?'wrap':'duplicate';// eslint-disable-line eqeqeq\nthis.feGaussianBlur.setAttribute('edgeMode',edgeMode);}};registerRenderer('canvas',CanvasRenderer);registerRenderer('html',HybridRenderer);registerRenderer('svg',SVGRenderer);// Registering shape modifiers\nShapeModifiers.registerModifier('tm',TrimModifier);ShapeModifiers.registerModifier('pb',PuckerAndBloatModifier);ShapeModifiers.registerModifier('rp',RepeaterModifier);ShapeModifiers.registerModifier('rd',RoundCornersModifier);// Registering expression plugin\nsetExpressionsPlugin(Expressions);initialize$1();initialize();// Registering svg effects\nregisterEffect(20,SVGTintFilter,true);registerEffect(21,SVGFillFilter,true);registerEffect(22,SVGStrokeEffect,false);registerEffect(23,SVGTritoneFilter,true);registerEffect(24,SVGProLevelsFilter,true);registerEffect(25,SVGDropShadowEffect,true);registerEffect(28,SVGMatte3Effect,false);registerEffect(29,SVGGaussianBlurEffect,true);return lottie;});","map":{"version":3,"sources":["C:/Users/Administrator/Desktop/data_view/my_project/vue2_app/myapp/node_modules/lottie-web/build/player/lottie.js"],"names":["navigator","global","factory","exports","module","define","amd","globalThis","self","lottie","svgNS","locationHref","_useWebWorker","initialDefaultFrame","setWebWorker","flag","getWebWorker","setLocationHref","value","getLocationHref","createTag","type","document","createElement","extendPrototype","sources","destination","i","len","length","sourcePrototype","prototype","attr","Object","hasOwnProperty","call","getDescriptor","object","prop","getOwnPropertyDescriptor","createProxyFunction","ProxyFunction","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","push","pause","resume","setRate","rateValue","createAudio","assetPath","window","Howl","src","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","createTypedArray","createRegularArray","arr","createTypedArrayFactory","Float32Array","Int16Array","Uint8ClampedArray","createSizedArray","Array","apply","_typeof$6","obj","Symbol","iterator","_typeof","constructor","subframeEnabled","expressionsPlugin","idPrefix$1","isSafari","test","userAgent","_shouldRoundValues","bmPow","Math","pow","bmSqrt","sqrt","bmFloor","floor","bmMax","max","bmMin","min","BMMath","propertyNames","ProjectInterface$1","random","abs","val","tOfVal","absArr","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","bmRnd","round","styleDiv","element","style","position","top","left","display","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","direction","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","target","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","createID","HSVtoRGB","h","s","v","r","g","b","f","p","q","t","RGBtoHSV","d","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","colorMap","hex","toString","setSubframeEnabled","getSubframeEnabled","setExpressionsPlugin","getExpressionsPlugin","setDefaultCurveSegments","getDefaultCurveSegments","setIdPrefix","getIdPrefix","createNS","createElementNS","_typeof$5","dataManager","_counterId","processes","workerFn","workerInstance","workerProxy","onmessage","postMessage","path","data","_workerSelf","createWorker","fn","Worker","Blob","blob","url","URL","createObjectURL","setupWorker","workerStart","e","dataFunctionManager","completeLayers","layers","comps","layerData","j","jLen","k","kLen","completed","tt","td","hasMask","maskProps","masksProperties","pt","convertPathsToAbsoluteValues","ty","findCompLayers","refId","completeShapes","shapes","completeText","completeChars","chars","assets","findComp","id","comp","__used","JSON","parse","stringify","ks","it","o","checkVersion","minimum","animVersionString","animVersion","split","checkText","minimumVersion","updateTextLayer","textLayer","documentData","iterateLayers","animationData","checkChars","charData","ip","op","st","sr","a","sk","sa","checkPathProperties","pathData","checkColors","iterateShapes","c","checkShapes","completeClosingShapes","closed","cl","completeData","__complete","moduleOb","assetLoader","formatResponse","xhr","contentTypeHeader","getResponseHeader","responseType","indexOf","response","responseText","loadAsset","fullPath","callback","errorCallback","XMLHttpRequest","err","onreadystatechange","readyState","status","open","error","send","load","payload","animation","event","process","onComplete","onError","createProcess","loadAnimation","processId","location","origin","pathname","loadData","completeAnimation","anim","ImagePreloader","proxyImage","canvas","width","height","ctx","getContext","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","img","intervalId","setInterval","box","getBBox","_imageLoaded","clearInterval","bind","createImageData","addEventListener","ob","setAttributeNS","_elementHelper","append","appendChild","createImgData","crossOrigin","createFootageData","footageData","_footageLoaded","loadAssets","cb","images","_createImageData","setPath","setAssetsPath","getAsset","destroy","loadedImages","loadedFootages","setCacheType","elementHelper","ImagePreloaderFactory","BaseEvent","triggerEvent","eventName","args","_cbs","callbacks","removeEventListener","splice","markerParser","parsePayloadLines","lines","keys","line","keysCount","trim","Error","_markers","markers","_marker","markerData","time","tm","duration","dr","cm","_","__","name","ProjectInterface","registerComposition","compositions","_thisProjectFunction","nm","prepareFrame","xt","currentFrame","compInterface","renderers","registerRenderer","key","getRenderer","_typeof$4","AnimationItem","isLoaded","currentRawFrame","frameRate","frameMult","playSpeed","playDirection","playCount","isPaused","autoplay","loop","renderer","animationID","timeCompleted","segmentPos","isSubframeEnabled","segments","_idle","_completedLoop","projectInterface","imagePreloader","audioController","configAnimation","onSetupError","onSegmentComplete","drawnFrameEvent","setParams","params","wrapper","container","animType","RendererClass","rendererSettings","globalData","defs","setProjectInterface","undefined","parseInt","autoloadSegments","initialSegment","setupAnimation","lastIndexOf","substr","fileName","trigger","setData","wrapperAttributes","attributes","getNamedItem","prerender","includeLayers","newLayers","fonts","fontManager","addChars","addFonts","initExpressions","loadNextSegment","segment","shift","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","animData","fr","searchExtraCompositions","updaFrameModifier","waitForFontsLoaded","triggerConfigError","setTimeout","rendererType","initItems","gotoFrame","resize","updateContainerSize","setSubframe","renderFrame","triggerRenderFrameError","togglePause","stop","setCurrentRawFrameValue","getMarkerData","markerName","marker","goToAndStop","isFrame","numValue","Number","isNaN","frameModifier","goToAndPlay","playSegments","advanceTime","nextValue","_isComplete","checkSegments","adjustSegment","setSpeed","setDirection","setSegment","init","end","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onSegmentStart","onDestroy","getPath","getAssetData","hide","show","getDuration","updateDocumentData","index","getElementByPath","animationManager","registeredAnimations","initTime","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","subtractPlayingCount","registerAnimation","elem","getRegisteredAnimations","lenAnims","animations","addPlayingCount","activate","nowTime","elapsedTime","requestAnimationFrame","first","searchAnimations","standalone","animElements","concat","slice","getElementsByClassName","setAttribute","body","getElementsByTagName","innerText","div","freeze","unfreeze","BezierFactory","getBezierEasing","beziers","str","replace","bezEasing","BezierEasing","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","newtonRaphsonIterate","aGuessT","currentSlope","points","_p","_mSampleValues","_precomputed","get","x","mY1","mY2","_precompute","_getTForX","_calcSampleValues","mSampleValues","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","pooling","_double","poolFactory","initialLength","_create","_release","_length","_maxLength","pool","newElement","release","bezierLengthPool","create","addedLength","percents","lengths","segmentsLengthPool","totalLength","bezFunction","math","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","pointOnLine3D","z1","z2","z3","dist1","dist2","dist3","diffDist","getBezierLength","pt1","pt2","pt3","pt4","curveSegments","ptCoord","perc","ptDistance","point","lastPoint","lengthData","getSegmentsLength","shapeData","segmentsLength","pathV","pathO","pathI","BezierData","segmentLength","PointData","partial","partialLength","buildBezierData","storedData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","getPointInSegment","percent","t1","u1","ptX","ptY","bezierSegmentPoints","getNewSegment","startPerc","endPerc","t0","u0","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","bez","PropertyFactory","initFrame","mathAbs","interpolateValue","frameNum","caching","offsetTime","newValue","propType","pv","iterationIndex","lastIndex","keyframes","keyData","nextKeyData","keyframeMetadata","keyframesMetadata","fnc","nextKeyTime","keyTime","endValue","to","ti","ind","__fnct","y","n","distanceInLine","segmentPerc","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quatStart","createQuaternion","quatEnd","quaternionToEuler","slerp","out","ax","ay","az","aw","bx","by","bz","bw","omega","cosom","sinom","scale0","scale1","acos","sin","quat","qx","qy","qz","qw","heading","atan2","attitude","asin","bank","values","c1","cos","c2","c3","s1","s2","s3","w","z","getValueAtCurrentTime","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","_mdf","processEffectsSequence","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","addDynamicProperty","ValueProperty","vel","getValue","MultiDimensionalProperty","KeyframedValueProperty","KeyframedMultidimensionalProperty","arrLen","getProp","DynamicPropertyContainer","dynamicProperties","_isAnimated","iterateDynamicProperties","initDynamicPropertyContainer","pointPool","ShapePath","setPathData","setLength","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","cnt","shapePool","shapePath","clone","shape","cloned","ShapeCollection","addShape","releaseShapes","shapeCollectionPool","newShapeCollection","shapeCollection","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","paths","localShapeCollection","shapesEqual","shape1","shape2","ShapeProperty","reset","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","p0","p1","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","sy","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","or","os","numPts","angle","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","rad","roundness","perimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","v1","getShapeProp","dataProp","getConstructorFunction","getKeyframedConstructorFunction","Matrix","_cos","_sin","_tan","tan","_rnd","props","rotate","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","skew","skewFromAxis","scale","sz","setTransform","l","m","translate","tx","tz","transform","a2","b2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_identityCalculated","a1","b1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","_a","_b","_c","_d","_e","_f","_typeof$3","setLocation","href","setSubframeRendering","setPrefix","prefix","setQuality","inBrowser","installPlugin","plugin","getFactory","useWebWorker","setIDPrefix","__getFactory","version","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","scripts","myScript","bodymovin","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","initModifierProperties","addShapeToModifier","setAsAnimated","processKeys","TrimModifier","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","shapeSegments","segmentOb","shapeS","shapeE","releasePathsData","processShapes","_s","shapePaths","totalShapeLength","edges","newShapesData","addShapes","lastShapeInCollection","lastShape","pop","addPaths","newPaths","addSegment","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","PuckerAndBloatModifier","amount","processPath","centerPoint","pathLength","clonedPath","TransformPropertyFactory","defaultVector","applyToMatrix","mat","rz","ry","rx","px","py","pz","forceRender","_isDirty","precalculateMatrix","pre","appliedTransformations","autoOriented","v2","getValueAtTime","autoOrient","_addDynamicProperty","TransformProperty","getTransformProperty","RepeaterModifier","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","hasReloaded","copies","ceil","group","ix","reloadShapes","elems","transformData","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","RoundCornersModifier","rd","currentV","currentI","currentO","closerV","distance","newPosPerc","getFontProperties","fontData","styles","fStyle","fWeight","styleName","toLowerCase","weight","FontManager","maxWaitingTime","emptyChar","size","combinedCharacters","surrogateModifiers","zeroWidthJoiner","trimFontOptions","font","familyArray","enabledFamilies","join","setUpNode","family","parentNode","fontFamily","node","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","offsetWidth","parent","checkLoadedFonts","loadedCount","loaded","fOrigin","monoCase","sansCase","removeChild","Date","now","checkLoadedFontsBinded","setIsLoadedBinded","createHelper","def","engine","helper","fontProps","tHelper","fFamily","textContent","fClass","tCanvasHelper","OffscreenCanvas","measure","text","getComputedTextLength","measureText","list","forEach","cache","fontArr","_pendingFonts","shouldLoadFont","loadedSelector","fPath","querySelectorAll","rel","sc","found","ch","getCharData","_char","charCodeAt","console","warn","_warned","_char2","fontName","getFontByName","doubleSize","singleSize","fName","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","isCombinedCharacter","_char3","setIsLoaded","Font","typekitLoaded","fontPrototype","RenderableElement","initRenderable","isInRange","hidden","isTransparent","renderableComponents","addRenderableComponent","component","removeRenderableComponent","prepareRenderableFrame","num","checkLayerLimits","checkTransparency","finalTransform","mProp","renderConfig","hideOnTransparent","renderRenderable","sourceRectAtTime","getLayerSize","textData","MaskManagerInterface","MaskInterface","mask","_mask","_data","defineProperty","MaskManager","maskManager","_masksInterfaces","viewData","maskFunction","ExpressionPropertyInterface","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","property","getVelocityAtTime","numKeys","valueProp","assign","valueAtTime","speedAtTime","getSpeedAtTime","velocityAtTime","propertyGroup","UnidimensionalPropertyInterface","MultidimensionalPropertyInterface","arrValue","defaultGetter","TransformExpressionInterface","_thisFunction","rotation","xRotation","yRotation","xPosition","yPosition","zPosition","anchorPoint","opacity","_px","_py","_pz","_transformFactory","LayerExpressionInterface","getMatrix","toWorldMat","propMatrix","_elem","transformMat","toWorldVec","applyPoint","toWorld","fromWorldVec","invertPoint","fromWorld","hierarchy","fromComp","sampleImage","transformInterface","_registerMaskInterface","_thisLayerFunction","_registerEffectsInterface","effects","effect","shapeInterface","textInterface","toComp","anchorPointDescriptor","defineProperties","hasParent","layerInterface","anchor_point","active","startTime","source","inPoint","outPoint","_name","registerMaskInterface","registerEffectsInterface","propertyGroupFactory","interfaceFunction","parentPropertyGroup","PropertyInterface","propertyName","_propertyGroup","EffectsExpressionInterface","createEffectsInterface","effectsManager","effectElements","effectsData","ef","createGroupInterface","groupInterface","mn","createValueInterface","numProperties","np","enabled","en","expressionProperty","setGroupProperty","CompExpressionInterface","layer","pixelAspect","compSize","frameDuration","displayStartTime","numLayers","ShapePathInterface","pathInterfaceFactory","view","propertyIndex","ShapeExpressionInterface","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","gradientFillInterfaceFactory","defaultInterfaceFactory","contentsInterfaceFactory","interfaces","_interfaceFunction","transformInterfaceFactory","cix","content","startPoint","endPoint","_dashPropertyGroup","dashOb","addPropertyToDashOb","dataProps","strokeWidth","dash","start","skewAxis","outerRadius","outerRoundness","innerRadius","innerRoundness","radius","parentGroupWrapper","TextExpressionInterface","_prevValue","_sourceText","sourceText","textProperty","stringValue","currentData","String","getBlendMode","blendModeEnums","mode","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","EffectsManager","effectItem","GroupEffect","eff","BaseElement","checkMasks","effectsInterface","shapesData","itemsData","setBlendMode","blendModeValue","bm","baseElement","layerElement","initBaseData","layerId","getType","FrameElement","prepareProperties","isVisible","_isParent","_typeof$2","FootageInterface","outlineInterfaceFactory","currentPropertyName","currentProperty","getFootageData","searchProperty","propertyNameIndex","dataInterfaceFactory","outlineInterface","dataInterface","FootageElement","imageLoader","getBaseElement","AudioElement","_isPlaying","_canPlay","_currentTime","_volumeMultiplier","_previousVolume","_placeholder","lv","au","timeRemapped","totalVolume","volumeValue","BaseRenderer","checkLayers","buildItem","checkPendingElements","createItem","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","buildAllItems","pInterface","progressiveLoad","buildElementParenting","parentName","addPendingElement","setAsParent","setHierarchy","pendingElements","pathValue","setupGlobalData","fontsContainer","animationItem","TransformElement","initTransform","_matMdf","_opMdf","ao","renderTransform","finalMat","globalToLocal","transforms","ptNew","mHelper","MaskElement","maskElement","solidPath","properties","count","currentMasks","rect","expansor","feMorph","maskType","maskRef","lastPath","filterID","expan","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","getMaskProperty","isFirstFrame","getMaskelement","pathNodes","pathString","pathShapeValue","filtersFactory","createFilter","createAlphaToLuminanceFilter","filId","skipCoordinates","fil","feColorMatrix","featureSupport","registeredEffects","idPrefix","SVGEffects","filters","filterManager","Effect","countsAsEffect","registerEffect","SVGBaseElement","initRendererElement","createContainerElements","matteElement","transformedElement","_sizeChanged","layerElementParent","gg","masker","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","hd","cp","clipId","cpGroup","renderElement","destroyBaseElement","createRenderableComponents","renderableEffectsManager","setMatte","HierarchyElement","initHierarchy","checkParenting","RenderableDOMElement","_prototype","initElement","createContent","renderInnerContent","innerElem","IImageElement","sourceRect","pr","imagePreserveAspectRatio","ProcessedElement","IShapeElement","addShapeToModifiers","shapeModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","shouldBreakProcess","searchProcessedElement","processedElements","addProcessedElement","lineCapEnum","lineJoinEnum","SVGShapeData","transformers","level","caches","lStr","lvl","SVGStyleData","pElem","msElem","DashProperty","dashStr","dashArray","dashoffset","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGNoStyleData","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","comparePoints","diff","SVGGradientFillStyleData","initGradientData","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","maskId","opFill","lc","lj","ml","of","ms","ost","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","SVGTransformData","buildShapeString","_o","_i","shapeString","SVGElementsRenderer","_identityMatrix","_matrixHelper","createRenderFunction","renderFill","renderGradient","renderGradientStroke","renderStroke","renderPath","renderContentTransform","renderNoop","styleData","itemData","pathStringTransformed","redraw","lLen","iterations","styleElem","hasOpacity","attr1","attr2","cValues","oValues","ang","SVGShapeElement","stylesList","animatedContents","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","GradientConstructor","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","shapeProperty","setElementStyles","render","ownStyles","ownModifiers","currentTransform","modifier","processedPos","renderShape","animatedContent","LetterProps","sw","fc","update","updated","TextProperty","_frameId","keysIndex","canResize","minimumFontSize","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","completeTextData","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","charactersArray","charCode","shouldCombine","charAt","letters","newLineFlag","anchorGrouping","currentSize","currentPos","currentLine","lineWidth","maxLineWidth","trackingOffset","boxHeight","currentHeight","lastSpaceIndex","uncollapsedSpaces","currentChar","an","add","anIndexes","animatorJustifyOffset","extra","animators","animatorData","letterData","based","indexes","fh","fs","fb","rn","totalChars","currentInd","newInd","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorProp","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","sm","getMult","easer","tot","smoothness","threshold","newCharsFlag","divisor","getTextSelectorProp","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","TextAnimatorProperty","renderType","_hasMaskedPath","_textData","_renderType","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","searchProperties","getMeasures","matrixHelper","renderedLettersCount","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","tLength","pi","yOff","firstLine","animatorSelector","letterValue","offf","xPathPos","yPathPos","initPathPos","initSegmentInd","initPointInd","elemOpacity","letterSw","letterSc","letterFc","letterM","letterP","defaultPropsArray","letterO","animatorFirstCharOffset","justifyOffsetMult","isNewLine","animatorOffset","rot","atan","ITextElement","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","emptyShapeData","SVGTextLottieElement","textSpans","singleShape","textContainer","buildTextContents","textArray","textContents","currentTextContent","fromCharCode","buildShapeData","shapeItem","usesGlyphs","tSpan","tElement","justify","span","glyph","cachedSpansLength","childSpan","glyphElement","SVGCompElement","_debug","textBox","bbox","renderedLetter","textSpan","ISolidElement","NullElement","SVGRendererBase","svgElement","viewBoxSize","viewBoxOnly","contentVisibility","className","focusable","preserveAspectRatio","destroyed","appendElementInPos","nextElement","insertBefore","ICompElement","setElements","getElements","destroyElements","supports3d","SVGRenderer","config","ariaLabel","title","titleElement","titleId","description","descElement","descId","filterSize","CVContextData","saved","cArrPos","cTr","cO","savedOp","duplicate","newLength","currentSavedOp","set","ShapeTransformManager","sequences","sequenceList","transform_key_count","addTransformSequence","sequence","processSequence","processSequences","getNewKey","CVEffects","CVMaskElement","hasMasks","canvasContext","beginPath","moveTo","lineTo","bezierCurveTo","save","clip","CVBaseElement","createElements","blendMode","globalCompositeOperation","hideElement","showElement","forceRealStack","ctxTransform","ctxOpacity","restore","CVShapeData","transformsManager","styledShapes","styledShape","trNodes","CVShapeElement","transformHelper","dashResetter","preTransforms","co","wi","da","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","currentGlobalAlpha","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","closePath","stroke","fill","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","CVTextElement","currentRender","sWidth","fValue","hasFill","hasStroke","commands","pathArr","commandsCounter","lastFill","lastStroke","lastStrokeW","CVImageElement","imgW","imgH","imgRel","canvasRel","widthCrop","heightCrop","par","drawImage","CVSolidElement","CanvasRendererBase","clearCanvas","context","dpr","devicePixelRatio","contextData","cProps","trProps","globalAlpha","actionFlag","popped","containerStyle","mozTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","offsetHeight","elementRel","animationRel","fillType","clearRect","CVCompElement","CanvasRenderer","HBaseElement","checkBlendMode","tg","transformedElementStyle","matrixValue","webkitTransform","addEffects","HSolidElement","backgroundColor","HShapeElement","shapesContainer","currentBBox","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","item","boundingBox","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","bounds","shapeBoundingBox","xMax","right","yMax","bottom","tempBoundingBox","p3","b2ac","t2","calculateF","calculateBoundingBox","currentBoxContains","changed","shapeStyle","shapeTransform","HTextElement","textPaths","isMasked","compW","compH","innerElemStyle","textColor","lineHeight","tParent","tCont","children","tContStyle","tContTranslation","tStyle","tSpanTranslation","svgStyle","translation","textPath","margin","svgTransform","HCameraElement","pe","_prevMat","setup","threeDElements","perspectiveStyle","perspectiveElem","perspective","webkitPerspective","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","mRotationX","mRotationY","hasMatrixChanged","matValue","HImageElement","Image","imageElem","HybridRendererBase","camera","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","tmpDOMElement","getThreeDContainerByPos","startPos","endPos","createThreeDContainer","center","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","overflow","svg","cWidth","cHeight","floatingContainer","HCompElement","_createBaseContainerElements","HybridRenderer","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","_typeof$1","seedRandom","chunks","digits","rngname","startdenom","significance","nodecrypto","seedrandom","seed","options","entropy","shortseed","mixkey","flatten","tostring","autoseed","arc4","ARC4","prng","int32","quick","S","pass","is_math_call","state","copy","keylen","me","depth","result","typ","stringseed","smear","randomBytes","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","screen","initialize$2","propTypes","SHAPE","ExpressionManager","fetch","frames","$bm_isInstanceOfArray","isNumerable","tOfV","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","rndm","createPath","inTangents","outTangents","arrPlaceholder","inVertexPoint","outVertexPoint","initiateExpression","needsVelocity","_needsRandom","elemType","$bm_transform","thisProperty","loopIn","loop_in","loopOut","loop_out","smooth","fromCompToSurface","thisLayer","thisComp","scoped_bm_rt","expression_function","eval","wiggle","freq","amp","iWiggle","lenWiggle","addedAmps","periods","loopInDuration","loopOutDuration","lookAt","elem1","elem2","fVec","pitch","yaw","easeOut","val1","val2","applyEase","easeIn","ease","iKey","lenKey","nearestKey","obKey","framesToTime","fps","timeToFrames","randSeed","substring","posterizeTime","framesPerSecond","velocity","textIndex","textTotal","selectorValue","executeExpression","_value","frameExpressionId","__preventDeadCodeRemoval","expressionHelpers","searchExpressions","_cachingAtTime","delta","speed","getStaticValueAtTime","addPropertyDecorator","durationFlag","lastKeyFrame","cycleDuration","firstKeyFrame","ret","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","endFrame","sampleFrequency","sampleValue","getTransformValueAtTime","_transformCachingAtTime","anchor","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","getShapeValueAtTime","shapeValue","lastTime","ShapePropertyConstructorFunction","KeyframedShapePropertyConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","unitVector","tangentOnPath","normalOnPath","propertyGetShapeProp","trims","initialize$1","addDecorator","calculateExpression","getExpressionValue","isKeyframed","hasExpressions","initialize","SVGComposableEffect","createMergeNode","resultId","ins","feMerge","feMergeNode","SVGTintFilter","filter","matrixFilter","colorBlack","colorWhite","SVGFillFilter","SVGStrokeEffect","initialized","elemChildren","childNodes","groupPath","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","color1","color2","color3","tableR","tableG","tableB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","table","colorValue","outputDelta","inputDelta","SVGDropShadowEffect","feGaussianBlur","feOffset","feFlood","feComposite","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","SVGGaussianBlurEffect","kBlurrinessToSigma","sigma","dimensions","sigmaX","sigmaY","edgeMode"],"mappings":"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","sourcesContent":["(typeof navigator !== \"undefined\") && (function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.lottie = factory());\n})(this, (function () { 'use strict';\n\n  var svgNS = 'http://www.w3.org/2000/svg';\n  var locationHref = '';\n  var _useWebWorker = false;\n  var initialDefaultFrame = -999999;\n\n  var setWebWorker = function setWebWorker(flag) {\n    _useWebWorker = !!flag;\n  };\n\n  var getWebWorker = function getWebWorker() {\n    return _useWebWorker;\n  };\n\n  var setLocationHref = function setLocationHref(value) {\n    locationHref = value;\n  };\n\n  var getLocationHref = function getLocationHref() {\n    return locationHref;\n  };\n\n  function createTag(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElement(type);\n  }\n\n  function extendPrototype(sources, destination) {\n    var i;\n    var len = sources.length;\n    var sourcePrototype;\n\n    for (i = 0; i < len; i += 1) {\n      sourcePrototype = sources[i].prototype;\n\n      for (var attr in sourcePrototype) {\n        if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\n      }\n    }\n  }\n\n  function getDescriptor(object, prop) {\n    return Object.getOwnPropertyDescriptor(object, prop);\n  }\n\n  function createProxyFunction(prototype) {\n    function ProxyFunction() {}\n\n    ProxyFunction.prototype = prototype;\n    return ProxyFunction;\n  }\n\n  // import Howl from '../../3rd_party/howler';\n  var audioControllerFactory = function () {\n    function AudioController(audioFactory) {\n      this.audios = [];\n      this.audioFactory = audioFactory;\n      this._volume = 1;\n      this._isMuted = false;\n    }\n\n    AudioController.prototype = {\n      addAudio: function addAudio(audio) {\n        this.audios.push(audio);\n      },\n      pause: function pause() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].pause();\n        }\n      },\n      resume: function resume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].resume();\n        }\n      },\n      setRate: function setRate(rateValue) {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].setRate(rateValue);\n        }\n      },\n      createAudio: function createAudio(assetPath) {\n        if (this.audioFactory) {\n          return this.audioFactory(assetPath);\n        }\n\n        if (window.Howl) {\n          return new window.Howl({\n            src: [assetPath]\n          });\n        }\n\n        return {\n          isPlaying: false,\n          play: function play() {\n            this.isPlaying = true;\n          },\n          seek: function seek() {\n            this.isPlaying = false;\n          },\n          playing: function playing() {},\n          rate: function rate() {},\n          setVolume: function setVolume() {}\n        };\n      },\n      setAudioFactory: function setAudioFactory(audioFactory) {\n        this.audioFactory = audioFactory;\n      },\n      setVolume: function setVolume(value) {\n        this._volume = value;\n\n        this._updateVolume();\n      },\n      mute: function mute() {\n        this._isMuted = true;\n\n        this._updateVolume();\n      },\n      unmute: function unmute() {\n        this._isMuted = false;\n\n        this._updateVolume();\n      },\n      getVolume: function getVolume() {\n        return this._volume;\n      },\n      _updateVolume: function _updateVolume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\n        }\n      }\n    };\n    return function () {\n      return new AudioController();\n    };\n  }();\n\n  var createTypedArray = function () {\n    function createRegularArray(type, len) {\n      var i = 0;\n      var arr = [];\n      var value;\n\n      switch (type) {\n        case 'int16':\n        case 'uint8c':\n          value = 1;\n          break;\n\n        default:\n          value = 1.1;\n          break;\n      }\n\n      for (i = 0; i < len; i += 1) {\n        arr.push(value);\n      }\n\n      return arr;\n    }\n\n    function createTypedArrayFactory(type, len) {\n      if (type === 'float32') {\n        return new Float32Array(len);\n      }\n\n      if (type === 'int16') {\n        return new Int16Array(len);\n      }\n\n      if (type === 'uint8c') {\n        return new Uint8ClampedArray(len);\n      }\n\n      return createRegularArray(type, len);\n    }\n\n    if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\n      return createTypedArrayFactory;\n    }\n\n    return createRegularArray;\n  }();\n\n  function createSizedArray(len) {\n    return Array.apply(null, {\n      length: len\n    });\n  }\n\n  function _typeof$6(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$6 = function _typeof(obj) { return typeof obj; }; } else { _typeof$6 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$6(obj); }\n  var subframeEnabled = true;\n  var expressionsPlugin = null;\n  var idPrefix$1 = '';\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  var _shouldRoundValues = false;\n  var bmPow = Math.pow;\n  var bmSqrt = Math.sqrt;\n  var bmFloor = Math.floor;\n  var bmMax = Math.max;\n  var bmMin = Math.min;\n  var BMMath = {};\n\n  (function () {\n    var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\n    var i;\n    var len = propertyNames.length;\n\n    for (i = 0; i < len; i += 1) {\n      BMMath[propertyNames[i]] = Math[propertyNames[i]];\n    }\n  })();\n\n  function ProjectInterface$1() {\n    return {};\n  }\n\n  BMMath.random = Math.random;\n\n  BMMath.abs = function (val) {\n    var tOfVal = _typeof$6(val);\n\n    if (tOfVal === 'object' && val.length) {\n      var absArr = createSizedArray(val.length);\n      var i;\n      var len = val.length;\n\n      for (i = 0; i < len; i += 1) {\n        absArr[i] = Math.abs(val[i]);\n      }\n\n      return absArr;\n    }\n\n    return Math.abs(val);\n  };\n\n  var defaultCurveSegments = 150;\n  var degToRads = Math.PI / 180;\n  var roundCorner = 0.5519;\n\n  function roundValues(flag) {\n    _shouldRoundValues = !!flag;\n  }\n\n  function bmRnd(value) {\n    if (_shouldRoundValues) {\n      return Math.round(value);\n    }\n\n    return value;\n  }\n\n  function styleDiv(element) {\n    element.style.position = 'absolute';\n    element.style.top = 0;\n    element.style.left = 0;\n    element.style.display = 'block';\n    element.style.transformOrigin = '0 0';\n    element.style.webkitTransformOrigin = '0 0';\n    element.style.backfaceVisibility = 'visible';\n    element.style.webkitBackfaceVisibility = 'visible';\n    element.style.transformStyle = 'preserve-3d';\n    element.style.webkitTransformStyle = 'preserve-3d';\n    element.style.mozTransformStyle = 'preserve-3d';\n  }\n\n  function BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\n    this.type = type;\n    this.currentTime = currentTime;\n    this.totalTime = totalTime;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteEvent(type, frameMultiplier) {\n    this.type = type;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\n    this.type = type;\n    this.currentLoop = currentLoop;\n    this.totalLoops = totalLoops;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMSegmentStartEvent(type, firstFrame, totalFrames) {\n    this.type = type;\n    this.firstFrame = firstFrame;\n    this.totalFrames = totalFrames;\n  }\n\n  function BMDestroyEvent(type, target) {\n    this.type = type;\n    this.target = target;\n  }\n\n  function BMRenderFrameErrorEvent(nativeError, currentTime) {\n    this.type = 'renderFrameError';\n    this.nativeError = nativeError;\n    this.currentTime = currentTime;\n  }\n\n  function BMConfigErrorEvent(nativeError) {\n    this.type = 'configError';\n    this.nativeError = nativeError;\n  }\n\n  function BMAnimationConfigErrorEvent(type, nativeError) {\n    this.type = type;\n    this.nativeError = nativeError;\n  }\n\n  var createElementID = function () {\n    var _count = 0;\n    return function createID() {\n      _count += 1;\n      return idPrefix$1 + '__lottie_element_' + _count;\n    };\n  }();\n\n  function HSVtoRGB(h, s, v) {\n    var r;\n    var g;\n    var b;\n    var i;\n    var f;\n    var p;\n    var q;\n    var t;\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n        break;\n\n      default:\n        break;\n    }\n\n    return [r, g, b];\n  }\n\n  function RGBtoHSV(r, g, b) {\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var d = max - min;\n    var h;\n    var s = max === 0 ? 0 : d / max;\n    var v = max / 255;\n\n    switch (max) {\n      case min:\n        h = 0;\n        break;\n\n      case r:\n        h = g - b + d * (g < b ? 6 : 0);\n        h /= 6 * d;\n        break;\n\n      case g:\n        h = b - r + d * 2;\n        h /= 6 * d;\n        break;\n\n      case b:\n        h = r - g + d * 4;\n        h /= 6 * d;\n        break;\n\n      default:\n        break;\n    }\n\n    return [h, s, v];\n  }\n\n  function addSaturationToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[1] += offset;\n\n    if (hsv[1] > 1) {\n      hsv[1] = 1;\n    } else if (hsv[1] <= 0) {\n      hsv[1] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addBrightnessToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[2] += offset;\n\n    if (hsv[2] > 1) {\n      hsv[2] = 1;\n    } else if (hsv[2] < 0) {\n      hsv[2] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addHueToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[0] += offset / 360;\n\n    if (hsv[0] > 1) {\n      hsv[0] -= 1;\n    } else if (hsv[0] < 0) {\n      hsv[0] += 1;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  var rgbToHex = function () {\n    var colorMap = [];\n    var i;\n    var hex;\n\n    for (i = 0; i < 256; i += 1) {\n      hex = i.toString(16);\n      colorMap[i] = hex.length === 1 ? '0' + hex : hex;\n    }\n\n    return function (r, g, b) {\n      if (r < 0) {\n        r = 0;\n      }\n\n      if (g < 0) {\n        g = 0;\n      }\n\n      if (b < 0) {\n        b = 0;\n      }\n\n      return '#' + colorMap[r] + colorMap[g] + colorMap[b];\n    };\n  }();\n\n  var setSubframeEnabled = function setSubframeEnabled(flag) {\n    subframeEnabled = !!flag;\n  };\n\n  var getSubframeEnabled = function getSubframeEnabled() {\n    return subframeEnabled;\n  };\n\n  var setExpressionsPlugin = function setExpressionsPlugin(value) {\n    expressionsPlugin = value;\n  };\n\n  var getExpressionsPlugin = function getExpressionsPlugin() {\n    return expressionsPlugin;\n  };\n\n  var setDefaultCurveSegments = function setDefaultCurveSegments(value) {\n    defaultCurveSegments = value;\n  };\n\n  var getDefaultCurveSegments = function getDefaultCurveSegments() {\n    return defaultCurveSegments;\n  };\n\n  var setIdPrefix = function setIdPrefix(value) {\n    idPrefix$1 = value;\n  };\n\n  var getIdPrefix = function getIdPrefix() {\n    return idPrefix$1;\n  };\n\n  function createNS(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElementNS(svgNS, type);\n  }\n\n  function _typeof$5(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$5 = function _typeof(obj) { return typeof obj; }; } else { _typeof$5 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$5(obj); }\n\n  var dataManager = function () {\n    var _counterId = 1;\n    var processes = [];\n    var workerFn;\n    var workerInstance;\n    var workerProxy = {\n      onmessage: function onmessage() {},\n      postMessage: function postMessage(path) {\n        workerFn({\n          data: path\n        });\n      }\n    };\n    var _workerSelf = {\n      postMessage: function postMessage(data) {\n        workerProxy.onmessage({\n          data: data\n        });\n      }\n    };\n\n    function createWorker(fn) {\n      if (window.Worker && window.Blob && getWebWorker()) {\n        var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], {\n          type: 'text/javascript'\n        }); // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\n\n        var url = URL.createObjectURL(blob);\n        return new Worker(url);\n      }\n\n      workerFn = fn;\n      return workerProxy;\n    }\n\n    function setupWorker() {\n      if (!workerInstance) {\n        workerInstance = createWorker(function workerStart(e) {\n          function dataFunctionManager() {\n            function completeLayers(layers, comps) {\n              var layerData;\n              var i;\n              var len = layers.length;\n              var j;\n              var jLen;\n              var k;\n              var kLen;\n\n              for (i = 0; i < len; i += 1) {\n                layerData = layers[i];\n\n                if ('ks' in layerData && !layerData.completed) {\n                  layerData.completed = true;\n\n                  if (layerData.tt) {\n                    layers[i - 1].td = layerData.tt;\n                  }\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 0) {\n                    layerData.layers = findCompLayers(layerData.refId, comps);\n                    completeLayers(layerData.layers, comps);\n                  } else if (layerData.ty === 4) {\n                    completeShapes(layerData.shapes);\n                  } else if (layerData.ty === 5) {\n                    completeText(layerData);\n                  }\n                }\n              }\n            }\n\n            function completeChars(chars, assets) {\n              if (chars) {\n                var i = 0;\n                var len = chars.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (chars[i].t === 1) {\n                    // var compData = findComp(chars[i].data.refId, assets);\n                    chars[i].data.layers = findCompLayers(chars[i].data.refId, assets); // chars[i].data.ip = 0;\n                    // chars[i].data.op = 99999;\n                    // chars[i].data.st = 0;\n                    // chars[i].data.sr = 1;\n                    // chars[i].w = compData.w;\n                    // chars[i].data.ks = {\n                    //   a: { k: [0, 0, 0], a: 0 },\n                    //   p: { k: [0, -compData.h, 0], a: 0 },\n                    //   r: { k: 0, a: 0 },\n                    //   s: { k: [100, 100], a: 0 },\n                    //   o: { k: 100, a: 0 },\n                    // };\n\n                    completeLayers(chars[i].data.layers, assets);\n                  }\n                }\n              }\n            }\n\n            function findComp(id, comps) {\n              var i = 0;\n              var len = comps.length;\n\n              while (i < len) {\n                if (comps[i].id === id) {\n                  return comps[i];\n                }\n\n                i += 1;\n              }\n\n              return null;\n            }\n\n            function findCompLayers(id, comps) {\n              var comp = findComp(id, comps);\n\n              if (comp) {\n                if (!comp.layers.__used) {\n                  comp.layers.__used = true;\n                  return comp.layers;\n                }\n\n                return JSON.parse(JSON.stringify(comp.layers));\n              }\n\n              return null;\n            }\n\n            function completeShapes(arr) {\n              var i;\n              var len = arr.length;\n              var j;\n              var jLen;\n\n              for (i = len - 1; i >= 0; i -= 1) {\n                if (arr[i].ty === 'sh') {\n                  if (arr[i].ks.k.i) {\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\n                  } else {\n                    jLen = arr[i].ks.k.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (arr[i].ks.k[j].s) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n                      }\n\n                      if (arr[i].ks.k[j].e) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n                      }\n                    }\n                  }\n                } else if (arr[i].ty === 'gr') {\n                  completeShapes(arr[i].it);\n                }\n              }\n            }\n\n            function convertPathsToAbsoluteValues(path) {\n              var i;\n              var len = path.i.length;\n\n              for (i = 0; i < len; i += 1) {\n                path.i[i][0] += path.v[i][0];\n                path.i[i][1] += path.v[i][1];\n                path.o[i][0] += path.v[i][0];\n                path.o[i][1] += path.v[i][1];\n              }\n            }\n\n            function checkVersion(minimum, animVersionString) {\n              var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\n\n              if (minimum[0] > animVersion[0]) {\n                return true;\n              }\n\n              if (animVersion[0] > minimum[0]) {\n                return false;\n              }\n\n              if (minimum[1] > animVersion[1]) {\n                return true;\n              }\n\n              if (animVersion[1] > minimum[1]) {\n                return false;\n              }\n\n              if (minimum[2] > animVersion[2]) {\n                return true;\n              }\n\n              if (animVersion[2] > minimum[2]) {\n                return false;\n              }\n\n              return null;\n            }\n\n            var checkText = function () {\n              var minimumVersion = [4, 4, 14];\n\n              function updateTextLayer(textLayer) {\n                var documentData = textLayer.t.d;\n                textLayer.t.d = {\n                  k: [{\n                    s: documentData,\n                    t: 0\n                  }]\n                };\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkChars = function () {\n              var minimumVersion = [4, 7, 99];\n              return function (animationData) {\n                if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\n                  var i;\n                  var len = animationData.chars.length;\n\n                  for (i = 0; i < len; i += 1) {\n                    var charData = animationData.chars[i];\n\n                    if (charData.data && charData.data.shapes) {\n                      completeShapes(charData.data.shapes);\n                      charData.data.ip = 0;\n                      charData.data.op = 99999;\n                      charData.data.st = 0;\n                      charData.data.sr = 1;\n                      charData.data.ks = {\n                        p: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        s: {\n                          k: [100, 100],\n                          a: 0\n                        },\n                        a: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        r: {\n                          k: 0,\n                          a: 0\n                        },\n                        o: {\n                          k: 100,\n                          a: 0\n                        }\n                      };\n\n                      if (!animationData.chars[i].t) {\n                        charData.data.shapes.push({\n                          ty: 'no'\n                        });\n                        charData.data.shapes[0].it.push({\n                          p: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          s: {\n                            k: [100, 100],\n                            a: 0\n                          },\n                          a: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          r: {\n                            k: 0,\n                            a: 0\n                          },\n                          o: {\n                            k: 100,\n                            a: 0\n                          },\n                          sk: {\n                            k: 0,\n                            a: 0\n                          },\n                          sa: {\n                            k: 0,\n                            a: 0\n                          },\n                          ty: 'tr'\n                        });\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkPathProperties = function () {\n              var minimumVersion = [5, 7, 15];\n\n              function updateTextLayer(textLayer) {\n                var pathData = textLayer.t.p;\n\n                if (typeof pathData.a === 'number') {\n                  pathData.a = {\n                    a: 0,\n                    k: pathData.a\n                  };\n                }\n\n                if (typeof pathData.p === 'number') {\n                  pathData.p = {\n                    a: 0,\n                    k: pathData.p\n                  };\n                }\n\n                if (typeof pathData.r === 'number') {\n                  pathData.r = {\n                    a: 0,\n                    k: pathData.r\n                  };\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkColors = function () {\n              var minimumVersion = [4, 1, 9];\n\n              function iterateShapes(shapes) {\n                var i;\n                var len = shapes.length;\n                var j;\n                var jLen;\n\n                for (i = 0; i < len; i += 1) {\n                  if (shapes[i].ty === 'gr') {\n                    iterateShapes(shapes[i].it);\n                  } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\n                    if (shapes[i].c.k && shapes[i].c.k[0].i) {\n                      jLen = shapes[i].c.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (shapes[i].c.k[j].s) {\n                          shapes[i].c.k[j].s[0] /= 255;\n                          shapes[i].c.k[j].s[1] /= 255;\n                          shapes[i].c.k[j].s[2] /= 255;\n                          shapes[i].c.k[j].s[3] /= 255;\n                        }\n\n                        if (shapes[i].c.k[j].e) {\n                          shapes[i].c.k[j].e[0] /= 255;\n                          shapes[i].c.k[j].e[1] /= 255;\n                          shapes[i].c.k[j].e[2] /= 255;\n                          shapes[i].c.k[j].e[3] /= 255;\n                        }\n                      }\n                    } else {\n                      shapes[i].c.k[0] /= 255;\n                      shapes[i].c.k[1] /= 255;\n                      shapes[i].c.k[2] /= 255;\n                      shapes[i].c.k[3] /= 255;\n                    }\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 4) {\n                    iterateShapes(layers[i].shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkShapes = function () {\n              var minimumVersion = [4, 4, 18];\n\n              function completeClosingShapes(arr) {\n                var i;\n                var len = arr.length;\n                var j;\n                var jLen;\n\n                for (i = len - 1; i >= 0; i -= 1) {\n                  if (arr[i].ty === 'sh') {\n                    if (arr[i].ks.k.i) {\n                      arr[i].ks.k.c = arr[i].closed;\n                    } else {\n                      jLen = arr[i].ks.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (arr[i].ks.k[j].s) {\n                          arr[i].ks.k[j].s[0].c = arr[i].closed;\n                        }\n\n                        if (arr[i].ks.k[j].e) {\n                          arr[i].ks.k[j].e[0].c = arr[i].closed;\n                        }\n                      }\n                    }\n                  } else if (arr[i].ty === 'gr') {\n                    completeClosingShapes(arr[i].it);\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var layerData;\n                var i;\n                var len = layers.length;\n                var j;\n                var jLen;\n                var k;\n                var kLen;\n\n                for (i = 0; i < len; i += 1) {\n                  layerData = layers[i];\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        maskProps[j].pt.k.c = maskProps[j].cl;\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 4) {\n                    completeClosingShapes(layerData.shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            function completeData(animationData) {\n              if (animationData.__complete) {\n                return;\n              }\n\n              checkColors(animationData);\n              checkText(animationData);\n              checkChars(animationData);\n              checkPathProperties(animationData);\n              checkShapes(animationData);\n              completeLayers(animationData.layers, animationData.assets);\n              completeChars(animationData.chars, animationData.assets);\n              animationData.__complete = true;\n            }\n\n            function completeText(data) {\n              if (data.t.a.length === 0 && !('m' in data.t.p)) {// data.singleShape = true;\n              }\n            }\n\n            var moduleOb = {};\n            moduleOb.completeData = completeData;\n            moduleOb.checkColors = checkColors;\n            moduleOb.checkChars = checkChars;\n            moduleOb.checkPathProperties = checkPathProperties;\n            moduleOb.checkShapes = checkShapes;\n            moduleOb.completeLayers = completeLayers;\n            return moduleOb;\n          }\n\n          if (!_workerSelf.dataManager) {\n            _workerSelf.dataManager = dataFunctionManager();\n          }\n\n          if (!_workerSelf.assetLoader) {\n            _workerSelf.assetLoader = function () {\n              function formatResponse(xhr) {\n                // using typeof doubles the time of execution of this method,\n                // so if available, it's better to use the header to validate the type\n                var contentTypeHeader = xhr.getResponseHeader('content-type');\n\n                if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\n                  return xhr.response;\n                }\n\n                if (xhr.response && _typeof$5(xhr.response) === 'object') {\n                  return xhr.response;\n                }\n\n                if (xhr.response && typeof xhr.response === 'string') {\n                  return JSON.parse(xhr.response);\n                }\n\n                if (xhr.responseText) {\n                  return JSON.parse(xhr.responseText);\n                }\n\n                return null;\n              }\n\n              function loadAsset(path, fullPath, callback, errorCallback) {\n                var response;\n                var xhr = new XMLHttpRequest(); // set responseType after calling open or IE will break.\n\n                try {\n                  // This crashes on Android WebView prior to KitKat\n                  xhr.responseType = 'json';\n                } catch (err) {} // eslint-disable-line no-empty\n\n\n                xhr.onreadystatechange = function () {\n                  if (xhr.readyState === 4) {\n                    if (xhr.status === 200) {\n                      response = formatResponse(xhr);\n                      callback(response);\n                    } else {\n                      try {\n                        response = formatResponse(xhr);\n                        callback(response);\n                      } catch (err) {\n                        if (errorCallback) {\n                          errorCallback(err);\n                        }\n                      }\n                    }\n                  }\n                };\n\n                try {\n                  xhr.open('GET', path, true);\n                } catch (error) {\n                  xhr.open('GET', fullPath + '/' + path, true);\n                }\n\n                xhr.send();\n              }\n\n              return {\n                load: loadAsset\n              };\n            }();\n          }\n\n          if (e.data.type === 'loadAnimation') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.dataManager.completeData(data);\n\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          } else if (e.data.type === 'complete') {\n            var animation = e.data.animation;\n\n            _workerSelf.dataManager.completeData(animation);\n\n            _workerSelf.postMessage({\n              id: e.data.id,\n              payload: animation,\n              status: 'success'\n            });\n          } else if (e.data.type === 'loadData') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          }\n        });\n\n        workerInstance.onmessage = function (event) {\n          var data = event.data;\n          var id = data.id;\n          var process = processes[id];\n          processes[id] = null;\n\n          if (data.status === 'success') {\n            process.onComplete(data.payload);\n          } else if (process.onError) {\n            process.onError();\n          }\n        };\n      }\n    }\n\n    function createProcess(onComplete, onError) {\n      _counterId += 1;\n      var id = 'processId_' + _counterId;\n      processes[id] = {\n        onComplete: onComplete,\n        onError: onError\n      };\n      return id;\n    }\n\n    function loadAnimation(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadAnimation',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function loadData(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadData',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function completeAnimation(anim, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'complete',\n        animation: anim,\n        id: processId\n      });\n    }\n\n    return {\n      loadAnimation: loadAnimation,\n      loadData: loadData,\n      completeAnimation: completeAnimation\n    };\n  }();\n\n  var ImagePreloader = function () {\n    var proxyImage = function () {\n      var canvas = createTag('canvas');\n      canvas.width = 1;\n      canvas.height = 1;\n      var ctx = canvas.getContext('2d');\n      ctx.fillStyle = 'rgba(0,0,0,0)';\n      ctx.fillRect(0, 0, 1, 1);\n      return canvas;\n    }();\n\n    function imageLoaded() {\n      this.loadedAssets += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function footageLoaded() {\n      this.loadedFootagesCount += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function getAssetsPath(assetData, assetsPath, originalPath) {\n      var path = '';\n\n      if (assetData.e) {\n        path = assetData.p;\n      } else if (assetsPath) {\n        var imagePath = assetData.p;\n\n        if (imagePath.indexOf('images/') !== -1) {\n          imagePath = imagePath.split('/')[1];\n        }\n\n        path = assetsPath + imagePath;\n      } else {\n        path = originalPath;\n        path += assetData.u ? assetData.u : '';\n        path += assetData.p;\n      }\n\n      return path;\n    }\n\n    function testImageLoaded(img) {\n      var _count = 0;\n      var intervalId = setInterval(function () {\n        var box = img.getBBox();\n\n        if (box.width || _count > 500) {\n          this._imageLoaded();\n\n          clearInterval(intervalId);\n        }\n\n        _count += 1;\n      }.bind(this), 50);\n    }\n\n    function createImageData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createNS('image');\n\n      if (isSafari) {\n        this.testImageLoaded(img);\n      } else {\n        img.addEventListener('load', this._imageLoaded, false);\n      }\n\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\n\n      if (this._elementHelper.append) {\n        this._elementHelper.append(img);\n      } else {\n        this._elementHelper.appendChild(img);\n      }\n\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createImgData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createTag('img');\n      img.crossOrigin = 'anonymous';\n      img.addEventListener('load', this._imageLoaded, false);\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.src = path;\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createFootageData(data) {\n      var ob = {\n        assetData: data\n      };\n      var path = getAssetsPath(data, this.assetsPath, this.path);\n      dataManager.loadData(path, function (footageData) {\n        ob.img = footageData;\n\n        this._footageLoaded();\n      }.bind(this), function () {\n        ob.img = {};\n\n        this._footageLoaded();\n      }.bind(this));\n      return ob;\n    }\n\n    function loadAssets(assets, cb) {\n      this.imagesLoadedCb = cb;\n      var i;\n      var len = assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (!assets[i].layers) {\n          if (!assets[i].t || assets[i].t === 'seq') {\n            this.totalImages += 1;\n            this.images.push(this._createImageData(assets[i]));\n          } else if (assets[i].t === 3) {\n            this.totalFootages += 1;\n            this.images.push(this.createFootageData(assets[i]));\n          }\n        }\n      }\n    }\n\n    function setPath(path) {\n      this.path = path || '';\n    }\n\n    function setAssetsPath(path) {\n      this.assetsPath = path || '';\n    }\n\n    function getAsset(assetData) {\n      var i = 0;\n      var len = this.images.length;\n\n      while (i < len) {\n        if (this.images[i].assetData === assetData) {\n          return this.images[i].img;\n        }\n\n        i += 1;\n      }\n\n      return null;\n    }\n\n    function destroy() {\n      this.imagesLoadedCb = null;\n      this.images.length = 0;\n    }\n\n    function loadedImages() {\n      return this.totalImages === this.loadedAssets;\n    }\n\n    function loadedFootages() {\n      return this.totalFootages === this.loadedFootagesCount;\n    }\n\n    function setCacheType(type, elementHelper) {\n      if (type === 'svg') {\n        this._elementHelper = elementHelper;\n        this._createImageData = this.createImageData.bind(this);\n      } else {\n        this._createImageData = this.createImgData.bind(this);\n      }\n    }\n\n    function ImagePreloaderFactory() {\n      this._imageLoaded = imageLoaded.bind(this);\n      this._footageLoaded = footageLoaded.bind(this);\n      this.testImageLoaded = testImageLoaded.bind(this);\n      this.createFootageData = createFootageData.bind(this);\n      this.assetsPath = '';\n      this.path = '';\n      this.totalImages = 0;\n      this.totalFootages = 0;\n      this.loadedAssets = 0;\n      this.loadedFootagesCount = 0;\n      this.imagesLoadedCb = null;\n      this.images = [];\n    }\n\n    ImagePreloaderFactory.prototype = {\n      loadAssets: loadAssets,\n      setAssetsPath: setAssetsPath,\n      setPath: setPath,\n      loadedImages: loadedImages,\n      loadedFootages: loadedFootages,\n      destroy: destroy,\n      getAsset: getAsset,\n      createImgData: createImgData,\n      createImageData: createImageData,\n      imageLoaded: imageLoaded,\n      footageLoaded: footageLoaded,\n      setCacheType: setCacheType\n    };\n    return ImagePreloaderFactory;\n  }();\n\n  function BaseEvent() {}\n\n  BaseEvent.prototype = {\n    triggerEvent: function triggerEvent(eventName, args) {\n      if (this._cbs[eventName]) {\n        var callbacks = this._cbs[eventName];\n\n        for (var i = 0; i < callbacks.length; i += 1) {\n          callbacks[i](args);\n        }\n      }\n    },\n    addEventListener: function addEventListener(eventName, callback) {\n      if (!this._cbs[eventName]) {\n        this._cbs[eventName] = [];\n      }\n\n      this._cbs[eventName].push(callback);\n\n      return function () {\n        this.removeEventListener(eventName, callback);\n      }.bind(this);\n    },\n    removeEventListener: function removeEventListener(eventName, callback) {\n      if (!callback) {\n        this._cbs[eventName] = null;\n      } else if (this._cbs[eventName]) {\n        var i = 0;\n        var len = this._cbs[eventName].length;\n\n        while (i < len) {\n          if (this._cbs[eventName][i] === callback) {\n            this._cbs[eventName].splice(i, 1);\n\n            i -= 1;\n            len -= 1;\n          }\n\n          i += 1;\n        }\n\n        if (!this._cbs[eventName].length) {\n          this._cbs[eventName] = null;\n        }\n      }\n    }\n  };\n\n  var markerParser = function () {\n    function parsePayloadLines(payload) {\n      var lines = payload.split('\\r\\n');\n      var keys = {};\n      var line;\n      var keysCount = 0;\n\n      for (var i = 0; i < lines.length; i += 1) {\n        line = lines[i].split(':');\n\n        if (line.length === 2) {\n          keys[line[0]] = line[1].trim();\n          keysCount += 1;\n        }\n      }\n\n      if (keysCount === 0) {\n        throw new Error();\n      }\n\n      return keys;\n    }\n\n    return function (_markers) {\n      var markers = [];\n\n      for (var i = 0; i < _markers.length; i += 1) {\n        var _marker = _markers[i];\n        var markerData = {\n          time: _marker.tm,\n          duration: _marker.dr\n        };\n\n        try {\n          markerData.payload = JSON.parse(_markers[i].cm);\n        } catch (_) {\n          try {\n            markerData.payload = parsePayloadLines(_markers[i].cm);\n          } catch (__) {\n            markerData.payload = {\n              name: _markers[i].cm\n            };\n          }\n        }\n\n        markers.push(markerData);\n      }\n\n      return markers;\n    };\n  }();\n\n  var ProjectInterface = function () {\n    function registerComposition(comp) {\n      this.compositions.push(comp);\n    }\n\n    return function () {\n      function _thisProjectFunction(name) {\n        var i = 0;\n        var len = this.compositions.length;\n\n        while (i < len) {\n          if (this.compositions[i].data && this.compositions[i].data.nm === name) {\n            if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\n              this.compositions[i].prepareFrame(this.currentFrame);\n            }\n\n            return this.compositions[i].compInterface;\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      _thisProjectFunction.compositions = [];\n      _thisProjectFunction.currentFrame = 0;\n      _thisProjectFunction.registerComposition = registerComposition;\n      return _thisProjectFunction;\n    };\n  }();\n\n  var renderers = {};\n\n  var registerRenderer = function registerRenderer(key, value) {\n    renderers[key] = value;\n  };\n\n  function getRenderer(key) {\n    return renderers[key];\n  }\n\n  function _typeof$4(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$4 = function _typeof(obj) { return typeof obj; }; } else { _typeof$4 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$4(obj); }\n\n  var AnimationItem = function AnimationItem() {\n    this._cbs = [];\n    this.name = '';\n    this.path = '';\n    this.isLoaded = false;\n    this.currentFrame = 0;\n    this.currentRawFrame = 0;\n    this.firstFrame = 0;\n    this.totalFrames = 0;\n    this.frameRate = 0;\n    this.frameMult = 0;\n    this.playSpeed = 1;\n    this.playDirection = 1;\n    this.playCount = 0;\n    this.animationData = {};\n    this.assets = [];\n    this.isPaused = true;\n    this.autoplay = false;\n    this.loop = true;\n    this.renderer = null;\n    this.animationID = createElementID();\n    this.assetsPath = '';\n    this.timeCompleted = 0;\n    this.segmentPos = 0;\n    this.isSubframeEnabled = getSubframeEnabled();\n    this.segments = [];\n    this._idle = true;\n    this._completedLoop = false;\n    this.projectInterface = ProjectInterface();\n    this.imagePreloader = new ImagePreloader();\n    this.audioController = audioControllerFactory();\n    this.markers = [];\n    this.configAnimation = this.configAnimation.bind(this);\n    this.onSetupError = this.onSetupError.bind(this);\n    this.onSegmentComplete = this.onSegmentComplete.bind(this);\n    this.drawnFrameEvent = new BMEnterFrameEvent('drawnFrame', 0, 0, 0);\n  };\n\n  extendPrototype([BaseEvent], AnimationItem);\n\n  AnimationItem.prototype.setParams = function (params) {\n    if (params.wrapper || params.container) {\n      this.wrapper = params.wrapper || params.container;\n    }\n\n    var animType = 'svg';\n\n    if (params.animType) {\n      animType = params.animType;\n    } else if (params.renderer) {\n      animType = params.renderer;\n    }\n\n    var RendererClass = getRenderer(animType);\n    this.renderer = new RendererClass(this, params.rendererSettings);\n    this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\n    this.renderer.setProjectInterface(this.projectInterface);\n    this.animType = animType;\n\n    if (params.loop === '' || params.loop === null || params.loop === undefined || params.loop === true) {\n      this.loop = true;\n    } else if (params.loop === false) {\n      this.loop = false;\n    } else {\n      this.loop = parseInt(params.loop, 10);\n    }\n\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\n    this.name = params.name ? params.name : '';\n    this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\n    this.assetsPath = params.assetsPath;\n    this.initialSegment = params.initialSegment;\n\n    if (params.audioFactory) {\n      this.audioController.setAudioFactory(params.audioFactory);\n    }\n\n    if (params.animationData) {\n      this.setupAnimation(params.animationData);\n    } else if (params.path) {\n      if (params.path.lastIndexOf('\\\\') !== -1) {\n        this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\n      } else {\n        this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\n      }\n\n      this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\n      this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\n      dataManager.loadAnimation(params.path, this.configAnimation, this.onSetupError);\n    }\n  };\n\n  AnimationItem.prototype.onSetupError = function () {\n    this.trigger('data_failed');\n  };\n\n  AnimationItem.prototype.setupAnimation = function (data) {\n    dataManager.completeAnimation(data, this.configAnimation);\n  };\n\n  AnimationItem.prototype.setData = function (wrapper, animationData) {\n    if (animationData) {\n      if (_typeof$4(animationData) !== 'object') {\n        animationData = JSON.parse(animationData);\n      }\n    }\n\n    var params = {\n      wrapper: wrapper,\n      animationData: animationData\n    };\n    var wrapperAttributes = wrapper.attributes;\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-path').value : wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('bm-type').value : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : 'canvas';\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-loop').value : wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\n\n    if (loop === 'false') {\n      params.loop = false;\n    } else if (loop === 'true') {\n      params.loop = true;\n    } else if (loop !== '') {\n      params.loop = parseInt(loop, 10);\n    }\n\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-autoplay').value : wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\n    params.autoplay = autoplay !== 'false';\n    params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-name').value : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value : '';\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-prerender').value : wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\n\n    if (prerender === 'false') {\n      params.prerender = false;\n    }\n\n    this.setParams(params);\n  };\n\n  AnimationItem.prototype.includeLayers = function (data) {\n    if (data.op > this.animationData.op) {\n      this.animationData.op = data.op;\n      this.totalFrames = Math.floor(data.op - this.animationData.ip);\n    }\n\n    var layers = this.animationData.layers;\n    var i;\n    var len = layers.length;\n    var newLayers = data.layers;\n    var j;\n    var jLen = newLayers.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      i = 0;\n\n      while (i < len) {\n        if (layers[i].id === newLayers[j].id) {\n          layers[i] = newLayers[j];\n          break;\n        }\n\n        i += 1;\n      }\n    }\n\n    if (data.chars || data.fonts) {\n      this.renderer.globalData.fontManager.addChars(data.chars);\n      this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\n    }\n\n    if (data.assets) {\n      len = data.assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.animationData.assets.push(data.assets[i]);\n      }\n    }\n\n    this.animationData.__complete = false;\n    dataManager.completeAnimation(this.animationData, this.onSegmentComplete);\n  };\n\n  AnimationItem.prototype.onSegmentComplete = function (data) {\n    this.animationData = data;\n    var expressionsPlugin = getExpressionsPlugin();\n\n    if (expressionsPlugin) {\n      expressionsPlugin.initExpressions(this);\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.loadNextSegment = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments || segments.length === 0 || !this.autoloadSegments) {\n      this.trigger('data_ready');\n      this.timeCompleted = this.totalFrames;\n      return;\n    }\n\n    var segment = segments.shift();\n    this.timeCompleted = segment.time * this.frameRate;\n    var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\n    this.segmentPos += 1;\n    dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\n      this.trigger('data_failed');\n    }.bind(this));\n  };\n\n  AnimationItem.prototype.loadSegments = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments) {\n      this.timeCompleted = this.totalFrames;\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.imagesLoaded = function () {\n    this.trigger('loaded_images');\n    this.checkLoaded();\n  };\n\n  AnimationItem.prototype.preloadImages = function () {\n    this.imagePreloader.setAssetsPath(this.assetsPath);\n    this.imagePreloader.setPath(this.path);\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\n  };\n\n  AnimationItem.prototype.configAnimation = function (animData) {\n    if (!this.renderer) {\n      return;\n    }\n\n    try {\n      this.animationData = animData;\n\n      if (this.initialSegment) {\n        this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\n        this.firstFrame = Math.round(this.initialSegment[0]);\n      } else {\n        this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\n        this.firstFrame = Math.round(this.animationData.ip);\n      }\n\n      this.renderer.configAnimation(animData);\n\n      if (!animData.assets) {\n        animData.assets = [];\n      }\n\n      this.assets = this.animationData.assets;\n      this.frameRate = this.animationData.fr;\n      this.frameMult = this.animationData.fr / 1000;\n      this.renderer.searchExtraCompositions(animData.assets);\n      this.markers = markerParser(animData.markers || []);\n      this.trigger('config_ready');\n      this.preloadImages();\n      this.loadSegments();\n      this.updaFrameModifier();\n      this.waitForFontsLoaded();\n\n      if (this.isPaused) {\n        this.audioController.pause();\n      }\n    } catch (error) {\n      this.triggerConfigError(error);\n    }\n  };\n\n  AnimationItem.prototype.waitForFontsLoaded = function () {\n    if (!this.renderer) {\n      return;\n    }\n\n    if (this.renderer.globalData.fontManager.isLoaded) {\n      this.checkLoaded();\n    } else {\n      setTimeout(this.waitForFontsLoaded.bind(this), 20);\n    }\n  };\n\n  AnimationItem.prototype.checkLoaded = function () {\n    if (!this.isLoaded && this.renderer.globalData.fontManager.isLoaded && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas') && this.imagePreloader.loadedFootages()) {\n      this.isLoaded = true;\n      var expressionsPlugin = getExpressionsPlugin();\n\n      if (expressionsPlugin) {\n        expressionsPlugin.initExpressions(this);\n      }\n\n      this.renderer.initItems();\n      setTimeout(function () {\n        this.trigger('DOMLoaded');\n      }.bind(this), 0);\n      this.gotoFrame();\n\n      if (this.autoplay) {\n        this.play();\n      }\n    }\n  };\n\n  AnimationItem.prototype.resize = function () {\n    this.renderer.updateContainerSize();\n  };\n\n  AnimationItem.prototype.setSubframe = function (flag) {\n    this.isSubframeEnabled = !!flag;\n  };\n\n  AnimationItem.prototype.gotoFrame = function () {\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\n\n    if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\n      this.currentFrame = this.timeCompleted;\n    }\n\n    this.trigger('enterFrame');\n    this.renderFrame();\n    this.trigger('drawnFrame');\n  };\n\n  AnimationItem.prototype.renderFrame = function () {\n    if (this.isLoaded === false || !this.renderer) {\n      return;\n    }\n\n    try {\n      this.renderer.renderFrame(this.currentFrame + this.firstFrame);\n    } catch (error) {\n      this.triggerRenderFrameError(error);\n    }\n  };\n\n  AnimationItem.prototype.play = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.isPaused = false;\n      this.trigger('_pause');\n      this.audioController.resume();\n\n      if (this._idle) {\n        this._idle = false;\n        this.trigger('_active');\n      }\n    }\n  };\n\n  AnimationItem.prototype.pause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === false) {\n      this.isPaused = true;\n      this.trigger('_play');\n      this._idle = true;\n      this.trigger('_idle');\n      this.audioController.pause();\n    }\n  };\n\n  AnimationItem.prototype.togglePause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  };\n\n  AnimationItem.prototype.stop = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.pause();\n    this.playCount = 0;\n    this._completedLoop = false;\n    this.setCurrentRawFrameValue(0);\n  };\n\n  AnimationItem.prototype.getMarkerData = function (markerName) {\n    var marker;\n\n    for (var i = 0; i < this.markers.length; i += 1) {\n      marker = this.markers[i];\n\n      if (marker.payload && marker.payload.name === markerName) {\n        return marker;\n      }\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        this.goToAndStop(marker.time, true);\n      }\n    } else if (isFrame) {\n      this.setCurrentRawFrameValue(value);\n    } else {\n      this.setCurrentRawFrameValue(value * this.frameModifier);\n    }\n\n    this.pause();\n  };\n\n  AnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        if (!marker.duration) {\n          this.goToAndStop(marker.time, true);\n        } else {\n          this.playSegments([marker.time, marker.time + marker.duration], true);\n        }\n      }\n    } else {\n      this.goToAndStop(numValue, isFrame, name);\n    }\n\n    this.play();\n  };\n\n  AnimationItem.prototype.advanceTime = function (value) {\n    if (this.isPaused === true || this.isLoaded === false) {\n      return;\n    }\n\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\n    var _isComplete = false; // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\n\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\n      if (!this.loop || this.playCount === this.loop) {\n        if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\n          _isComplete = true;\n          nextValue = this.totalFrames - 1;\n        }\n      } else if (nextValue >= this.totalFrames) {\n        this.playCount += 1;\n\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\n          this.setCurrentRawFrameValue(nextValue % this.totalFrames);\n          this._completedLoop = true;\n          this.trigger('loopComplete');\n        }\n      } else {\n        this.setCurrentRawFrameValue(nextValue);\n      }\n    } else if (nextValue < 0) {\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\n        if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\n          // eslint-disable-line no-plusplus\n          this.setCurrentRawFrameValue(this.totalFrames + nextValue % this.totalFrames);\n\n          if (!this._completedLoop) {\n            this._completedLoop = true;\n          } else {\n            this.trigger('loopComplete');\n          }\n        } else {\n          _isComplete = true;\n          nextValue = 0;\n        }\n      }\n    } else {\n      this.setCurrentRawFrameValue(nextValue);\n    }\n\n    if (_isComplete) {\n      this.setCurrentRawFrameValue(nextValue);\n      this.pause();\n      this.trigger('complete');\n    }\n  };\n\n  AnimationItem.prototype.adjustSegment = function (arr, offset) {\n    this.playCount = 0;\n\n    if (arr[1] < arr[0]) {\n      if (this.frameModifier > 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(-1);\n        }\n      }\n\n      this.totalFrames = arr[0] - arr[1];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[1];\n      this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\n    } else if (arr[1] > arr[0]) {\n      if (this.frameModifier < 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(1);\n        }\n      }\n\n      this.totalFrames = arr[1] - arr[0];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[0];\n      this.setCurrentRawFrameValue(0.001 + offset);\n    }\n\n    this.trigger('segmentStart');\n  };\n\n  AnimationItem.prototype.setSegment = function (init, end) {\n    var pendingFrame = -1;\n\n    if (this.isPaused) {\n      if (this.currentRawFrame + this.firstFrame < init) {\n        pendingFrame = init;\n      } else if (this.currentRawFrame + this.firstFrame > end) {\n        pendingFrame = end - init;\n      }\n    }\n\n    this.firstFrame = init;\n    this.totalFrames = end - init;\n    this.timeCompleted = this.totalFrames;\n\n    if (pendingFrame !== -1) {\n      this.goToAndStop(pendingFrame, true);\n    }\n  };\n\n  AnimationItem.prototype.playSegments = function (arr, forceFlag) {\n    if (forceFlag) {\n      this.segments.length = 0;\n    }\n\n    if (_typeof$4(arr[0]) === 'object') {\n      var i;\n      var len = arr.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.segments.push(arr[i]);\n      }\n    } else {\n      this.segments.push(arr);\n    }\n\n    if (this.segments.length && forceFlag) {\n      this.adjustSegment(this.segments.shift(), 0);\n    }\n\n    if (this.isPaused) {\n      this.play();\n    }\n  };\n\n  AnimationItem.prototype.resetSegments = function (forceFlag) {\n    this.segments.length = 0;\n    this.segments.push([this.animationData.ip, this.animationData.op]);\n\n    if (forceFlag) {\n      this.checkSegments(0);\n    }\n  };\n\n  AnimationItem.prototype.checkSegments = function (offset) {\n    if (this.segments.length) {\n      this.adjustSegment(this.segments.shift(), offset);\n      return true;\n    }\n\n    return false;\n  };\n\n  AnimationItem.prototype.destroy = function (name) {\n    if (name && this.name !== name || !this.renderer) {\n      return;\n    }\n\n    this.renderer.destroy();\n    this.imagePreloader.destroy();\n    this.trigger('destroy');\n    this._cbs = null;\n    this.onEnterFrame = null;\n    this.onLoopComplete = null;\n    this.onComplete = null;\n    this.onSegmentStart = null;\n    this.onDestroy = null;\n    this.renderer = null;\n    this.renderer = null;\n    this.imagePreloader = null;\n    this.projectInterface = null;\n  };\n\n  AnimationItem.prototype.setCurrentRawFrameValue = function (value) {\n    this.currentRawFrame = value;\n    this.gotoFrame();\n  };\n\n  AnimationItem.prototype.setSpeed = function (val) {\n    this.playSpeed = val;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setDirection = function (val) {\n    this.playDirection = val < 0 ? -1 : 1;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setVolume = function (val, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.setVolume(val);\n  };\n\n  AnimationItem.prototype.getVolume = function () {\n    return this.audioController.getVolume();\n  };\n\n  AnimationItem.prototype.mute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.mute();\n  };\n\n  AnimationItem.prototype.unmute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.unmute();\n  };\n\n  AnimationItem.prototype.updaFrameModifier = function () {\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\n    this.audioController.setRate(this.playSpeed * this.playDirection);\n  };\n\n  AnimationItem.prototype.getPath = function () {\n    return this.path;\n  };\n\n  AnimationItem.prototype.getAssetsPath = function (assetData) {\n    var path = '';\n\n    if (assetData.e) {\n      path = assetData.p;\n    } else if (this.assetsPath) {\n      var imagePath = assetData.p;\n\n      if (imagePath.indexOf('images/') !== -1) {\n        imagePath = imagePath.split('/')[1];\n      }\n\n      path = this.assetsPath + imagePath;\n    } else {\n      path = this.path;\n      path += assetData.u ? assetData.u : '';\n      path += assetData.p;\n    }\n\n    return path;\n  };\n\n  AnimationItem.prototype.getAssetData = function (id) {\n    var i = 0;\n    var len = this.assets.length;\n\n    while (i < len) {\n      if (id === this.assets[i].id) {\n        return this.assets[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.hide = function () {\n    this.renderer.hide();\n  };\n\n  AnimationItem.prototype.show = function () {\n    this.renderer.show();\n  };\n\n  AnimationItem.prototype.getDuration = function (isFrame) {\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\n  };\n\n  AnimationItem.prototype.updateDocumentData = function (path, documentData, index) {\n    try {\n      var element = this.renderer.getElementByPath(path);\n      element.updateDocumentData(documentData, index);\n    } catch (error) {// TODO: decide how to handle catch case\n    }\n  };\n\n  AnimationItem.prototype.trigger = function (name) {\n    if (this._cbs && this._cbs[name]) {\n      switch (name) {\n        case 'enterFrame':\n          this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\n          break;\n\n        case 'drawnFrame':\n          this.drawnFrameEvent.currentTime = this.currentFrame;\n          this.drawnFrameEvent.totalTime = this.totalFrames;\n          this.drawnFrameEvent.direction = this.frameModifier;\n          this.triggerEvent(name, this.drawnFrameEvent);\n          break;\n\n        case 'loopComplete':\n          this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n          break;\n\n        case 'complete':\n          this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\n          break;\n\n        case 'segmentStart':\n          this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n          break;\n\n        case 'destroy':\n          this.triggerEvent(name, new BMDestroyEvent(name, this));\n          break;\n\n        default:\n          this.triggerEvent(name);\n      }\n    }\n\n    if (name === 'enterFrame' && this.onEnterFrame) {\n      this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\n    }\n\n    if (name === 'loopComplete' && this.onLoopComplete) {\n      this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n    }\n\n    if (name === 'complete' && this.onComplete) {\n      this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\n    }\n\n    if (name === 'segmentStart' && this.onSegmentStart) {\n      this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n    }\n\n    if (name === 'destroy' && this.onDestroy) {\n      this.onDestroy.call(this, new BMDestroyEvent(name, this));\n    }\n  };\n\n  AnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  AnimationItem.prototype.triggerConfigError = function (nativeError) {\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  var animationManager = function () {\n    var moduleOb = {};\n    var registeredAnimations = [];\n    var initTime = 0;\n    var len = 0;\n    var playingAnimationsNum = 0;\n    var _stopped = true;\n    var _isFrozen = false;\n\n    function removeElement(ev) {\n      var i = 0;\n      var animItem = ev.target;\n\n      while (i < len) {\n        if (registeredAnimations[i].animation === animItem) {\n          registeredAnimations.splice(i, 1);\n          i -= 1;\n          len -= 1;\n\n          if (!animItem.isPaused) {\n            subtractPlayingCount();\n          }\n        }\n\n        i += 1;\n      }\n    }\n\n    function registerAnimation(element, animationData) {\n      if (!element) {\n        return null;\n      }\n\n      var i = 0;\n\n      while (i < len) {\n        if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\n          return registeredAnimations[i].animation;\n        }\n\n        i += 1;\n      }\n\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, element);\n      animItem.setData(element, animationData);\n      return animItem;\n    }\n\n    function getRegisteredAnimations() {\n      var i;\n      var lenAnims = registeredAnimations.length;\n      var animations = [];\n\n      for (i = 0; i < lenAnims; i += 1) {\n        animations.push(registeredAnimations[i].animation);\n      }\n\n      return animations;\n    }\n\n    function addPlayingCount() {\n      playingAnimationsNum += 1;\n      activate();\n    }\n\n    function subtractPlayingCount() {\n      playingAnimationsNum -= 1;\n    }\n\n    function setupAnimation(animItem, element) {\n      animItem.addEventListener('destroy', removeElement);\n      animItem.addEventListener('_active', addPlayingCount);\n      animItem.addEventListener('_idle', subtractPlayingCount);\n      registeredAnimations.push({\n        elem: element,\n        animation: animItem\n      });\n      len += 1;\n    }\n\n    function loadAnimation(params) {\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, null);\n      animItem.setParams(params);\n      return animItem;\n    }\n\n    function setSpeed(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setSpeed(val, animation);\n      }\n    }\n\n    function setDirection(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setDirection(val, animation);\n      }\n    }\n\n    function play(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.play(animation);\n      }\n    }\n\n    function resume(nowTime) {\n      var elapsedTime = nowTime - initTime;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.advanceTime(elapsedTime);\n      }\n\n      initTime = nowTime;\n\n      if (playingAnimationsNum && !_isFrozen) {\n        window.requestAnimationFrame(resume);\n      } else {\n        _stopped = true;\n      }\n    }\n\n    function first(nowTime) {\n      initTime = nowTime;\n      window.requestAnimationFrame(resume);\n    }\n\n    function pause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.pause(animation);\n      }\n    }\n\n    function goToAndStop(value, isFrame, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\n      }\n    }\n\n    function stop(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.stop(animation);\n      }\n    }\n\n    function togglePause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.togglePause(animation);\n      }\n    }\n\n    function destroy(animation) {\n      var i;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        registeredAnimations[i].animation.destroy(animation);\n      }\n    }\n\n    function searchAnimations(animationData, standalone, renderer) {\n      var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')), [].slice.call(document.getElementsByClassName('bodymovin')));\n      var i;\n      var lenAnims = animElements.length;\n\n      for (i = 0; i < lenAnims; i += 1) {\n        if (renderer) {\n          animElements[i].setAttribute('data-bm-type', renderer);\n        }\n\n        registerAnimation(animElements[i], animationData);\n      }\n\n      if (standalone && lenAnims === 0) {\n        if (!renderer) {\n          renderer = 'svg';\n        }\n\n        var body = document.getElementsByTagName('body')[0];\n        body.innerText = '';\n        var div = createTag('div');\n        div.style.width = '100%';\n        div.style.height = '100%';\n        div.setAttribute('data-bm-type', renderer);\n        body.appendChild(div);\n        registerAnimation(div, animationData);\n      }\n    }\n\n    function resize() {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.resize();\n      }\n    }\n\n    function activate() {\n      if (!_isFrozen && playingAnimationsNum) {\n        if (_stopped) {\n          window.requestAnimationFrame(first);\n          _stopped = false;\n        }\n      }\n    }\n\n    function freeze() {\n      _isFrozen = true;\n    }\n\n    function unfreeze() {\n      _isFrozen = false;\n      activate();\n    }\n\n    function setVolume(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setVolume(val, animation);\n      }\n    }\n\n    function mute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.mute(animation);\n      }\n    }\n\n    function unmute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.unmute(animation);\n      }\n    }\n\n    moduleOb.registerAnimation = registerAnimation;\n    moduleOb.loadAnimation = loadAnimation;\n    moduleOb.setSpeed = setSpeed;\n    moduleOb.setDirection = setDirection;\n    moduleOb.play = play;\n    moduleOb.pause = pause;\n    moduleOb.stop = stop;\n    moduleOb.togglePause = togglePause;\n    moduleOb.searchAnimations = searchAnimations;\n    moduleOb.resize = resize; // moduleOb.start = start;\n\n    moduleOb.goToAndStop = goToAndStop;\n    moduleOb.destroy = destroy;\n    moduleOb.freeze = freeze;\n    moduleOb.unfreeze = unfreeze;\n    moduleOb.setVolume = setVolume;\n    moduleOb.mute = mute;\n    moduleOb.unmute = unmute;\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\n    return moduleOb;\n  }();\n\n  /* eslint-disable */\n  var BezierFactory = function () {\n    /**\r\n       * BezierEasing - use bezier curve for transition easing function\r\n       * by Gatan Renaudeau 2014 - 2015  MIT License\r\n       *\r\n       * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n       * Usage:\r\n       * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n       * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n       *\r\n       */\n    var ob = {};\n    ob.getBezierEasing = getBezierEasing;\n    var beziers = {};\n\n    function getBezierEasing(a, b, c, d, nm) {\n      var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\n\n      if (beziers[str]) {\n        return beziers[str];\n      }\n\n      var bezEasing = new BezierEasing([a, b, c, d]);\n      beziers[str] = bezEasing;\n      return bezEasing;\n    } // These values are established by empiricism with tests (tradeoff: performance VS precision)\n\n\n    var NEWTON_ITERATIONS = 4;\n    var NEWTON_MIN_SLOPE = 0.001;\n    var SUBDIVISION_PRECISION = 0.0000001;\n    var SUBDIVISION_MAX_ITERATIONS = 10;\n    var kSplineTableSize = 11;\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n    var float32ArraySupported = typeof Float32Array === 'function';\n\n    function A(aA1, aA2) {\n      return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n    }\n\n    function B(aA1, aA2) {\n      return 3.0 * aA2 - 6.0 * aA1;\n    }\n\n    function C(aA1) {\n      return 3.0 * aA1;\n    } // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n\n\n    function calcBezier(aT, aA1, aA2) {\n      return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n    } // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n\n\n    function getSlope(aT, aA1, aA2) {\n      return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n    }\n\n    function binarySubdivide(aX, aA, aB, mX1, mX2) {\n      var currentX,\n          currentT,\n          i = 0;\n\n      do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n\n        if (currentX > 0.0) {\n          aB = currentT;\n        } else {\n          aA = currentT;\n        }\n      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n\n      return currentT;\n    }\n\n    function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n      for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) return aGuessT;\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n      }\n\n      return aGuessT;\n    }\n    /**\r\n       * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n       */\n\n\n    function BezierEasing(points) {\n      this._p = points;\n      this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n      this._precomputed = false;\n      this.get = this.get.bind(this);\n    }\n\n    BezierEasing.prototype = {\n      get: function get(x) {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        if (!this._precomputed) this._precompute();\n        if (mX1 === mY1 && mX2 === mY2) return x; // linear\n        // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n\n        if (x === 0) return 0;\n        if (x === 1) return 1;\n        return calcBezier(this._getTForX(x), mY1, mY2);\n      },\n      // Private part\n      _precompute: function _precompute() {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        this._precomputed = true;\n\n        if (mX1 !== mY1 || mX2 !== mY2) {\n          this._calcSampleValues();\n        }\n      },\n      _calcSampleValues: function _calcSampleValues() {\n        var mX1 = this._p[0],\n            mX2 = this._p[2];\n\n        for (var i = 0; i < kSplineTableSize; ++i) {\n          this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n        }\n      },\n\n      /**\r\n           * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n           */\n      _getTForX: function _getTForX(aX) {\n        var mX1 = this._p[0],\n            mX2 = this._p[2],\n            mSampleValues = this._mSampleValues;\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = kSplineTableSize - 1;\n\n        for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n          intervalStart += kSampleStepSize;\n        }\n\n        --currentSample; // Interpolate to provide an initial guess for t\n\n        var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\n        var guessForT = intervalStart + dist * kSampleStepSize;\n        var initialSlope = getSlope(guessForT, mX1, mX2);\n\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n          return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        }\n\n        if (initialSlope === 0.0) {\n          return guessForT;\n        }\n\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n    };\n    return ob;\n  }();\n\n  var pooling = function () {\n    function _double(arr) {\n      return arr.concat(createSizedArray(arr.length));\n    }\n\n    return {\n      \"double\": _double\n    };\n  }();\n\n  var poolFactory = function () {\n    return function (initialLength, _create, _release) {\n      var _length = 0;\n      var _maxLength = initialLength;\n      var pool = createSizedArray(_maxLength);\n      var ob = {\n        newElement: newElement,\n        release: release\n      };\n\n      function newElement() {\n        var element;\n\n        if (_length) {\n          _length -= 1;\n          element = pool[_length];\n        } else {\n          element = _create();\n        }\n\n        return element;\n      }\n\n      function release(element) {\n        if (_length === _maxLength) {\n          pool = pooling[\"double\"](pool);\n          _maxLength *= 2;\n        }\n\n        if (_release) {\n          _release(element);\n        }\n\n        pool[_length] = element;\n        _length += 1;\n      }\n\n      return ob;\n    };\n  }();\n\n  var bezierLengthPool = function () {\n    function create() {\n      return {\n        addedLength: 0,\n        percents: createTypedArray('float32', getDefaultCurveSegments()),\n        lengths: createTypedArray('float32', getDefaultCurveSegments())\n      };\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  var segmentsLengthPool = function () {\n    function create() {\n      return {\n        lengths: [],\n        totalLength: 0\n      };\n    }\n\n    function release(element) {\n      var i;\n      var len = element.lengths.length;\n\n      for (i = 0; i < len; i += 1) {\n        bezierLengthPool.release(element.lengths[i]);\n      }\n\n      element.lengths.length = 0;\n    }\n\n    return poolFactory(8, create, release);\n  }();\n\n  function bezFunction() {\n    var math = Math;\n\n    function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\n      var det1 = x1 * y2 + y1 * x3 + x2 * y3 - x3 * y2 - y3 * x1 - x2 * y1;\n      return det1 > -0.001 && det1 < 0.001;\n    }\n\n    function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\n      if (z1 === 0 && z2 === 0 && z3 === 0) {\n        return pointOnLine2D(x1, y1, x2, y2, x3, y3);\n      }\n\n      var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\n      var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\n      var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\n      var diffDist;\n\n      if (dist1 > dist2) {\n        if (dist1 > dist3) {\n          diffDist = dist1 - dist2 - dist3;\n        } else {\n          diffDist = dist3 - dist2 - dist1;\n        }\n      } else if (dist3 > dist2) {\n        diffDist = dist3 - dist2 - dist1;\n      } else {\n        diffDist = dist2 - dist1 - dist3;\n      }\n\n      return diffDist > -0.0001 && diffDist < 0.0001;\n    }\n\n    var getBezierLength = function () {\n      return function (pt1, pt2, pt3, pt4) {\n        var curveSegments = getDefaultCurveSegments();\n        var k;\n        var i;\n        var len;\n        var ptCoord;\n        var perc;\n        var addedLength = 0;\n        var ptDistance;\n        var point = [];\n        var lastPoint = [];\n        var lengthData = bezierLengthPool.newElement();\n        len = pt3.length;\n\n        for (k = 0; k < curveSegments; k += 1) {\n          perc = k / (curveSegments - 1);\n          ptDistance = 0;\n\n          for (i = 0; i < len; i += 1) {\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\n            point[i] = ptCoord;\n\n            if (lastPoint[i] !== null) {\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\n            }\n\n            lastPoint[i] = point[i];\n          }\n\n          if (ptDistance) {\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n          }\n\n          lengthData.percents[k] = perc;\n          lengthData.lengths[k] = addedLength;\n        }\n\n        lengthData.addedLength = addedLength;\n        return lengthData;\n      };\n    }();\n\n    function getSegmentsLength(shapeData) {\n      var segmentsLength = segmentsLengthPool.newElement();\n      var closed = shapeData.c;\n      var pathV = shapeData.v;\n      var pathO = shapeData.o;\n      var pathI = shapeData.i;\n      var i;\n      var len = shapeData._length;\n      var lengths = segmentsLength.lengths;\n      var totalLength = 0;\n\n      for (i = 0; i < len - 1; i += 1) {\n        lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      if (closed && len) {\n        lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      segmentsLength.totalLength = totalLength;\n      return segmentsLength;\n    }\n\n    function BezierData(length) {\n      this.segmentLength = 0;\n      this.points = new Array(length);\n    }\n\n    function PointData(partial, point) {\n      this.partialLength = partial;\n      this.point = point;\n    }\n\n    var buildBezierData = function () {\n      var storedData = {};\n      return function (pt1, pt2, pt3, pt4) {\n        var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\n\n        if (!storedData[bezierName]) {\n          var curveSegments = getDefaultCurveSegments();\n          var k;\n          var i;\n          var len;\n          var ptCoord;\n          var perc;\n          var addedLength = 0;\n          var ptDistance;\n          var point;\n          var lastPoint = null;\n\n          if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\n            curveSegments = 2;\n          }\n\n          var bezierData = new BezierData(curveSegments);\n          len = pt3.length;\n\n          for (k = 0; k < curveSegments; k += 1) {\n            point = createSizedArray(len);\n            perc = k / (curveSegments - 1);\n            ptDistance = 0;\n\n            for (i = 0; i < len; i += 1) {\n              ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\n              point[i] = ptCoord;\n\n              if (lastPoint !== null) {\n                ptDistance += bmPow(point[i] - lastPoint[i], 2);\n              }\n            }\n\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n            bezierData.points[k] = new PointData(ptDistance, point);\n            lastPoint = point;\n          }\n\n          bezierData.segmentLength = addedLength;\n          storedData[bezierName] = bezierData;\n        }\n\n        return storedData[bezierName];\n      };\n    }();\n\n    function getDistancePerc(perc, bezierData) {\n      var percents = bezierData.percents;\n      var lengths = bezierData.lengths;\n      var len = percents.length;\n      var initPos = bmFloor((len - 1) * perc);\n      var lengthPos = perc * bezierData.addedLength;\n      var lPerc = 0;\n\n      if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\n        return percents[initPos];\n      }\n\n      var dir = lengths[initPos] > lengthPos ? -1 : 1;\n      var flag = true;\n\n      while (flag) {\n        if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\n          lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\n          flag = false;\n        } else {\n          initPos += dir;\n        }\n\n        if (initPos < 0 || initPos >= len - 1) {\n          // FIX for TypedArrays that don't store floating point values with enough accuracy\n          if (initPos === len - 1) {\n            return percents[initPos];\n          }\n\n          flag = false;\n        }\n      }\n\n      return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\n    }\n\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\n      var t1 = getDistancePerc(percent, bezierData);\n      var u1 = 1 - t1;\n      var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\n      var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\n      return [ptX, ptY];\n    }\n\n    var bezierSegmentPoints = createTypedArray('float32', 8);\n\n    function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\n      if (startPerc < 0) {\n        startPerc = 0;\n      } else if (startPerc > 1) {\n        startPerc = 1;\n      }\n\n      var t0 = getDistancePerc(startPerc, bezierData);\n      endPerc = endPerc > 1 ? 1 : endPerc;\n      var t1 = getDistancePerc(endPerc, bezierData);\n      var i;\n      var len = pt1.length;\n      var u0 = 1 - t0;\n      var u1 = 1 - t1;\n      var u0u0u0 = u0 * u0 * u0;\n      var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0t0 = t0 * t0 * t0; //\n\n      var u0u0u1 = u0 * u0 * u1;\n      var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0t1 = t0 * t0 * t1; //\n\n      var u0u1u1 = u0 * u1 * u1;\n      var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1t1 = t0 * t1 * t1; //\n\n      var u1u1u1 = u1 * u1 * u1;\n      var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1t1 = t1 * t1 * t1;\n\n      for (i = 0; i < len; i += 1) {\n        bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n      }\n\n      return bezierSegmentPoints;\n    }\n\n    return {\n      getSegmentsLength: getSegmentsLength,\n      getNewSegment: getNewSegment,\n      getPointInSegment: getPointInSegment,\n      buildBezierData: buildBezierData,\n      pointOnLine2D: pointOnLine2D,\n      pointOnLine3D: pointOnLine3D\n    };\n  }\n\n  var bez = bezFunction();\n\n  var PropertyFactory = function () {\n    var initFrame = initialDefaultFrame;\n    var mathAbs = Math.abs;\n\n    function interpolateValue(frameNum, caching) {\n      var offsetTime = this.offsetTime;\n      var newValue;\n\n      if (this.propType === 'multidimensional') {\n        newValue = createTypedArray('float32', this.pv.length);\n      }\n\n      var iterationIndex = caching.lastIndex;\n      var i = iterationIndex;\n      var len = this.keyframes.length - 1;\n      var flag = true;\n      var keyData;\n      var nextKeyData;\n      var keyframeMetadata;\n\n      while (flag) {\n        keyData = this.keyframes[i];\n        nextKeyData = this.keyframes[i + 1];\n\n        if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\n          if (keyData.h) {\n            keyData = nextKeyData;\n          }\n\n          iterationIndex = 0;\n          break;\n        }\n\n        if (nextKeyData.t - offsetTime > frameNum) {\n          iterationIndex = i;\n          break;\n        }\n\n        if (i < len - 1) {\n          i += 1;\n        } else {\n          iterationIndex = 0;\n          flag = false;\n        }\n      }\n\n      keyframeMetadata = this.keyframesMetadata[i] || {};\n      var k;\n      var kLen;\n      var perc;\n      var jLen;\n      var j;\n      var fnc;\n      var nextKeyTime = nextKeyData.t - offsetTime;\n      var keyTime = keyData.t - offsetTime;\n      var endValue;\n\n      if (keyData.to) {\n        if (!keyframeMetadata.bezierData) {\n          keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\n        }\n\n        var bezierData = keyframeMetadata.bezierData;\n\n        if (frameNum >= nextKeyTime || frameNum < keyTime) {\n          var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\n          kLen = bezierData.points[ind].point.length;\n\n          for (k = 0; k < kLen; k += 1) {\n            newValue[k] = bezierData.points[ind].point[k];\n          } // caching._lastKeyframeIndex = -1;\n\n        } else {\n          if (keyframeMetadata.__fnct) {\n            fnc = keyframeMetadata.__fnct;\n          } else {\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\n            keyframeMetadata.__fnct = fnc;\n          }\n\n          perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n          var distanceInLine = bezierData.segmentLength * perc;\n          var segmentPerc;\n          var addedLength = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastAddedLength : 0;\n          j = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastPoint : 0;\n          flag = true;\n          jLen = bezierData.points.length;\n\n          while (flag) {\n            addedLength += bezierData.points[j].partialLength;\n\n            if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\n              kLen = bezierData.points[j].point.length;\n\n              for (k = 0; k < kLen; k += 1) {\n                newValue[k] = bezierData.points[j].point[k];\n              }\n\n              break;\n            } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\n              segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\n              kLen = bezierData.points[j].point.length;\n\n              for (k = 0; k < kLen; k += 1) {\n                newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n              }\n\n              break;\n            }\n\n            if (j < jLen - 1) {\n              j += 1;\n            } else {\n              flag = false;\n            }\n          }\n\n          caching._lastPoint = j;\n          caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\n          caching._lastKeyframeIndex = i;\n        }\n      } else {\n        var outX;\n        var outY;\n        var inX;\n        var inY;\n        var keyValue;\n        len = keyData.s.length;\n        endValue = nextKeyData.s || keyData.e;\n\n        if (this.sh && keyData.h !== 1) {\n          if (frameNum >= nextKeyTime) {\n            newValue[0] = endValue[0];\n            newValue[1] = endValue[1];\n            newValue[2] = endValue[2];\n          } else if (frameNum <= keyTime) {\n            newValue[0] = keyData.s[0];\n            newValue[1] = keyData.s[1];\n            newValue[2] = keyData.s[2];\n          } else {\n            var quatStart = createQuaternion(keyData.s);\n            var quatEnd = createQuaternion(endValue);\n            var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\n            quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\n          }\n        } else {\n          for (i = 0; i < len; i += 1) {\n            if (keyData.h !== 1) {\n              if (frameNum >= nextKeyTime) {\n                perc = 1;\n              } else if (frameNum < keyTime) {\n                perc = 0;\n              } else {\n                if (keyData.o.x.constructor === Array) {\n                  if (!keyframeMetadata.__fnct) {\n                    keyframeMetadata.__fnct = [];\n                  }\n\n                  if (!keyframeMetadata.__fnct[i]) {\n                    outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\n                    outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\n                    inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\n                    inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\n                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                    keyframeMetadata.__fnct[i] = fnc;\n                  } else {\n                    fnc = keyframeMetadata.__fnct[i];\n                  }\n                } else if (!keyframeMetadata.__fnct) {\n                  outX = keyData.o.x;\n                  outY = keyData.o.y;\n                  inX = keyData.i.x;\n                  inY = keyData.i.y;\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                  keyData.keyframeMetadata = fnc;\n                } else {\n                  fnc = keyframeMetadata.__fnct;\n                }\n\n                perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n              }\n            }\n\n            endValue = nextKeyData.s || keyData.e;\n            keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\n\n            if (this.propType === 'multidimensional') {\n              newValue[i] = keyValue;\n            } else {\n              newValue = keyValue;\n            }\n          }\n        }\n      }\n\n      caching.lastIndex = iterationIndex;\n      return newValue;\n    } // based on @Toji's https://github.com/toji/gl-matrix/\n\n\n    function slerp(a, b, t) {\n      var out = [];\n      var ax = a[0];\n      var ay = a[1];\n      var az = a[2];\n      var aw = a[3];\n      var bx = b[0];\n      var by = b[1];\n      var bz = b[2];\n      var bw = b[3];\n      var omega;\n      var cosom;\n      var sinom;\n      var scale0;\n      var scale1;\n      cosom = ax * bx + ay * by + az * bz + aw * bw;\n\n      if (cosom < 0.0) {\n        cosom = -cosom;\n        bx = -bx;\n        by = -by;\n        bz = -bz;\n        bw = -bw;\n      }\n\n      if (1.0 - cosom > 0.000001) {\n        omega = Math.acos(cosom);\n        sinom = Math.sin(omega);\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\n        scale1 = Math.sin(t * omega) / sinom;\n      } else {\n        scale0 = 1.0 - t;\n        scale1 = t;\n      }\n\n      out[0] = scale0 * ax + scale1 * bx;\n      out[1] = scale0 * ay + scale1 * by;\n      out[2] = scale0 * az + scale1 * bz;\n      out[3] = scale0 * aw + scale1 * bw;\n      return out;\n    }\n\n    function quaternionToEuler(out, quat) {\n      var qx = quat[0];\n      var qy = quat[1];\n      var qz = quat[2];\n      var qw = quat[3];\n      var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\n      var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\n      var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\n      out[0] = heading / degToRads;\n      out[1] = attitude / degToRads;\n      out[2] = bank / degToRads;\n    }\n\n    function createQuaternion(values) {\n      var heading = values[0] * degToRads;\n      var attitude = values[1] * degToRads;\n      var bank = values[2] * degToRads;\n      var c1 = Math.cos(heading / 2);\n      var c2 = Math.cos(attitude / 2);\n      var c3 = Math.cos(bank / 2);\n      var s1 = Math.sin(heading / 2);\n      var s2 = Math.sin(attitude / 2);\n      var s3 = Math.sin(bank / 2);\n      var w = c1 * c2 * c3 - s1 * s2 * s3;\n      var x = s1 * s2 * c3 + c1 * c2 * s3;\n      var y = s1 * c2 * c3 + c1 * s2 * s3;\n      var z = c1 * s2 * c3 - s1 * c2 * s3;\n      return [x, y, z, w];\n    }\n\n    function getValueAtCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n\n      if (!(frameNum === this._caching.lastFrame || this._caching.lastFrame !== initFrame && (this._caching.lastFrame >= endTime && frameNum >= endTime || this._caching.lastFrame < initTime && frameNum < initTime))) {\n        if (this._caching.lastFrame >= frameNum) {\n          this._caching._lastKeyframeIndex = -1;\n          this._caching.lastIndex = 0;\n        }\n\n        var renderResult = this.interpolateValue(frameNum, this._caching);\n        this.pv = renderResult;\n      }\n\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n\n    function setVValue(val) {\n      var multipliedValue;\n\n      if (this.propType === 'unidimensional') {\n        multipliedValue = val * this.mult;\n\n        if (mathAbs(this.v - multipliedValue) > 0.00001) {\n          this.v = multipliedValue;\n          this._mdf = true;\n        }\n      } else {\n        var i = 0;\n        var len = this.v.length;\n\n        while (i < len) {\n          multipliedValue = val[i] * this.mult;\n\n          if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\n            this.v[i] = multipliedValue;\n            this._mdf = true;\n          }\n\n          i += 1;\n        }\n      }\n    }\n\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\n        return;\n      }\n\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n\n      this.lock = true;\n      this._mdf = this._isFirstFrame;\n      var i;\n      var len = this.effectsSequence.length;\n      var finalValue = this.kf ? this.pv : this.data.k;\n\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n\n      this.setVValue(finalValue);\n      this._isFirstFrame = false;\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n\n    function ValueProperty(elem, data, mult, container) {\n      this.propType = 'unidimensional';\n      this.mult = mult || 1;\n      this.data = data;\n      this.v = mult ? data.k * mult : data.k;\n      this.pv = data.k;\n      this._mdf = false;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.k = false;\n      this.kf = false;\n      this.vel = 0;\n      this.effectsSequence = [];\n      this._isFirstFrame = true;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.addEffect = addEffect;\n    }\n\n    function MultiDimensionalProperty(elem, data, mult, container) {\n      this.propType = 'multidimensional';\n      this.mult = mult || 1;\n      this.data = data;\n      this._mdf = false;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.k = false;\n      this.kf = false;\n      this.frameId = -1;\n      var i;\n      var len = data.k.length;\n      this.v = createTypedArray('float32', len);\n      this.pv = createTypedArray('float32', len);\n      this.vel = createTypedArray('float32', len);\n\n      for (i = 0; i < len; i += 1) {\n        this.v[i] = data.k[i] * this.mult;\n        this.pv[i] = data.k[i];\n      }\n\n      this._isFirstFrame = true;\n      this.effectsSequence = [];\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.addEffect = addEffect;\n    }\n\n    function KeyframedValueProperty(elem, data, mult, container) {\n      this.propType = 'unidimensional';\n      this.keyframes = data.k;\n      this.keyframesMetadata = [];\n      this.offsetTime = elem.data.st;\n      this.frameId = -1;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0,\n        value: 0,\n        _lastKeyframeIndex: -1\n      };\n      this.k = true;\n      this.kf = true;\n      this.data = data;\n      this.mult = mult || 1;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.v = initFrame;\n      this.pv = initFrame;\n      this._isFirstFrame = true;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.interpolateValue = interpolateValue;\n      this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n      this.addEffect = addEffect;\n    }\n\n    function KeyframedMultidimensionalProperty(elem, data, mult, container) {\n      this.propType = 'multidimensional';\n      var i;\n      var len = data.k.length;\n      var s;\n      var e;\n      var to;\n      var ti;\n\n      for (i = 0; i < len - 1; i += 1) {\n        if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\n          s = data.k[i].s;\n          e = data.k[i + 1].s;\n          to = data.k[i].to;\n          ti = data.k[i].ti;\n\n          if (s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1]) || s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2])) {\n            data.k[i].to = null;\n            data.k[i].ti = null;\n          }\n\n          if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\n            if (s.length === 2 || s[2] === e[2] && to[2] === 0 && ti[2] === 0) {\n              data.k[i].to = null;\n              data.k[i].ti = null;\n            }\n          }\n        }\n      }\n\n      this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n      this.data = data;\n      this.keyframes = data.k;\n      this.keyframesMetadata = [];\n      this.offsetTime = elem.data.st;\n      this.k = true;\n      this.kf = true;\n      this._isFirstFrame = true;\n      this.mult = mult || 1;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.interpolateValue = interpolateValue;\n      this.frameId = -1;\n      var arrLen = data.k[0].s.length;\n      this.v = createTypedArray('float32', arrLen);\n      this.pv = createTypedArray('float32', arrLen);\n\n      for (i = 0; i < arrLen; i += 1) {\n        this.v[i] = initFrame;\n        this.pv[i] = initFrame;\n      }\n\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0,\n        value: createTypedArray('float32', arrLen)\n      };\n      this.addEffect = addEffect;\n    }\n\n    function getProp(elem, data, type, mult, container) {\n      var p;\n\n      if (!data.k.length) {\n        p = new ValueProperty(elem, data, mult, container);\n      } else if (typeof data.k[0] === 'number') {\n        p = new MultiDimensionalProperty(elem, data, mult, container);\n      } else {\n        switch (type) {\n          case 0:\n            p = new KeyframedValueProperty(elem, data, mult, container);\n            break;\n\n          case 1:\n            p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\n            break;\n\n          default:\n            break;\n        }\n      }\n\n      if (p.effectsSequence.length) {\n        container.addDynamicProperty(p);\n      }\n\n      return p;\n    }\n\n    var ob = {\n      getProp: getProp\n    };\n    return ob;\n  }();\n\n  function DynamicPropertyContainer() {}\n\n  DynamicPropertyContainer.prototype = {\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n        this.container.addDynamicProperty(this);\n        this._isAnimated = true;\n      }\n    },\n    iterateDynamicProperties: function iterateDynamicProperties() {\n      this._mdf = false;\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.dynamicProperties[i].getValue();\n\n        if (this.dynamicProperties[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    },\n    initDynamicPropertyContainer: function initDynamicPropertyContainer(container) {\n      this.container = container;\n      this.dynamicProperties = [];\n      this._mdf = false;\n      this._isAnimated = false;\n    }\n  };\n\n  var pointPool = function () {\n    function create() {\n      return createTypedArray('float32', 2);\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  function ShapePath() {\n    this.c = false;\n    this._length = 0;\n    this._maxLength = 8;\n    this.v = createSizedArray(this._maxLength);\n    this.o = createSizedArray(this._maxLength);\n    this.i = createSizedArray(this._maxLength);\n  }\n\n  ShapePath.prototype.setPathData = function (closed, len) {\n    this.c = closed;\n    this.setLength(len);\n    var i = 0;\n\n    while (i < len) {\n      this.v[i] = pointPool.newElement();\n      this.o[i] = pointPool.newElement();\n      this.i[i] = pointPool.newElement();\n      i += 1;\n    }\n  };\n\n  ShapePath.prototype.setLength = function (len) {\n    while (this._maxLength < len) {\n      this.doubleArrayLength();\n    }\n\n    this._length = len;\n  };\n\n  ShapePath.prototype.doubleArrayLength = function () {\n    this.v = this.v.concat(createSizedArray(this._maxLength));\n    this.i = this.i.concat(createSizedArray(this._maxLength));\n    this.o = this.o.concat(createSizedArray(this._maxLength));\n    this._maxLength *= 2;\n  };\n\n  ShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\n    var arr;\n    this._length = Math.max(this._length, pos + 1);\n\n    if (this._length >= this._maxLength) {\n      this.doubleArrayLength();\n    }\n\n    switch (type) {\n      case 'v':\n        arr = this.v;\n        break;\n\n      case 'i':\n        arr = this.i;\n        break;\n\n      case 'o':\n        arr = this.o;\n        break;\n\n      default:\n        arr = [];\n        break;\n    }\n\n    if (!arr[pos] || arr[pos] && !replace) {\n      arr[pos] = pointPool.newElement();\n    }\n\n    arr[pos][0] = x;\n    arr[pos][1] = y;\n  };\n\n  ShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\n    this.setXYAt(vX, vY, 'v', pos, replace);\n    this.setXYAt(oX, oY, 'o', pos, replace);\n    this.setXYAt(iX, iY, 'i', pos, replace);\n  };\n\n  ShapePath.prototype.reverse = function () {\n    var newPath = new ShapePath();\n    newPath.setPathData(this.c, this._length);\n    var vertices = this.v;\n    var outPoints = this.o;\n    var inPoints = this.i;\n    var init = 0;\n\n    if (this.c) {\n      newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\n      init = 1;\n    }\n\n    var cnt = this._length - 1;\n    var len = this._length;\n    var i;\n\n    for (i = init; i < len; i += 1) {\n      newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\n      cnt -= 1;\n    }\n\n    return newPath;\n  };\n\n  var shapePool = function () {\n    function create() {\n      return new ShapePath();\n    }\n\n    function release(shapePath) {\n      var len = shapePath._length;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        pointPool.release(shapePath.v[i]);\n        pointPool.release(shapePath.i[i]);\n        pointPool.release(shapePath.o[i]);\n        shapePath.v[i] = null;\n        shapePath.i[i] = null;\n        shapePath.o[i] = null;\n      }\n\n      shapePath._length = 0;\n      shapePath.c = false;\n    }\n\n    function clone(shape) {\n      var cloned = factory.newElement();\n      var i;\n      var len = shape._length === undefined ? shape.v.length : shape._length;\n      cloned.setLength(len);\n      cloned.c = shape.c;\n\n      for (i = 0; i < len; i += 1) {\n        cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\n      }\n\n      return cloned;\n    }\n\n    var factory = poolFactory(4, create, release);\n    factory.clone = clone;\n    return factory;\n  }();\n\n  function ShapeCollection() {\n    this._length = 0;\n    this._maxLength = 4;\n    this.shapes = createSizedArray(this._maxLength);\n  }\n\n  ShapeCollection.prototype.addShape = function (shapeData) {\n    if (this._length === this._maxLength) {\n      this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\n      this._maxLength *= 2;\n    }\n\n    this.shapes[this._length] = shapeData;\n    this._length += 1;\n  };\n\n  ShapeCollection.prototype.releaseShapes = function () {\n    var i;\n\n    for (i = 0; i < this._length; i += 1) {\n      shapePool.release(this.shapes[i]);\n    }\n\n    this._length = 0;\n  };\n\n  var shapeCollectionPool = function () {\n    var ob = {\n      newShapeCollection: newShapeCollection,\n      release: release\n    };\n    var _length = 0;\n    var _maxLength = 4;\n    var pool = createSizedArray(_maxLength);\n\n    function newShapeCollection() {\n      var shapeCollection;\n\n      if (_length) {\n        _length -= 1;\n        shapeCollection = pool[_length];\n      } else {\n        shapeCollection = new ShapeCollection();\n      }\n\n      return shapeCollection;\n    }\n\n    function release(shapeCollection) {\n      var i;\n      var len = shapeCollection._length;\n\n      for (i = 0; i < len; i += 1) {\n        shapePool.release(shapeCollection.shapes[i]);\n      }\n\n      shapeCollection._length = 0;\n\n      if (_length === _maxLength) {\n        pool = pooling[\"double\"](pool);\n        _maxLength *= 2;\n      }\n\n      pool[_length] = shapeCollection;\n      _length += 1;\n    }\n\n    return ob;\n  }();\n\n  var ShapePropertyFactory = function () {\n    var initFrame = -999999;\n\n    function interpolateShape(frameNum, previousValue, caching) {\n      var iterationIndex = caching.lastIndex;\n      var keyPropS;\n      var keyPropE;\n      var isHold;\n      var j;\n      var k;\n      var jLen;\n      var kLen;\n      var perc;\n      var vertexValue;\n      var kf = this.keyframes;\n\n      if (frameNum < kf[0].t - this.offsetTime) {\n        keyPropS = kf[0].s[0];\n        isHold = true;\n        iterationIndex = 0;\n      } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\n        keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\n        /* if(kf[kf.length - 1].s){\r\n                  keyPropS = kf[kf.length - 1].s[0];\r\n              }else{\r\n                  keyPropS = kf[kf.length - 2].e[0];\r\n              } */\n\n        isHold = true;\n      } else {\n        var i = iterationIndex;\n        var len = kf.length - 1;\n        var flag = true;\n        var keyData;\n        var nextKeyData;\n        var keyframeMetadata;\n\n        while (flag) {\n          keyData = kf[i];\n          nextKeyData = kf[i + 1];\n\n          if (nextKeyData.t - this.offsetTime > frameNum) {\n            break;\n          }\n\n          if (i < len - 1) {\n            i += 1;\n          } else {\n            flag = false;\n          }\n        }\n\n        keyframeMetadata = this.keyframesMetadata[i] || {};\n        isHold = keyData.h === 1;\n        iterationIndex = i;\n\n        if (!isHold) {\n          if (frameNum >= nextKeyData.t - this.offsetTime) {\n            perc = 1;\n          } else if (frameNum < keyData.t - this.offsetTime) {\n            perc = 0;\n          } else {\n            var fnc;\n\n            if (keyframeMetadata.__fnct) {\n              fnc = keyframeMetadata.__fnct;\n            } else {\n              fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\n              keyframeMetadata.__fnct = fnc;\n            }\n\n            perc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));\n          }\n\n          keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\n        }\n\n        keyPropS = keyData.s[0];\n      }\n\n      jLen = previousValue._length;\n      kLen = keyPropS.i[0].length;\n      caching.lastIndex = iterationIndex;\n\n      for (j = 0; j < jLen; j += 1) {\n        for (k = 0; k < kLen; k += 1) {\n          vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\n          previousValue.i[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\n          previousValue.o[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\n          previousValue.v[j][k] = vertexValue;\n        }\n      }\n    }\n\n    function interpolateShapeCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n      var lastFrame = this._caching.lastFrame;\n\n      if (!(lastFrame !== initFrame && (lastFrame < initTime && frameNum < initTime || lastFrame > endTime && frameNum > endTime))) {\n        /// /\n        this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\n        this.interpolateShape(frameNum, this.pv, this._caching); /// /\n      }\n\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n\n    function resetShape() {\n      this.paths = this.localShapeCollection;\n    }\n\n    function shapesEqual(shape1, shape2) {\n      if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\n        return false;\n      }\n\n      var i;\n      var len = shape1._length;\n\n      for (i = 0; i < len; i += 1) {\n        if (shape1.v[i][0] !== shape2.v[i][0] || shape1.v[i][1] !== shape2.v[i][1] || shape1.o[i][0] !== shape2.o[i][0] || shape1.o[i][1] !== shape2.o[i][1] || shape1.i[i][0] !== shape2.i[i][0] || shape1.i[i][1] !== shape2.i[i][1]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function setVValue(newPath) {\n      if (!shapesEqual(this.v, newPath)) {\n        this.v = shapePool.clone(newPath);\n        this.localShapeCollection.releaseShapes();\n        this.localShapeCollection.addShape(this.v);\n        this._mdf = true;\n        this.paths = this.localShapeCollection;\n      }\n    }\n\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (!this.effectsSequence.length) {\n        this._mdf = false;\n        return;\n      }\n\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n\n      this.lock = true;\n      this._mdf = false;\n      var finalValue;\n\n      if (this.kf) {\n        finalValue = this.pv;\n      } else if (this.data.ks) {\n        finalValue = this.data.ks.k;\n      } else {\n        finalValue = this.data.pt.k;\n      }\n\n      var i;\n      var len = this.effectsSequence.length;\n\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n\n      this.setVValue(finalValue);\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function ShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.container = elem;\n      this.elem = elem;\n      this.data = data;\n      this.k = false;\n      this.kf = false;\n      this._mdf = false;\n      var pathData = type === 3 ? data.pt.k : data.ks.k;\n      this.v = shapePool.clone(pathData);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.reset = resetShape;\n      this.effectsSequence = [];\n    }\n\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\n    ShapeProperty.prototype.getValue = processEffectsSequence;\n    ShapeProperty.prototype.setVValue = setVValue;\n    ShapeProperty.prototype.addEffect = addEffect;\n\n    function KeyframedShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.elem = elem;\n      this.container = elem;\n      this.offsetTime = elem.data.st;\n      this.keyframes = type === 3 ? data.pt.k : data.ks.k;\n      this.keyframesMetadata = [];\n      this.k = true;\n      this.kf = true;\n      var len = this.keyframes[0].s[0].i.length;\n      this.v = shapePool.newElement();\n      this.v.setPathData(this.keyframes[0].s[0].c, len);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.lastFrame = initFrame;\n      this.reset = resetShape;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0\n      };\n      this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\n    }\n\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\n\n    var EllShapeProperty = function () {\n      var cPoint = roundCorner;\n\n      function EllShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 4);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.paths = this.localShapeCollection;\n        this.localShapeCollection.addShape(this.v);\n        this.d = data.d;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertEllToPath();\n        }\n      }\n\n      EllShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertEllToPath();\n          }\n        },\n        convertEllToPath: function convertEllToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var s0 = this.s.v[0] / 2;\n          var s1 = this.s.v[1] / 2;\n\n          var _cw = this.d !== 3;\n\n          var _v = this.v;\n          _v.v[0][0] = p0;\n          _v.v[0][1] = p1 - s1;\n          _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.v[1][1] = p1;\n          _v.v[2][0] = p0;\n          _v.v[2][1] = p1 + s1;\n          _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.v[3][1] = p1;\n          _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.i[0][1] = p1 - s1;\n          _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.i[1][1] = p1 - s1 * cPoint;\n          _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.i[2][1] = p1 + s1;\n          _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.i[3][1] = p1 + s1 * cPoint;\n          _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.o[0][1] = p1 - s1;\n          _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.o[1][1] = p1 + s1 * cPoint;\n          _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.o[2][1] = p1 + s1;\n          _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.o[3][1] = p1 - s1 * cPoint;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\n      return EllShapePropertyFactory;\n    }();\n\n    var StarShapeProperty = function () {\n      function StarShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 0);\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.data = data;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n\n        if (data.sy === 1) {\n          this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\n          this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\n          this.convertToPath = this.convertStarToPath;\n        } else {\n          this.convertToPath = this.convertPolygonToPath;\n        }\n\n        this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\n        this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\n        this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertToPath();\n        }\n      }\n\n      StarShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertToPath();\n          }\n        },\n        convertStarToPath: function convertStarToPath() {\n          var numPts = Math.floor(this.pt.v) * 2;\n          var angle = Math.PI * 2 / numPts;\n          /* this.v.v.length = numPts;\r\n                  this.v.i.length = numPts;\r\n                  this.v.o.length = numPts; */\n\n          var longFlag = true;\n          var longRad = this.or.v;\n          var shortRad = this.ir.v;\n          var longRound = this.os.v;\n          var shortRound = this.is.v;\n          var longPerimSegment = 2 * Math.PI * longRad / (numPts * 2);\n          var shortPerimSegment = 2 * Math.PI * shortRad / (numPts * 2);\n          var i;\n          var rad;\n          var roundness;\n          var perimSegment;\n          var currentAng = -Math.PI / 2;\n          currentAng += this.r.v;\n          var dir = this.data.d === 3 ? -1 : 1;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            rad = longFlag ? longRad : shortRad;\n            roundness = longFlag ? longRound : shortRound;\n            perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            /* this.v.v[i] = [x,y];\r\n                      this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                      this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                      this.v._length = numPts; */\n\n            longFlag = !longFlag;\n            currentAng += angle * dir;\n          }\n        },\n        convertPolygonToPath: function convertPolygonToPath() {\n          var numPts = Math.floor(this.pt.v);\n          var angle = Math.PI * 2 / numPts;\n          var rad = this.or.v;\n          var roundness = this.os.v;\n          var perimSegment = 2 * Math.PI * rad / (numPts * 4);\n          var i;\n          var currentAng = -Math.PI * 0.5;\n          var dir = this.data.d === 3 ? -1 : 1;\n          currentAng += this.r.v;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            currentAng += angle * dir;\n          }\n\n          this.paths.length = 0;\n          this.paths[0] = this.v;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\n      return StarShapePropertyFactory;\n    }();\n\n    var RectShapeProperty = function () {\n      function RectShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.c = true;\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertRectToPath();\n        }\n      }\n\n      RectShapePropertyFactory.prototype = {\n        convertRectToPath: function convertRectToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var v0 = this.s.v[0] / 2;\n          var v1 = this.s.v[1] / 2;\n          var round = bmMin(v0, v1, this.r.v);\n          var cPoint = round * (1 - roundCorner);\n          this.v._length = 0;\n\n          if (this.d === 2 || this.d === 1) {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\n            }\n          } else {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\n            }\n          }\n        },\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertRectToPath();\n          }\n        },\n        reset: resetShape\n      };\n      extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\n      return RectShapePropertyFactory;\n    }();\n\n    function getShapeProp(elem, data, type) {\n      var prop;\n\n      if (type === 3 || type === 4) {\n        var dataProp = type === 3 ? data.pt : data.ks;\n        var keys = dataProp.k;\n\n        if (keys.length) {\n          prop = new KeyframedShapeProperty(elem, data, type);\n        } else {\n          prop = new ShapeProperty(elem, data, type);\n        }\n      } else if (type === 5) {\n        prop = new RectShapeProperty(elem, data);\n      } else if (type === 6) {\n        prop = new EllShapeProperty(elem, data);\n      } else if (type === 7) {\n        prop = new StarShapeProperty(elem, data);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    }\n\n    function getConstructorFunction() {\n      return ShapeProperty;\n    }\n\n    function getKeyframedConstructorFunction() {\n      return KeyframedShapeProperty;\n    }\n\n    var ob = {};\n    ob.getShapeProp = getShapeProp;\n    ob.getConstructorFunction = getConstructorFunction;\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\n    return ob;\n  }();\n\n  /*!\r\n   Transformation Matrix v2.0\r\n   (c) Epistemex 2014-2015\r\n   www.epistemex.com\r\n   By Ken Fyrstenberg\r\n   Contributions by leeoniya.\r\n   License: MIT, header required.\r\n   */\n\n  /**\r\n   * 2D transformation matrix object initialized with identity matrix.\r\n   *\r\n   * The matrix can synchronize a canvas context by supplying the context\r\n   * as an argument, or later apply current absolute transform to an\r\n   * existing context.\r\n   *\r\n   * All values are handled as floating point values.\r\n   *\r\n   * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n   * @prop {number} a - scale x\r\n   * @prop {number} b - shear y\r\n   * @prop {number} c - shear x\r\n   * @prop {number} d - scale y\r\n   * @prop {number} e - translate x\r\n   * @prop {number} f - translate y\r\n   * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n   * @constructor\r\n   */\n\n  var Matrix = function () {\n    var _cos = Math.cos;\n    var _sin = Math.sin;\n    var _tan = Math.tan;\n    var _rnd = Math.round;\n\n    function reset() {\n      this.props[0] = 1;\n      this.props[1] = 0;\n      this.props[2] = 0;\n      this.props[3] = 0;\n      this.props[4] = 0;\n      this.props[5] = 1;\n      this.props[6] = 0;\n      this.props[7] = 0;\n      this.props[8] = 0;\n      this.props[9] = 0;\n      this.props[10] = 1;\n      this.props[11] = 0;\n      this.props[12] = 0;\n      this.props[13] = 0;\n      this.props[14] = 0;\n      this.props[15] = 1;\n      return this;\n    }\n\n    function rotate(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function rotateX(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateY(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateZ(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function shear(sx, sy) {\n      return this._t(1, sy, sx, 1, 0, 0);\n    }\n\n    function skew(ax, ay) {\n      return this.shear(_tan(ax), _tan(ay));\n    }\n\n    function skewFromAxis(ax, angle) {\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n    }\n\n    function scale(sx, sy, sz) {\n      if (!sz && sz !== 0) {\n        sz = 1;\n      }\n\n      if (sx === 1 && sy === 1 && sz === 1) {\n        return this;\n      }\n\n      return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n    }\n\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n      this.props[0] = a;\n      this.props[1] = b;\n      this.props[2] = c;\n      this.props[3] = d;\n      this.props[4] = e;\n      this.props[5] = f;\n      this.props[6] = g;\n      this.props[7] = h;\n      this.props[8] = i;\n      this.props[9] = j;\n      this.props[10] = k;\n      this.props[11] = l;\n      this.props[12] = m;\n      this.props[13] = n;\n      this.props[14] = o;\n      this.props[15] = p;\n      return this;\n    }\n\n    function translate(tx, ty, tz) {\n      tz = tz || 0;\n\n      if (tx !== 0 || ty !== 0 || tz !== 0) {\n        return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\n      }\n\n      return this;\n    }\n\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n      var _p = this.props;\n\n      if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\n        // NOTE: commenting this condition because TurboFan deoptimizes code when present\n        // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n        _p[12] = _p[12] * a2 + _p[15] * m2;\n        _p[13] = _p[13] * f2 + _p[15] * n2;\n        _p[14] = _p[14] * k2 + _p[15] * o2;\n        _p[15] *= p2; // }\n\n        this._identityCalculated = false;\n        return this;\n      }\n\n      var a1 = _p[0];\n      var b1 = _p[1];\n      var c1 = _p[2];\n      var d1 = _p[3];\n      var e1 = _p[4];\n      var f1 = _p[5];\n      var g1 = _p[6];\n      var h1 = _p[7];\n      var i1 = _p[8];\n      var j1 = _p[9];\n      var k1 = _p[10];\n      var l1 = _p[11];\n      var m1 = _p[12];\n      var n1 = _p[13];\n      var o1 = _p[14];\n      var p1 = _p[15];\n      /* matrix order (canvas compatible):\r\n           * ace\r\n           * bdf\r\n           * 001\r\n           */\n\n      _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n      _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\n      _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\n      _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\n      _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\n      _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\n      _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\n      _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\n      _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\n      _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\n      _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\n      _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\n      _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\n      _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\n      _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\n      _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\n      this._identityCalculated = false;\n      return this;\n    }\n\n    function isIdentity() {\n      if (!this._identityCalculated) {\n        this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\n        this._identityCalculated = true;\n      }\n\n      return this._identity;\n    }\n\n    function equals(matr) {\n      var i = 0;\n\n      while (i < 16) {\n        if (matr.props[i] !== this.props[i]) {\n          return false;\n        }\n\n        i += 1;\n      }\n\n      return true;\n    }\n\n    function clone(matr) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        matr.props[i] = this.props[i];\n      }\n\n      return matr;\n    }\n\n    function cloneFromProps(props) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        this.props[i] = props[i];\n      }\n    }\n\n    function applyToPoint(x, y, z) {\n      return {\n        x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n        y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n        z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n      };\n      /* return {\r\n           x: x * me.a + y * me.c + me.e,\r\n           y: x * me.b + y * me.d + me.f\r\n           }; */\n    }\n\n    function applyToX(x, y, z) {\n      return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n    }\n\n    function applyToY(x, y, z) {\n      return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n    }\n\n    function applyToZ(x, y, z) {\n      return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n    }\n\n    function getInverseMatrix() {\n      var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n      var a = this.props[5] / determinant;\n      var b = -this.props[1] / determinant;\n      var c = -this.props[4] / determinant;\n      var d = this.props[0] / determinant;\n      var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\n      var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\n      var inverseMatrix = new Matrix();\n      inverseMatrix.props[0] = a;\n      inverseMatrix.props[1] = b;\n      inverseMatrix.props[4] = c;\n      inverseMatrix.props[5] = d;\n      inverseMatrix.props[12] = e;\n      inverseMatrix.props[13] = f;\n      return inverseMatrix;\n    }\n\n    function inversePoint(pt) {\n      var inverseMatrix = this.getInverseMatrix();\n      return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\n    }\n\n    function inversePoints(pts) {\n      var i;\n      var len = pts.length;\n      var retPts = [];\n\n      for (i = 0; i < len; i += 1) {\n        retPts[i] = inversePoint(pts[i]);\n      }\n\n      return retPts;\n    }\n\n    function applyToTriplePoints(pt1, pt2, pt3) {\n      var arr = createTypedArray('float32', 6);\n\n      if (this.isIdentity()) {\n        arr[0] = pt1[0];\n        arr[1] = pt1[1];\n        arr[2] = pt2[0];\n        arr[3] = pt2[1];\n        arr[4] = pt3[0];\n        arr[5] = pt3[1];\n      } else {\n        var p0 = this.props[0];\n        var p1 = this.props[1];\n        var p4 = this.props[4];\n        var p5 = this.props[5];\n        var p12 = this.props[12];\n        var p13 = this.props[13];\n        arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\n        arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\n        arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\n        arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\n        arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\n        arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\n      }\n\n      return arr;\n    }\n\n    function applyToPointArray(x, y, z) {\n      var arr;\n\n      if (this.isIdentity()) {\n        arr = [x, y, z];\n      } else {\n        arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12], x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13], x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n      }\n\n      return arr;\n    }\n\n    function applyToPointStringified(x, y) {\n      if (this.isIdentity()) {\n        return x + ',' + y;\n      }\n\n      var _p = this.props;\n      return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\n    }\n\n    function toCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\n      var i = 0;\n      var props = this.props;\n      var cssValue = 'matrix3d(';\n      var v = 10000;\n\n      while (i < 16) {\n        cssValue += _rnd(props[i] * v) / v;\n        cssValue += i === 15 ? ')' : ',';\n        i += 1;\n      }\n\n      return cssValue;\n    }\n\n    function roundMatrixProperty(val) {\n      var v = 10000;\n\n      if (val < 0.000001 && val > 0 || val > -0.000001 && val < 0) {\n        return _rnd(val * v) / v;\n      }\n\n      return val;\n    }\n\n    function to2dCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\n      var props = this.props;\n\n      var _a = roundMatrixProperty(props[0]);\n\n      var _b = roundMatrixProperty(props[1]);\n\n      var _c = roundMatrixProperty(props[4]);\n\n      var _d = roundMatrixProperty(props[5]);\n\n      var _e = roundMatrixProperty(props[12]);\n\n      var _f = roundMatrixProperty(props[13]);\n\n      return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\n    }\n\n    return function () {\n      this.reset = reset;\n      this.rotate = rotate;\n      this.rotateX = rotateX;\n      this.rotateY = rotateY;\n      this.rotateZ = rotateZ;\n      this.skew = skew;\n      this.skewFromAxis = skewFromAxis;\n      this.shear = shear;\n      this.scale = scale;\n      this.setTransform = setTransform;\n      this.translate = translate;\n      this.transform = transform;\n      this.applyToPoint = applyToPoint;\n      this.applyToX = applyToX;\n      this.applyToY = applyToY;\n      this.applyToZ = applyToZ;\n      this.applyToPointArray = applyToPointArray;\n      this.applyToTriplePoints = applyToTriplePoints;\n      this.applyToPointStringified = applyToPointStringified;\n      this.toCSS = toCSS;\n      this.to2dCSS = to2dCSS;\n      this.clone = clone;\n      this.cloneFromProps = cloneFromProps;\n      this.equals = equals;\n      this.inversePoints = inversePoints;\n      this.inversePoint = inversePoint;\n      this.getInverseMatrix = getInverseMatrix;\n      this._t = this.transform;\n      this.isIdentity = isIdentity;\n      this._identity = true;\n      this._identityCalculated = false;\n      this.props = createTypedArray('float32', 16);\n      this.reset();\n    };\n  }();\n\n  function _typeof$3(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$3 = function _typeof(obj) { return typeof obj; }; } else { _typeof$3 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$3(obj); }\n  var lottie = {};\n  var standalone = '__[STANDALONE]__';\n  var animationData = '__[ANIMATIONDATA]__';\n  var renderer = '';\n\n  function setLocation(href) {\n    setLocationHref(href);\n  }\n\n  function searchAnimations() {\n    if (standalone === true) {\n      animationManager.searchAnimations(animationData, standalone, renderer);\n    } else {\n      animationManager.searchAnimations();\n    }\n  }\n\n  function setSubframeRendering(flag) {\n    setSubframeEnabled(flag);\n  }\n\n  function setPrefix(prefix) {\n    setIdPrefix(prefix);\n  }\n\n  function loadAnimation(params) {\n    if (standalone === true) {\n      params.animationData = JSON.parse(animationData);\n    }\n\n    return animationManager.loadAnimation(params);\n  }\n\n  function setQuality(value) {\n    if (typeof value === 'string') {\n      switch (value) {\n        case 'high':\n          setDefaultCurveSegments(200);\n          break;\n\n        default:\n        case 'medium':\n          setDefaultCurveSegments(50);\n          break;\n\n        case 'low':\n          setDefaultCurveSegments(10);\n          break;\n      }\n    } else if (!isNaN(value) && value > 1) {\n      setDefaultCurveSegments(value);\n    }\n\n    if (getDefaultCurveSegments() >= 50) {\n      roundValues(false);\n    } else {\n      roundValues(true);\n    }\n  }\n\n  function inBrowser() {\n    return typeof navigator !== 'undefined';\n  }\n\n  function installPlugin(type, plugin) {\n    if (type === 'expressions') {\n      setExpressionsPlugin(plugin);\n    }\n  }\n\n  function getFactory(name) {\n    switch (name) {\n      case 'propertyFactory':\n        return PropertyFactory;\n\n      case 'shapePropertyFactory':\n        return ShapePropertyFactory;\n\n      case 'matrix':\n        return Matrix;\n\n      default:\n        return null;\n    }\n  }\n\n  lottie.play = animationManager.play;\n  lottie.pause = animationManager.pause;\n  lottie.setLocationHref = setLocation;\n  lottie.togglePause = animationManager.togglePause;\n  lottie.setSpeed = animationManager.setSpeed;\n  lottie.setDirection = animationManager.setDirection;\n  lottie.stop = animationManager.stop;\n  lottie.searchAnimations = searchAnimations;\n  lottie.registerAnimation = animationManager.registerAnimation;\n  lottie.loadAnimation = loadAnimation;\n  lottie.setSubframeRendering = setSubframeRendering;\n  lottie.resize = animationManager.resize; // lottie.start = start;\n\n  lottie.goToAndStop = animationManager.goToAndStop;\n  lottie.destroy = animationManager.destroy;\n  lottie.setQuality = setQuality;\n  lottie.inBrowser = inBrowser;\n  lottie.installPlugin = installPlugin;\n  lottie.freeze = animationManager.freeze;\n  lottie.unfreeze = animationManager.unfreeze;\n  lottie.setVolume = animationManager.setVolume;\n  lottie.mute = animationManager.mute;\n  lottie.unmute = animationManager.unmute;\n  lottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\n  lottie.useWebWorker = setWebWorker;\n  lottie.setIDPrefix = setPrefix;\n  lottie.__getFactory = getFactory;\n  lottie.version = '5.9.4';\n\n  function checkReady() {\n    if (document.readyState === 'complete') {\n      clearInterval(readyStateCheckInterval);\n      searchAnimations();\n    }\n  }\n\n  function getQueryVariable(variable) {\n    var vars = queryString.split('&');\n\n    for (var i = 0; i < vars.length; i += 1) {\n      var pair = vars[i].split('=');\n\n      if (decodeURIComponent(pair[0]) == variable) {\n        // eslint-disable-line eqeqeq\n        return decodeURIComponent(pair[1]);\n      }\n    }\n\n    return null;\n  }\n\n  var queryString = '';\n\n  if (standalone) {\n    var scripts = document.getElementsByTagName('script');\n    var index = scripts.length - 1;\n    var myScript = scripts[index] || {\n      src: ''\n    };\n    queryString = myScript.src ? myScript.src.replace(/^[^\\?]+\\??/, '') : ''; // eslint-disable-line no-useless-escape\n\n    renderer = getQueryVariable('renderer');\n  }\n\n  var readyStateCheckInterval = setInterval(checkReady, 100); // this adds bodymovin to the window object for backwards compatibility\n\n  try {\n    if (!((typeof exports === \"undefined\" ? \"undefined\" : _typeof$3(exports)) === 'object' && typeof module !== 'undefined') && !(typeof define === 'function' && define.amd) // eslint-disable-line no-undef\n    ) {\n      window.bodymovin = lottie;\n    }\n  } catch (err) {//\n  }\n\n  var ShapeModifiers = function () {\n    var ob = {};\n    var modifiers = {};\n    ob.registerModifier = registerModifier;\n    ob.getModifier = getModifier;\n\n    function registerModifier(nm, factory) {\n      if (!modifiers[nm]) {\n        modifiers[nm] = factory;\n      }\n    }\n\n    function getModifier(nm, elem, data) {\n      return new modifiers[nm](elem, data);\n    }\n\n    return ob;\n  }();\n\n  function ShapeModifier() {}\n\n  ShapeModifier.prototype.initModifierProperties = function () {};\n\n  ShapeModifier.prototype.addShapeToModifier = function () {};\n\n  ShapeModifier.prototype.addShape = function (data) {\n    if (!this.closed) {\n      // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\n      data.sh.container.addDynamicProperty(data.sh);\n      var shapeData = {\n        shape: data.sh,\n        data: data,\n        localShapeCollection: shapeCollectionPool.newShapeCollection()\n      };\n      this.shapes.push(shapeData);\n      this.addShapeToModifier(shapeData);\n\n      if (this._isAnimated) {\n        data.setAsAnimated();\n      }\n    }\n  };\n\n  ShapeModifier.prototype.init = function (elem, data) {\n    this.shapes = [];\n    this.elem = elem;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, data);\n    this.frameId = initialDefaultFrame;\n    this.closed = false;\n    this.k = false;\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  ShapeModifier.prototype.processKeys = function () {\n    if (this.elem.globalData.frameId === this.frameId) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  extendPrototype([DynamicPropertyContainer], ShapeModifier);\n\n  function TrimModifier() {}\n\n  extendPrototype([ShapeModifier], TrimModifier);\n\n  TrimModifier.prototype.initModifierProperties = function (elem, data) {\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\n    this.sValue = 0;\n    this.eValue = 0;\n    this.getValue = this.processKeys;\n    this.m = data.m;\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\n  };\n\n  TrimModifier.prototype.addShapeToModifier = function (shapeData) {\n    shapeData.pathsData = [];\n  };\n\n  TrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\n    var segments = [];\n\n    if (e <= 1) {\n      segments.push({\n        s: s,\n        e: e\n      });\n    } else if (s >= 1) {\n      segments.push({\n        s: s - 1,\n        e: e - 1\n      });\n    } else {\n      segments.push({\n        s: s,\n        e: 1\n      });\n      segments.push({\n        s: 0,\n        e: e - 1\n      });\n    }\n\n    var shapeSegments = [];\n    var i;\n    var len = segments.length;\n    var segmentOb;\n\n    for (i = 0; i < len; i += 1) {\n      segmentOb = segments[i];\n\n      if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\n        var shapeS;\n        var shapeE;\n\n        if (segmentOb.s * totalModifierLength <= addedLength) {\n          shapeS = 0;\n        } else {\n          shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\n          shapeE = 1;\n        } else {\n          shapeE = (segmentOb.e * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        shapeSegments.push([shapeS, shapeE]);\n      }\n    }\n\n    if (!shapeSegments.length) {\n      shapeSegments.push([0, 0]);\n    }\n\n    return shapeSegments;\n  };\n\n  TrimModifier.prototype.releasePathsData = function (pathsData) {\n    var i;\n    var len = pathsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      segmentsLengthPool.release(pathsData[i]);\n    }\n\n    pathsData.length = 0;\n    return pathsData;\n  };\n\n  TrimModifier.prototype.processShapes = function (_isFirstFrame) {\n    var s;\n    var e;\n\n    if (this._mdf || _isFirstFrame) {\n      var o = this.o.v % 360 / 360;\n\n      if (o < 0) {\n        o += 1;\n      }\n\n      if (this.s.v > 1) {\n        s = 1 + o;\n      } else if (this.s.v < 0) {\n        s = 0 + o;\n      } else {\n        s = this.s.v + o;\n      }\n\n      if (this.e.v > 1) {\n        e = 1 + o;\n      } else if (this.e.v < 0) {\n        e = 0 + o;\n      } else {\n        e = this.e.v + o;\n      }\n\n      if (s > e) {\n        var _s = s;\n        s = e;\n        e = _s;\n      }\n\n      s = Math.round(s * 10000) * 0.0001;\n      e = Math.round(e * 10000) * 0.0001;\n      this.sValue = s;\n      this.eValue = e;\n    } else {\n      s = this.sValue;\n      e = this.eValue;\n    }\n\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var pathsData;\n    var pathData;\n    var totalShapeLength;\n    var totalModifierLength = 0;\n\n    if (e === s) {\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].localShapeCollection.releaseShapes();\n        this.shapes[i].shape._mdf = true;\n        this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\n\n        if (this._mdf) {\n          this.shapes[i].pathsData.length = 0;\n        }\n      }\n    } else if (!(e === 1 && s === 0 || e === 0 && s === 1)) {\n      var segments = [];\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i]; // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\n\n        if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\n          shapeData.shape.paths = shapeData.localShapeCollection;\n        } else {\n          shapePaths = shapeData.shape.paths;\n          jLen = shapePaths._length;\n          totalShapeLength = 0;\n\n          if (!shapeData.shape._mdf && shapeData.pathsData.length) {\n            totalShapeLength = shapeData.totalShapeLength;\n          } else {\n            pathsData = this.releasePathsData(shapeData.pathsData);\n\n            for (j = 0; j < jLen; j += 1) {\n              pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\n              pathsData.push(pathData);\n              totalShapeLength += pathData.totalLength;\n            }\n\n            shapeData.totalShapeLength = totalShapeLength;\n            shapeData.pathsData = pathsData;\n          }\n\n          totalModifierLength += totalShapeLength;\n          shapeData.shape._mdf = true;\n        }\n      }\n\n      var shapeS = s;\n      var shapeE = e;\n      var addedLength = 0;\n      var edges;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shapeData = this.shapes[i];\n\n        if (shapeData.shape._mdf) {\n          localShapeCollection = shapeData.localShapeCollection;\n          localShapeCollection.releaseShapes(); // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\n\n          if (this.m === 2 && len > 1) {\n            edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\n            addedLength += shapeData.totalShapeLength;\n          } else {\n            edges = [[shapeS, shapeE]];\n          }\n\n          jLen = edges.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            shapeS = edges[j][0];\n            shapeE = edges[j][1];\n            segments.length = 0;\n\n            if (shapeE <= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength * shapeE\n              });\n            } else if (shapeS >= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * (shapeS - 1),\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            } else {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength\n              });\n              segments.push({\n                s: 0,\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            }\n\n            var newShapesData = this.addShapes(shapeData, segments[0]);\n\n            if (segments[0].s !== segments[0].e) {\n              if (segments.length > 1) {\n                var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\n\n                if (lastShapeInCollection.c) {\n                  var lastShape = newShapesData.pop();\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1], lastShape);\n                } else {\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1]);\n                }\n              }\n\n              this.addPaths(newShapesData, localShapeCollection);\n            }\n          }\n\n          shapeData.shape.paths = localShapeCollection;\n        }\n      }\n    } else if (this._mdf) {\n      for (i = 0; i < len; i += 1) {\n        // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n        // Don't remove this even if it's losing cached info.\n        this.shapes[i].pathsData.length = 0;\n        this.shapes[i].shape._mdf = true;\n      }\n    }\n  };\n\n  TrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\n    var i;\n    var len = newPaths.length;\n\n    for (i = 0; i < len; i += 1) {\n      localShapeCollection.addShape(newPaths[i]);\n    }\n  };\n\n  TrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\n    }\n\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(points[0], points[4], 'v', pos);\n    }\n\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\n    var pathsData = shapeData.pathsData;\n    var shapePaths = shapeData.shape.paths.shapes;\n    var i;\n    var len = shapeData.shape.paths._length;\n    var j;\n    var jLen;\n    var addedLength = 0;\n    var currentLengthData;\n    var segmentCount;\n    var lengths;\n    var segment;\n    var shapes = [];\n    var initPos;\n    var newShape = true;\n\n    if (!shapePath) {\n      shapePath = shapePool.newElement();\n      segmentCount = 0;\n      initPos = 0;\n    } else {\n      segmentCount = shapePath._length;\n      initPos = shapePath._length;\n    }\n\n    shapes.push(shapePath);\n\n    for (i = 0; i < len; i += 1) {\n      lengths = pathsData[i].lengths;\n      shapePath.c = shapePaths[i].c;\n      jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\n\n      for (j = 1; j < jLen; j += 1) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\n          addedLength += currentLengthData.addedLength;\n          shapePath.c = false;\n        } else if (addedLength > shapeSegment.e) {\n          shapePath.c = false;\n          break;\n        } else {\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n\n          addedLength += currentLengthData.addedLength;\n          segmentCount += 1;\n        }\n      }\n\n      if (shapePaths[i].c && lengths.length) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength <= shapeSegment.e) {\n          var segmentLength = lengths[j - 1].addedLength;\n\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n        } else {\n          shapePath.c = false;\n        }\n\n        addedLength += currentLengthData.addedLength;\n        segmentCount += 1;\n      }\n\n      if (shapePath._length) {\n        shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\n        shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\n      }\n\n      if (addedLength > shapeSegment.e) {\n        break;\n      }\n\n      if (i < len - 1) {\n        shapePath = shapePool.newElement();\n        newShape = true;\n        shapes.push(shapePath);\n        segmentCount = 0;\n      }\n    }\n\n    return shapes;\n  };\n\n  function PuckerAndBloatModifier() {}\n\n  extendPrototype([ShapeModifier], PuckerAndBloatModifier);\n\n  PuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n    this._isAnimated = !!this.amount.effectsSequence.length;\n  };\n\n  PuckerAndBloatModifier.prototype.processPath = function (path, amount) {\n    var percent = amount / 100;\n    var centerPoint = [0, 0];\n    var pathLength = path._length;\n    var i = 0;\n\n    for (i = 0; i < pathLength; i += 1) {\n      centerPoint[0] += path.v[i][0];\n      centerPoint[1] += path.v[i][1];\n    }\n\n    centerPoint[0] /= pathLength;\n    centerPoint[1] /= pathLength;\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < pathLength; i += 1) {\n      vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\n      vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\n      oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\n      oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\n      iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\n      iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\n      clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\n    }\n\n    return clonedPath;\n  };\n\n  PuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amount = this.amount.v;\n\n    if (amount !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  var TransformPropertyFactory = function () {\n    var defaultVector = [0, 0];\n\n    function applyToMatrix(mat) {\n      var _mdf = this._mdf;\n      this.iterateDynamicProperties();\n      this._mdf = this._mdf || _mdf;\n\n      if (this.a) {\n        mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      }\n\n      if (this.s) {\n        mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      }\n\n      if (this.sk) {\n        mat.skewFromAxis(-this.sk.v, this.sa.v);\n      }\n\n      if (this.r) {\n        mat.rotate(-this.r.v);\n      } else {\n        mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n      }\n\n      if (this.data.p.s) {\n        if (this.data.p.z) {\n          mat.translate(this.px.v, this.py.v, -this.pz.v);\n        } else {\n          mat.translate(this.px.v, this.py.v, 0);\n        }\n      } else {\n        mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n      }\n    }\n\n    function processKeys(forceRender) {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (this._isDirty) {\n        this.precalculateMatrix();\n        this._isDirty = false;\n      }\n\n      this.iterateDynamicProperties();\n\n      if (this._mdf || forceRender) {\n        var frameRate;\n        this.v.cloneFromProps(this.pre.props);\n\n        if (this.appliedTransformations < 1) {\n          this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        }\n\n        if (this.appliedTransformations < 2) {\n          this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        }\n\n        if (this.sk && this.appliedTransformations < 3) {\n          this.v.skewFromAxis(-this.sk.v, this.sa.v);\n        }\n\n        if (this.r && this.appliedTransformations < 4) {\n          this.v.rotate(-this.r.v);\n        } else if (!this.r && this.appliedTransformations < 4) {\n          this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        }\n\n        if (this.autoOriented) {\n          var v1;\n          var v2;\n          frameRate = this.elem.globalData.frameRate;\n\n          if (this.p && this.p.keyframes && this.p.getValueAtTime) {\n            if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\n              v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\n              v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\n            } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\n              v1 = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / frameRate, 0);\n              v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\n            } else {\n              v1 = this.p.pv;\n              v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\n            }\n          } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\n            v1 = [];\n            v2 = [];\n            var px = this.px;\n            var py = this.py;\n\n            if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\n              v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\n              v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\n              v2[0] = px.getValueAtTime(px.keyframes[0].t / frameRate, 0);\n              v2[1] = py.getValueAtTime(py.keyframes[0].t / frameRate, 0);\n            } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\n              v1[0] = px.getValueAtTime(px.keyframes[px.keyframes.length - 1].t / frameRate, 0);\n              v1[1] = py.getValueAtTime(py.keyframes[py.keyframes.length - 1].t / frameRate, 0);\n              v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\n              v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\n            } else {\n              v1 = [px.pv, py.pv];\n              v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\n              v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\n            }\n          } else {\n            v2 = defaultVector;\n            v1 = v2;\n          }\n\n          this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\n        }\n\n        if (this.data.p && this.data.p.s) {\n          if (this.data.p.z) {\n            this.v.translate(this.px.v, this.py.v, -this.pz.v);\n          } else {\n            this.v.translate(this.px.v, this.py.v, 0);\n          }\n        } else {\n          this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n        }\n      }\n\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function precalculateMatrix() {\n      if (!this.a.k) {\n        this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        this.appliedTransformations = 1;\n      } else {\n        return;\n      }\n\n      if (!this.s.effectsSequence.length) {\n        this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        this.appliedTransformations = 2;\n      } else {\n        return;\n      }\n\n      if (this.sk) {\n        if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\n          this.pre.skewFromAxis(-this.sk.v, this.sa.v);\n          this.appliedTransformations = 3;\n        } else {\n          return;\n        }\n      }\n\n      if (this.r) {\n        if (!this.r.effectsSequence.length) {\n          this.pre.rotate(-this.r.v);\n          this.appliedTransformations = 4;\n        }\n      } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\n        this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        this.appliedTransformations = 4;\n      }\n    }\n\n    function autoOrient() {//\n      // var prevP = this.getValueAtTime();\n    }\n\n    function addDynamicProperty(prop) {\n      this._addDynamicProperty(prop);\n\n      this.elem.addDynamicProperty(prop);\n      this._isDirty = true;\n    }\n\n    function TransformProperty(elem, data, container) {\n      this.elem = elem;\n      this.frameId = -1;\n      this.propType = 'transform';\n      this.data = data;\n      this.v = new Matrix(); // Precalculated matrix with non animated properties\n\n      this.pre = new Matrix();\n      this.appliedTransformations = 0;\n      this.initDynamicPropertyContainer(container || elem);\n\n      if (data.p && data.p.s) {\n        this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\n        this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\n\n        if (data.p.z) {\n          this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\n        }\n      } else {\n        this.p = PropertyFactory.getProp(elem, data.p || {\n          k: [0, 0, 0]\n        }, 1, 0, this);\n      }\n\n      if (data.rx) {\n        this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\n        this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\n        this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\n\n        if (data.or.k[0].ti) {\n          var i;\n          var len = data.or.k.length;\n\n          for (i = 0; i < len; i += 1) {\n            data.or.k[i].to = null;\n            data.or.k[i].ti = null;\n          }\n        }\n\n        this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this); // sh Indicates it needs to be capped between -180 and 180\n\n        this.or.sh = true;\n      } else {\n        this.r = PropertyFactory.getProp(elem, data.r || {\n          k: 0\n        }, 0, degToRads, this);\n      }\n\n      if (data.sk) {\n        this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\n        this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\n      }\n\n      this.a = PropertyFactory.getProp(elem, data.a || {\n        k: [0, 0, 0]\n      }, 1, 0, this);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: [100, 100, 100]\n      }, 1, 0.01, this); // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\n\n      if (data.o) {\n        this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\n      } else {\n        this.o = {\n          _mdf: false,\n          v: 1\n        };\n      }\n\n      this._isDirty = true;\n\n      if (!this.dynamicProperties.length) {\n        this.getValue(true);\n      }\n    }\n\n    TransformProperty.prototype = {\n      applyToMatrix: applyToMatrix,\n      getValue: processKeys,\n      precalculateMatrix: precalculateMatrix,\n      autoOrient: autoOrient\n    };\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\n\n    function getTransformProperty(elem, data, container) {\n      return new TransformProperty(elem, data, container);\n    }\n\n    return {\n      getTransformProperty: getTransformProperty\n    };\n  }();\n\n  function RepeaterModifier() {}\n\n  extendPrototype([ShapeModifier], RepeaterModifier);\n\n  RepeaterModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\n    this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\n    this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\n    this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\n    this.data = data;\n\n    if (!this.dynamicProperties.length) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = !!this.dynamicProperties.length;\n    this.pMatrix = new Matrix();\n    this.rMatrix = new Matrix();\n    this.sMatrix = new Matrix();\n    this.tMatrix = new Matrix();\n    this.matrix = new Matrix();\n  };\n\n  RepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\n    var dir = inv ? -1 : 1;\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    rMatrix.rotate(-transform.r.v * dir * perc);\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n  };\n\n  RepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\n    this.elem = elem;\n    this.arr = arr;\n    this.pos = pos;\n    this.elemsData = elemsData;\n    this._currentCopies = 0;\n    this._elements = [];\n    this._groups = [];\n    this.frameId = -1;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, arr[pos]);\n\n    while (pos > 0) {\n      pos -= 1; // this._elements.unshift(arr.splice(pos,1)[0]);\n\n      this._elements.unshift(arr[pos]);\n    }\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  RepeaterModifier.prototype.resetElements = function (elements) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._processed = false;\n\n      if (elements[i].ty === 'gr') {\n        this.resetElements(elements[i].it);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.cloneElements = function (elements) {\n    var newElements = JSON.parse(JSON.stringify(elements));\n    this.resetElements(newElements);\n    return newElements;\n  };\n\n  RepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._render = renderFlag;\n\n      if (elements[i].ty === 'gr') {\n        this.changeGroupRender(elements[i].it, renderFlag);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\n    var items;\n    var itemsTransform;\n    var i;\n    var dir;\n    var cont;\n    var hasReloaded = false;\n\n    if (this._mdf || _isFirstFrame) {\n      var copies = Math.ceil(this.c.v);\n\n      if (this._groups.length < copies) {\n        while (this._groups.length < copies) {\n          var group = {\n            it: this.cloneElements(this._elements),\n            ty: 'gr'\n          };\n          group.it.push({\n            a: {\n              a: 0,\n              ix: 1,\n              k: [0, 0]\n            },\n            nm: 'Transform',\n            o: {\n              a: 0,\n              ix: 7,\n              k: 100\n            },\n            p: {\n              a: 0,\n              ix: 2,\n              k: [0, 0]\n            },\n            r: {\n              a: 1,\n              ix: 6,\n              k: [{\n                s: 0,\n                e: 0,\n                t: 0\n              }, {\n                s: 0,\n                e: 0,\n                t: 1\n              }]\n            },\n            s: {\n              a: 0,\n              ix: 3,\n              k: [100, 100]\n            },\n            sa: {\n              a: 0,\n              ix: 5,\n              k: 0\n            },\n            sk: {\n              a: 0,\n              ix: 4,\n              k: 0\n            },\n            ty: 'tr'\n          });\n          this.arr.splice(0, 0, group);\n\n          this._groups.splice(0, 0, group);\n\n          this._currentCopies += 1;\n        }\n\n        this.elem.reloadShapes();\n        hasReloaded = true;\n      }\n\n      cont = 0;\n      var renderFlag;\n\n      for (i = 0; i <= this._groups.length - 1; i += 1) {\n        renderFlag = cont < copies;\n        this._groups[i]._render = renderFlag;\n        this.changeGroupRender(this._groups[i].it, renderFlag);\n\n        if (!renderFlag) {\n          var elems = this.elemsData[i].it;\n          var transformData = elems[elems.length - 1];\n\n          if (transformData.transform.op.v !== 0) {\n            transformData.transform.op._mdf = true;\n            transformData.transform.op.v = 0;\n          } else {\n            transformData.transform.op._mdf = false;\n          }\n        }\n\n        cont += 1;\n      }\n\n      this._currentCopies = copies; /// /\n\n      var offset = this.o.v;\n      var offsetModulo = offset % 1;\n      var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\n      var pProps = this.pMatrix.props;\n      var rProps = this.rMatrix.props;\n      var sProps = this.sMatrix.props;\n      this.pMatrix.reset();\n      this.rMatrix.reset();\n      this.sMatrix.reset();\n      this.tMatrix.reset();\n      this.matrix.reset();\n      var iteration = 0;\n\n      if (offset > 0) {\n        while (iteration < roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          iteration += 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\n          iteration += offsetModulo;\n        }\n      } else if (offset < 0) {\n        while (iteration > roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\n          iteration -= 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\n          iteration -= offsetModulo;\n        }\n      }\n\n      i = this.data.m === 1 ? 0 : this._currentCopies - 1;\n      dir = this.data.m === 1 ? 1 : -1;\n      cont = this._currentCopies;\n      var j;\n      var jLen;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        jLen = itemsTransform.length;\n        items[items.length - 1].transform.mProps._mdf = true;\n        items[items.length - 1].transform.op._mdf = true;\n        items[items.length - 1].transform.op.v = this._currentCopies === 1 ? this.so.v : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\n\n        if (iteration !== 0) {\n          if (i !== 0 && dir === 1 || i !== this._currentCopies - 1 && dir === -1) {\n            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          }\n\n          this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\n          this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\n          this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n\n          this.matrix.reset();\n        } else {\n          this.matrix.reset();\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n        }\n\n        iteration += 1;\n        cont -= 1;\n        i += dir;\n      }\n    } else {\n      cont = this._currentCopies;\n      i = 0;\n      dir = 1;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        items[items.length - 1].transform.mProps._mdf = false;\n        items[items.length - 1].transform.op._mdf = false;\n        cont -= 1;\n        i += dir;\n      }\n    }\n\n    return hasReloaded;\n  };\n\n  RepeaterModifier.prototype.addShape = function () {};\n\n  function RoundCornersModifier() {}\n\n  extendPrototype([ShapeModifier], RoundCornersModifier);\n\n  RoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this._isAnimated = !!this.rd.effectsSequence.length;\n  };\n\n  RoundCornersModifier.prototype.processPath = function (path, round) {\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var i;\n    var len = path._length;\n    var currentV;\n    var currentI;\n    var currentO;\n    var closerV;\n    var distance;\n    var newPosPerc;\n    var index = 0;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < len; i += 1) {\n      currentV = path.v[i];\n      currentO = path.o[i];\n      currentI = path.i[i];\n\n      if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\n        if ((i === 0 || i === len - 1) && !path.c) {\n          clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\n          /* clonedPath.v[index] = currentV;\r\n                  clonedPath.o[index] = currentO;\r\n                  clonedPath.i[index] = currentI; */\n\n          index += 1;\n        } else {\n          if (i === 0) {\n            closerV = path.v[len - 1];\n          } else {\n            closerV = path.v[i - 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = iX;\n          iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\n          vY = iY;\n          oX = vX - (vX - currentV[0]) * roundCorner;\n          oY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n\n          if (i === len - 1) {\n            closerV = path.v[0];\n          } else {\n            closerV = path.v[i + 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = oX;\n          oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\n          vY = oY;\n          iX = vX - (vX - currentV[0]) * roundCorner;\n          iY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n        }\n      } else {\n        clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\n        index += 1;\n      }\n    }\n\n    return clonedPath;\n  };\n\n  RoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var rd = this.rd.v;\n\n    if (rd !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function getFontProperties(fontData) {\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\n    var fWeight = 'normal';\n    var fStyle = 'normal';\n    var len = styles.length;\n    var styleName;\n\n    for (var i = 0; i < len; i += 1) {\n      styleName = styles[i].toLowerCase();\n\n      switch (styleName) {\n        case 'italic':\n          fStyle = 'italic';\n          break;\n\n        case 'bold':\n          fWeight = '700';\n          break;\n\n        case 'black':\n          fWeight = '900';\n          break;\n\n        case 'medium':\n          fWeight = '500';\n          break;\n\n        case 'regular':\n        case 'normal':\n          fWeight = '400';\n          break;\n\n        case 'light':\n        case 'thin':\n          fWeight = '200';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return {\n      style: fStyle,\n      weight: fontData.fWeight || fWeight\n    };\n  }\n\n  var FontManager = function () {\n    var maxWaitingTime = 5000;\n    var emptyChar = {\n      w: 0,\n      size: 0,\n      shapes: [],\n      data: {\n        shapes: []\n      }\n    };\n    var combinedCharacters = []; // Hindi characters\n\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\n    var surrogateModifiers = ['d83cdffb', 'd83cdffc', 'd83cdffd', 'd83cdffe', 'd83cdfff'];\n    var zeroWidthJoiner = [65039, 8205];\n\n    function trimFontOptions(font) {\n      var familyArray = font.split(',');\n      var i;\n      var len = familyArray.length;\n      var enabledFamilies = [];\n\n      for (i = 0; i < len; i += 1) {\n        if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\n          enabledFamilies.push(familyArray[i]);\n        }\n      }\n\n      return enabledFamilies.join(',');\n    }\n\n    function setUpNode(font, family) {\n      var parentNode = createTag('span'); // Node is invisible to screen readers.\n\n      parentNode.setAttribute('aria-hidden', true);\n      parentNode.style.fontFamily = family;\n      var node = createTag('span'); // Characters that vary significantly among different fonts\n\n      node.innerText = 'giItT1WQy@!-/#'; // Visible - so we can measure it - but not on the screen\n\n      parentNode.style.position = 'absolute';\n      parentNode.style.left = '-10000px';\n      parentNode.style.top = '-10000px'; // Large font size makes even subtle changes obvious\n\n      parentNode.style.fontSize = '300px'; // Reset any font properties\n\n      parentNode.style.fontVariant = 'normal';\n      parentNode.style.fontStyle = 'normal';\n      parentNode.style.fontWeight = 'normal';\n      parentNode.style.letterSpacing = '0';\n      parentNode.appendChild(node);\n      document.body.appendChild(parentNode); // Remember width with no applied web font\n\n      var width = node.offsetWidth;\n      node.style.fontFamily = trimFontOptions(font) + ', ' + family;\n      return {\n        node: node,\n        w: width,\n        parent: parentNode\n      };\n    }\n\n    function checkLoadedFonts() {\n      var i;\n      var len = this.fonts.length;\n      var node;\n      var w;\n      var loadedCount = len;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.fonts[i].loaded) {\n          loadedCount -= 1;\n        } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\n          this.fonts[i].loaded = true;\n        } else {\n          node = this.fonts[i].monoCase.node;\n          w = this.fonts[i].monoCase.w;\n\n          if (node.offsetWidth !== w) {\n            loadedCount -= 1;\n            this.fonts[i].loaded = true;\n          } else {\n            node = this.fonts[i].sansCase.node;\n            w = this.fonts[i].sansCase.w;\n\n            if (node.offsetWidth !== w) {\n              loadedCount -= 1;\n              this.fonts[i].loaded = true;\n            }\n          }\n\n          if (this.fonts[i].loaded) {\n            this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\n            this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\n          }\n        }\n      }\n\n      if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\n        setTimeout(this.checkLoadedFontsBinded, 20);\n      } else {\n        setTimeout(this.setIsLoadedBinded, 10);\n      }\n    }\n\n    function createHelper(fontData, def) {\n      var engine = document.body && def ? 'svg' : 'canvas';\n      var helper;\n      var fontProps = getFontProperties(fontData);\n\n      if (engine === 'svg') {\n        var tHelper = createNS('text');\n        tHelper.style.fontSize = '100px'; // tHelper.style.fontFamily = fontData.fFamily;\n\n        tHelper.setAttribute('font-family', fontData.fFamily);\n        tHelper.setAttribute('font-style', fontProps.style);\n        tHelper.setAttribute('font-weight', fontProps.weight);\n        tHelper.textContent = '1';\n\n        if (fontData.fClass) {\n          tHelper.style.fontFamily = 'inherit';\n          tHelper.setAttribute('class', fontData.fClass);\n        } else {\n          tHelper.style.fontFamily = fontData.fFamily;\n        }\n\n        def.appendChild(tHelper);\n        helper = tHelper;\n      } else {\n        var tCanvasHelper = new OffscreenCanvas(500, 500).getContext('2d');\n        tCanvasHelper.font = fontProps.style + ' ' + fontProps.weight + ' 100px ' + fontData.fFamily;\n        helper = tCanvasHelper;\n      }\n\n      function measure(text) {\n        if (engine === 'svg') {\n          helper.textContent = text;\n          return helper.getComputedTextLength();\n        }\n\n        return helper.measureText(text).width;\n      }\n\n      return {\n        measureText: measure\n      };\n    }\n\n    function addFonts(fontData, defs) {\n      if (!fontData) {\n        this.isLoaded = true;\n        return;\n      }\n\n      if (this.chars) {\n        this.isLoaded = true;\n        this.fonts = fontData.list;\n        return;\n      }\n\n      if (!document.body) {\n        this.isLoaded = true;\n        fontData.list.forEach(function (data) {\n          data.helper = createHelper(data);\n          data.cache = {};\n        });\n        this.fonts = fontData.list;\n        return;\n      }\n\n      var fontArr = fontData.list;\n      var i;\n      var len = fontArr.length;\n      var _pendingFonts = len;\n\n      for (i = 0; i < len; i += 1) {\n        var shouldLoadFont = true;\n        var loadedSelector;\n        var j;\n        fontArr[i].loaded = false;\n        fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\n        fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\n\n        if (!fontArr[i].fPath) {\n          fontArr[i].loaded = true;\n          _pendingFonts -= 1;\n        } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\n          loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\n\n          if (loadedSelector.length > 0) {\n            shouldLoadFont = false;\n          }\n\n          if (shouldLoadFont) {\n            var s = createTag('style');\n            s.setAttribute('f-forigin', fontArr[i].fOrigin);\n            s.setAttribute('f-origin', fontArr[i].origin);\n            s.setAttribute('f-family', fontArr[i].fFamily);\n            s.type = 'text/css';\n            s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\n            defs.appendChild(s);\n          }\n        } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\n          loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var l = createTag('link');\n            l.setAttribute('f-forigin', fontArr[i].fOrigin);\n            l.setAttribute('f-origin', fontArr[i].origin);\n            l.type = 'text/css';\n            l.rel = 'stylesheet';\n            l.href = fontArr[i].fPath;\n            document.body.appendChild(l);\n          }\n        } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\n          loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (fontArr[i].fPath === loadedSelector[j].src) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var sc = createTag('link');\n            sc.setAttribute('f-forigin', fontArr[i].fOrigin);\n            sc.setAttribute('f-origin', fontArr[i].origin);\n            sc.setAttribute('rel', 'stylesheet');\n            sc.setAttribute('href', fontArr[i].fPath);\n            defs.appendChild(sc);\n          }\n        }\n\n        fontArr[i].helper = createHelper(fontArr[i], defs);\n        fontArr[i].cache = {};\n        this.fonts.push(fontArr[i]);\n      }\n\n      if (_pendingFonts === 0) {\n        this.isLoaded = true;\n      } else {\n        // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\n        // Adding this timeout seems to fix it\n        setTimeout(this.checkLoadedFonts.bind(this), 100);\n      }\n    }\n\n    function addChars(chars) {\n      if (!chars) {\n        return;\n      }\n\n      if (!this.chars) {\n        this.chars = [];\n      }\n\n      var i;\n      var len = chars.length;\n      var j;\n      var jLen = this.chars.length;\n      var found;\n\n      for (i = 0; i < len; i += 1) {\n        j = 0;\n        found = false;\n\n        while (j < jLen) {\n          if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\n            found = true;\n          }\n\n          j += 1;\n        }\n\n        if (!found) {\n          this.chars.push(chars[i]);\n          jLen += 1;\n        }\n      }\n    }\n\n    function getCharData(_char, style, font) {\n      var i = 0;\n      var len = this.chars.length;\n\n      while (i < len) {\n        if (this.chars[i].ch === _char && this.chars[i].style === style && this.chars[i].fFamily === font) {\n          return this.chars[i];\n        }\n\n        i += 1;\n      }\n\n      if ((typeof _char === 'string' && _char.charCodeAt(0) !== 13 || !_char) && console && console.warn // eslint-disable-line no-console\n      && !this._warned) {\n        this._warned = true;\n        console.warn('Missing character from exported characters list: ', _char, style, font); // eslint-disable-line no-console\n      }\n\n      return emptyChar;\n    }\n\n    function measureText(_char2, fontName, size) {\n      var fontData = this.getFontByName(fontName);\n\n      var index = _char2.charCodeAt(0);\n\n      if (!fontData.cache[index + 1]) {\n        var tHelper = fontData.helper;\n\n        if (_char2 === ' ') {\n          var doubleSize = tHelper.measureText('|' + _char2 + '|');\n          var singleSize = tHelper.measureText('||');\n          fontData.cache[index + 1] = (doubleSize - singleSize) / 100;\n        } else {\n          fontData.cache[index + 1] = tHelper.measureText(_char2) / 100;\n        }\n      }\n\n      return fontData.cache[index + 1] * size;\n    }\n\n    function getFontByName(name) {\n      var i = 0;\n      var len = this.fonts.length;\n\n      while (i < len) {\n        if (this.fonts[i].fName === name) {\n          return this.fonts[i];\n        }\n\n        i += 1;\n      }\n\n      return this.fonts[0];\n    }\n\n    function isModifier(firstCharCode, secondCharCode) {\n      var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\n      return surrogateModifiers.indexOf(sum) !== -1;\n    }\n\n    function isZeroWidthJoiner(firstCharCode, secondCharCode) {\n      if (!secondCharCode) {\n        return firstCharCode === zeroWidthJoiner[1];\n      }\n\n      return firstCharCode === zeroWidthJoiner[0] && secondCharCode === zeroWidthJoiner[1];\n    }\n\n    function isCombinedCharacter(_char3) {\n      return combinedCharacters.indexOf(_char3) !== -1;\n    }\n\n    function setIsLoaded() {\n      this.isLoaded = true;\n    }\n\n    var Font = function Font() {\n      this.fonts = [];\n      this.chars = null;\n      this.typekitLoaded = 0;\n      this.isLoaded = false;\n      this._warned = false;\n      this.initTime = Date.now();\n      this.setIsLoadedBinded = this.setIsLoaded.bind(this);\n      this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\n    };\n\n    Font.isModifier = isModifier;\n    Font.isZeroWidthJoiner = isZeroWidthJoiner;\n    Font.isCombinedCharacter = isCombinedCharacter;\n    var fontPrototype = {\n      addChars: addChars,\n      addFonts: addFonts,\n      getCharData: getCharData,\n      getFontByName: getFontByName,\n      measureText: measureText,\n      checkLoadedFonts: checkLoadedFonts,\n      setIsLoaded: setIsLoaded\n    };\n    Font.prototype = fontPrototype;\n    return Font;\n  }();\n\n  function RenderableElement() {}\n\n  RenderableElement.prototype = {\n    initRenderable: function initRenderable() {\n      // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\n      this.isInRange = false; // layer's display state\n\n      this.hidden = false; // If layer's transparency equals 0, it can be hidden\n\n      this.isTransparent = false; // list of animated components\n\n      this.renderableComponents = [];\n    },\n    addRenderableComponent: function addRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) === -1) {\n        this.renderableComponents.push(component);\n      }\n    },\n    removeRenderableComponent: function removeRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) !== -1) {\n        this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\n      }\n    },\n    prepareRenderableFrame: function prepareRenderableFrame(num) {\n      this.checkLayerLimits(num);\n    },\n    checkTransparency: function checkTransparency() {\n      if (this.finalTransform.mProp.o.v <= 0) {\n        if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\n          this.isTransparent = true;\n          this.hide();\n        }\n      } else if (this.isTransparent) {\n        this.isTransparent = false;\n        this.show();\n      }\n    },\n\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       *\r\n       */\n    checkLayerLimits: function checkLayerLimits(num) {\n      if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\n        if (this.isInRange !== true) {\n          this.globalData._mdf = true;\n          this._mdf = true;\n          this.isInRange = true;\n          this.show();\n        }\n      } else if (this.isInRange !== false) {\n        this.globalData._mdf = true;\n        this.isInRange = false;\n        this.hide();\n      }\n    },\n    renderRenderable: function renderRenderable() {\n      var i;\n      var len = this.renderableComponents.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderableComponents[i].renderFrame(this._isFirstFrame);\n      }\n      /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n          this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\n\n    },\n    sourceRectAtTime: function sourceRectAtTime() {\n      return {\n        top: 0,\n        left: 0,\n        width: 100,\n        height: 100\n      };\n    },\n    getLayerSize: function getLayerSize() {\n      if (this.data.ty === 5) {\n        return {\n          w: this.data.textData.width,\n          h: this.data.textData.height\n        };\n      }\n\n      return {\n        w: this.data.width,\n        h: this.data.height\n      };\n    }\n  };\n\n  var MaskManagerInterface = function () {\n    function MaskInterface(mask, data) {\n      this._mask = mask;\n      this._data = data;\n    }\n\n    Object.defineProperty(MaskInterface.prototype, 'maskPath', {\n      get: function get() {\n        if (this._mask.prop.k) {\n          this._mask.prop.getValue();\n        }\n\n        return this._mask.prop;\n      }\n    });\n    Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\n      get: function get() {\n        if (this._mask.op.k) {\n          this._mask.op.getValue();\n        }\n\n        return this._mask.op.v * 100;\n      }\n    });\n\n    var MaskManager = function MaskManager(maskManager) {\n      var _masksInterfaces = createSizedArray(maskManager.viewData.length);\n\n      var i;\n      var len = maskManager.viewData.length;\n\n      for (i = 0; i < len; i += 1) {\n        _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\n      }\n\n      var maskFunction = function maskFunction(name) {\n        i = 0;\n\n        while (i < len) {\n          if (maskManager.masksProperties[i].nm === name) {\n            return _masksInterfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      };\n\n      return maskFunction;\n    };\n\n    return MaskManager;\n  }();\n\n  var ExpressionPropertyInterface = function () {\n    var defaultUnidimensionalValue = {\n      pv: 0,\n      v: 0,\n      mult: 1\n    };\n    var defaultMultidimensionalValue = {\n      pv: [0, 0, 0],\n      v: [0, 0, 0],\n      mult: 1\n    };\n\n    function completeProperty(expressionValue, property, type) {\n      Object.defineProperty(expressionValue, 'velocity', {\n        get: function get() {\n          return property.getVelocityAtTime(property.comp.currentFrame);\n        }\n      });\n      expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\n\n      expressionValue.key = function (pos) {\n        if (!expressionValue.numKeys) {\n          return 0;\n        }\n\n        var value = '';\n\n        if ('s' in property.keyframes[pos - 1]) {\n          value = property.keyframes[pos - 1].s;\n        } else if ('e' in property.keyframes[pos - 2]) {\n          value = property.keyframes[pos - 2].e;\n        } else {\n          value = property.keyframes[pos - 2].s;\n        }\n\n        var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\n\n        valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\n        valueProp.value = type === 'unidimensional' ? value[0] : value;\n        return valueProp;\n      };\n\n      expressionValue.valueAtTime = property.getValueAtTime;\n      expressionValue.speedAtTime = property.getSpeedAtTime;\n      expressionValue.velocityAtTime = property.getVelocityAtTime;\n      expressionValue.propertyGroup = property.propertyGroup;\n    }\n\n    function UnidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultUnidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var val = property.pv * mult;\n      var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n      expressionValue.value = val;\n      completeProperty(expressionValue, property, 'unidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        val = property.v * mult;\n\n        if (expressionValue.value !== val) {\n          expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n          expressionValue.value = val;\n          completeProperty(expressionValue, property, 'unidimensional');\n        }\n\n        return expressionValue;\n      };\n    }\n\n    function MultidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultMultidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var len = property.data && property.data.l || property.pv.length;\n      var expressionValue = createTypedArray('float32', len);\n      var arrValue = createTypedArray('float32', len);\n      expressionValue.value = arrValue;\n      completeProperty(expressionValue, property, 'multidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        for (var i = 0; i < len; i += 1) {\n          arrValue[i] = property.v[i] * mult;\n          expressionValue[i] = arrValue[i];\n        }\n\n        return expressionValue;\n      };\n    } // TODO: try to avoid using this getter\n\n\n    function defaultGetter() {\n      return defaultUnidimensionalValue;\n    }\n\n    return function (property) {\n      if (!property) {\n        return defaultGetter;\n      }\n\n      if (property.propType === 'unidimensional') {\n        return UnidimensionalPropertyInterface(property);\n      }\n\n      return MultidimensionalPropertyInterface(property);\n    };\n  }();\n\n  var TransformExpressionInterface = function () {\n    return function (transform) {\n      function _thisFunction(name) {\n        switch (name) {\n          case 'scale':\n          case 'Scale':\n          case 'ADBE Scale':\n          case 6:\n            return _thisFunction.scale;\n\n          case 'rotation':\n          case 'Rotation':\n          case 'ADBE Rotation':\n          case 'ADBE Rotate Z':\n          case 10:\n            return _thisFunction.rotation;\n\n          case 'ADBE Rotate X':\n            return _thisFunction.xRotation;\n\n          case 'ADBE Rotate Y':\n            return _thisFunction.yRotation;\n\n          case 'position':\n          case 'Position':\n          case 'ADBE Position':\n          case 2:\n            return _thisFunction.position;\n\n          case 'ADBE Position_0':\n            return _thisFunction.xPosition;\n\n          case 'ADBE Position_1':\n            return _thisFunction.yPosition;\n\n          case 'ADBE Position_2':\n            return _thisFunction.zPosition;\n\n          case 'anchorPoint':\n          case 'AnchorPoint':\n          case 'Anchor Point':\n          case 'ADBE AnchorPoint':\n          case 1:\n            return _thisFunction.anchorPoint;\n\n          case 'opacity':\n          case 'Opacity':\n          case 11:\n            return _thisFunction.opacity;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'rotation', {\n        get: ExpressionPropertyInterface(transform.r || transform.rz)\n      });\n      Object.defineProperty(_thisFunction, 'zRotation', {\n        get: ExpressionPropertyInterface(transform.rz || transform.r)\n      });\n      Object.defineProperty(_thisFunction, 'xRotation', {\n        get: ExpressionPropertyInterface(transform.rx)\n      });\n      Object.defineProperty(_thisFunction, 'yRotation', {\n        get: ExpressionPropertyInterface(transform.ry)\n      });\n      Object.defineProperty(_thisFunction, 'scale', {\n        get: ExpressionPropertyInterface(transform.s)\n      });\n\n      var _px;\n\n      var _py;\n\n      var _pz;\n\n      var _transformFactory;\n\n      if (transform.p) {\n        _transformFactory = ExpressionPropertyInterface(transform.p);\n      } else {\n        _px = ExpressionPropertyInterface(transform.px);\n        _py = ExpressionPropertyInterface(transform.py);\n\n        if (transform.pz) {\n          _pz = ExpressionPropertyInterface(transform.pz);\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'position', {\n        get: function get() {\n          if (transform.p) {\n            return _transformFactory();\n          }\n\n          return [_px(), _py(), _pz ? _pz() : 0];\n        }\n      });\n      Object.defineProperty(_thisFunction, 'xPosition', {\n        get: ExpressionPropertyInterface(transform.px)\n      });\n      Object.defineProperty(_thisFunction, 'yPosition', {\n        get: ExpressionPropertyInterface(transform.py)\n      });\n      Object.defineProperty(_thisFunction, 'zPosition', {\n        get: ExpressionPropertyInterface(transform.pz)\n      });\n      Object.defineProperty(_thisFunction, 'anchorPoint', {\n        get: ExpressionPropertyInterface(transform.a)\n      });\n      Object.defineProperty(_thisFunction, 'opacity', {\n        get: ExpressionPropertyInterface(transform.o)\n      });\n      Object.defineProperty(_thisFunction, 'skew', {\n        get: ExpressionPropertyInterface(transform.sk)\n      });\n      Object.defineProperty(_thisFunction, 'skewAxis', {\n        get: ExpressionPropertyInterface(transform.sa)\n      });\n      Object.defineProperty(_thisFunction, 'orientation', {\n        get: ExpressionPropertyInterface(transform.or)\n      });\n      return _thisFunction;\n    };\n  }();\n\n  var LayerExpressionInterface = function () {\n    function getMatrix(time) {\n      var toWorldMat = new Matrix();\n\n      if (time !== undefined) {\n        var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\n\n        propMatrix.clone(toWorldMat);\n      } else {\n        var transformMat = this._elem.finalTransform.mProp;\n        transformMat.applyToMatrix(toWorldMat);\n      }\n\n      return toWorldMat;\n    }\n\n    function toWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function toWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function fromWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function fromWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function applyPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\n    }\n\n    function invertPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.inversePoint(arr);\n    }\n\n    function fromComp(arr) {\n      var toWorldMat = new Matrix();\n      toWorldMat.reset();\n\n      this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\n\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n        }\n\n        return toWorldMat.inversePoint(arr);\n      }\n\n      return toWorldMat.inversePoint(arr);\n    }\n\n    function sampleImage() {\n      return [1, 1, 1, 1];\n    }\n\n    return function (elem) {\n      var transformInterface;\n\n      function _registerMaskInterface(maskManager) {\n        _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\n      }\n\n      function _registerEffectsInterface(effects) {\n        _thisLayerFunction.effect = effects;\n      }\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Root Vectors Group':\n          case 'Contents':\n          case 2:\n            return _thisLayerFunction.shapeInterface;\n\n          case 1:\n          case 6:\n          case 'Transform':\n          case 'transform':\n          case 'ADBE Transform Group':\n            return transformInterface;\n\n          case 4:\n          case 'ADBE Effect Parade':\n          case 'effects':\n          case 'Effects':\n            return _thisLayerFunction.effect;\n\n          case 'ADBE Text Properties':\n            return _thisLayerFunction.textInterface;\n\n          default:\n            return null;\n        }\n      }\n\n      _thisLayerFunction.getMatrix = getMatrix;\n      _thisLayerFunction.invertPoint = invertPoint;\n      _thisLayerFunction.applyPoint = applyPoint;\n      _thisLayerFunction.toWorld = toWorld;\n      _thisLayerFunction.toWorldVec = toWorldVec;\n      _thisLayerFunction.fromWorld = fromWorld;\n      _thisLayerFunction.fromWorldVec = fromWorldVec;\n      _thisLayerFunction.toComp = toWorld;\n      _thisLayerFunction.fromComp = fromComp;\n      _thisLayerFunction.sampleImage = sampleImage;\n      _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\n      _thisLayerFunction._elem = elem;\n      transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\n      var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\n      Object.defineProperties(_thisLayerFunction, {\n        hasParent: {\n          get: function get() {\n            return elem.hierarchy.length;\n          }\n        },\n        parent: {\n          get: function get() {\n            return elem.hierarchy[0].layerInterface;\n          }\n        },\n        rotation: getDescriptor(transformInterface, 'rotation'),\n        scale: getDescriptor(transformInterface, 'scale'),\n        position: getDescriptor(transformInterface, 'position'),\n        opacity: getDescriptor(transformInterface, 'opacity'),\n        anchorPoint: anchorPointDescriptor,\n        anchor_point: anchorPointDescriptor,\n        transform: {\n          get: function get() {\n            return transformInterface;\n          }\n        },\n        active: {\n          get: function get() {\n            return elem.isInRange;\n          }\n        }\n      });\n      _thisLayerFunction.startTime = elem.data.st;\n      _thisLayerFunction.index = elem.data.ind;\n      _thisLayerFunction.source = elem.data.refId;\n      _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\n      _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\n      _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      _thisLayerFunction._name = elem.data.nm;\n      _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\n      _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var propertyGroupFactory = function () {\n    return function (interfaceFunction, parentPropertyGroup) {\n      return function (val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return parentPropertyGroup(val - 1);\n      };\n    };\n  }();\n\n  var PropertyInterface = function () {\n    return function (propertyName, propertyGroup) {\n      var interfaceFunction = {\n        _name: propertyName\n      };\n\n      function _propertyGroup(val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return propertyGroup(val - 1);\n      }\n\n      return _propertyGroup;\n    };\n  }();\n\n  var EffectsExpressionInterface = function () {\n    var ob = {\n      createEffectsInterface: createEffectsInterface\n    };\n\n    function createEffectsInterface(elem, propertyGroup) {\n      if (elem.effectsManager) {\n        var effectElements = [];\n        var effectsData = elem.data.ef;\n        var i;\n        var len = elem.effectsManager.effectElements.length;\n\n        for (i = 0; i < len; i += 1) {\n          effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\n        }\n\n        var effects = elem.data.ef || [];\n\n        var groupInterface = function groupInterface(name) {\n          i = 0;\n          len = effects.length;\n\n          while (i < len) {\n            if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n              return effectElements[i];\n            }\n\n            i += 1;\n          }\n\n          return null;\n        };\n\n        Object.defineProperty(groupInterface, 'numProperties', {\n          get: function get() {\n            return effects.length;\n          }\n        });\n        return groupInterface;\n      }\n\n      return null;\n    }\n\n    function createGroupInterface(data, elements, propertyGroup, elem) {\n      function groupInterface(name) {\n        var effects = data.ef;\n        var i = 0;\n        var len = effects.length;\n\n        while (i < len) {\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n            if (effects[i].ty === 5) {\n              return effectElements[i];\n            }\n\n            return effectElements[i]();\n          }\n\n          i += 1;\n        }\n\n        throw new Error();\n      }\n\n      var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\n\n      var effectElements = [];\n      var i;\n      var len = data.ef.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (data.ef[i].ty === 5) {\n          effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\n        } else {\n          effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\n        }\n      }\n\n      if (data.mn === 'ADBE Color Control') {\n        Object.defineProperty(groupInterface, 'color', {\n          get: function get() {\n            return effectElements[0]();\n          }\n        });\n      }\n\n      Object.defineProperties(groupInterface, {\n        numProperties: {\n          get: function get() {\n            return data.np;\n          }\n        },\n        _name: {\n          value: data.nm\n        },\n        propertyGroup: {\n          value: _propertyGroup\n        }\n      });\n      groupInterface.enabled = data.en !== 0;\n      groupInterface.active = groupInterface.enabled;\n      return groupInterface;\n    }\n\n    function createValueInterface(element, type, elem, propertyGroup) {\n      var expressionProperty = ExpressionPropertyInterface(element.p);\n\n      function interfaceFunction() {\n        if (type === 10) {\n          return elem.comp.compInterface(element.p.v);\n        }\n\n        return expressionProperty();\n      }\n\n      if (element.p.setGroupProperty) {\n        element.p.setGroupProperty(PropertyInterface('', propertyGroup));\n      }\n\n      return interfaceFunction;\n    }\n\n    return ob;\n  }();\n\n  var CompExpressionInterface = function () {\n    return function (comp) {\n      function _thisLayerFunction(name) {\n        var i = 0;\n        var len = comp.layers.length;\n\n        while (i < len) {\n          if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\n            return comp.elements[i].layerInterface;\n          }\n\n          i += 1;\n        }\n\n        return null; // return {active:false};\n      }\n\n      Object.defineProperty(_thisLayerFunction, '_name', {\n        value: comp.data.nm\n      });\n      _thisLayerFunction.layer = _thisLayerFunction;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\n      _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\n      _thisLayerFunction.displayStartTime = 0;\n      _thisLayerFunction.numLayers = comp.layers.length;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var ShapePathInterface = function () {\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\n      var prop = view.sh;\n\n      function interfaceFunction(val) {\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\n          return interfaceFunction.path;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        path: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        shape: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        ix: {\n          value: shape.ix\n        },\n        propertyIndex: {\n          value: shape.ix\n        },\n        mn: {\n          value: shape.mn\n        },\n        propertyGroup: {\n          value: propertyGroup\n        }\n      });\n      return interfaceFunction;\n    };\n  }();\n\n  var ShapeExpressionInterface = function () {\n    function iterateElements(shapes, view, propertyGroup) {\n      var arr = [];\n      var i;\n      var len = shapes ? shapes.length : 0;\n\n      for (i = 0; i < len; i += 1) {\n        if (shapes[i].ty === 'gr') {\n          arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'fl') {\n          arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'st') {\n          arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tm') {\n          arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tr') {// arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\n        } else if (shapes[i].ty === 'el') {\n          arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sr') {\n          arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sh') {\n          arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rc') {\n          arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rd') {\n          arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rp') {\n          arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'gf') {\n          arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else {\n          arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\n        }\n      }\n\n      return arr;\n    }\n\n    function contentsInterfaceFactory(shape, view, propertyGroup) {\n      var interfaces;\n\n      var interfaceFunction = function _interfaceFunction(value) {\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        if (typeof value === 'number') {\n          return interfaces[value - 1];\n        }\n\n        return null;\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\n      interfaceFunction.numProperties = interfaces.length;\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.transform = transformInterface;\n      interfaceFunction.propertyIndex = shape.cix;\n      interfaceFunction._name = shape.nm;\n      return interfaceFunction;\n    }\n\n    function groupInterfaceFactory(shape, view, propertyGroup) {\n      var interfaceFunction = function _interfaceFunction(value) {\n        switch (value) {\n          case 'ADBE Vectors Group':\n          case 'Contents':\n          case 2:\n            return interfaceFunction.content;\n          // Not necessary for now. Keeping them here in case a new case appears\n          // case 'ADBE Vector Transform Group':\n          // case 3:\n\n          default:\n            return interfaceFunction.transform;\n        }\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.content = content;\n      interfaceFunction.transform = transformInterface;\n      Object.defineProperty(interfaceFunction, '_name', {\n        get: function get() {\n          return shape.nm;\n        }\n      }); // interfaceFunction.content = interfaceFunction;\n\n      interfaceFunction.numProperties = shape.np;\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.nm = shape.nm;\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function fillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function gradientFillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Start Point' || val === 'start point') {\n          return interfaceFunction.startPoint;\n        }\n\n        if (val === 'End Point' || val === 'end point') {\n          return interfaceFunction.endPoint;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        startPoint: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        endPoint: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        type: {\n          get: function get() {\n            return 'a';\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function defaultInterfaceFactory() {\n      function interfaceFunction() {\n        return null;\n      }\n\n      return interfaceFunction;\n    }\n\n    function strokeInterfaceFactory(shape, view, propertyGroup) {\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\n\n      function addPropertyToDashOb(i) {\n        Object.defineProperty(dashOb, shape.d[i].nm, {\n          get: ExpressionPropertyInterface(view.d.dataProps[i].p)\n        });\n      }\n\n      var i;\n      var len = shape.d ? shape.d.length : 0;\n      var dashOb = {};\n\n      for (i = 0; i < len; i += 1) {\n        addPropertyToDashOb(i);\n        view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\n      }\n\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (val === 'Stroke Width' || val === 'stroke width') {\n          return interfaceFunction.strokeWidth;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        strokeWidth: {\n          get: ExpressionPropertyInterface(view.w)\n        },\n        dash: {\n          get: function get() {\n            return dashOb;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\n      return interfaceFunction;\n    }\n\n    function trimInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === shape.e.ix || val === 'End' || val === 'end') {\n          return interfaceFunction.end;\n        }\n\n        if (val === shape.s.ix) {\n          return interfaceFunction.start;\n        }\n\n        if (val === shape.o.ix) {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.propertyGroup = propertyGroup;\n      Object.defineProperties(interfaceFunction, {\n        start: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        end: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function transformInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.a.ix === value || value === 'Anchor Point') {\n          return interfaceFunction.anchorPoint;\n        }\n\n        if (shape.o.ix === value || value === 'Opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (shape.p.ix === value || value === 'Position') {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.s.ix === value || value === 'Scale') {\n          return interfaceFunction.scale;\n        }\n\n        if (shape.sk && shape.sk.ix === value || value === 'Skew') {\n          return interfaceFunction.skew;\n        }\n\n        if (shape.sa && shape.sa.ix === value || value === 'Skew Axis') {\n          return interfaceFunction.skewAxis;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\n      view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\n      view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (view.transform.mProps.sk) {\n        view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\n        view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\n      }\n\n      view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        opacity: {\n          get: ExpressionPropertyInterface(view.transform.mProps.o)\n        },\n        position: {\n          get: ExpressionPropertyInterface(view.transform.mProps.p)\n        },\n        anchorPoint: {\n          get: ExpressionPropertyInterface(view.transform.mProps.a)\n        },\n        scale: {\n          get: ExpressionPropertyInterface(view.transform.mProps.s)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(view.transform.mProps.r)\n        },\n        skew: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sk)\n        },\n        skewAxis: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sa)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.ty = 'tr';\n      interfaceFunction.mn = shape.mn;\n      interfaceFunction.propertyGroup = propertyGroup;\n      return interfaceFunction;\n    }\n\n    function ellipseInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.s.ix === value) {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function starInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.pt.ix === value) {\n          return interfaceFunction.points;\n        }\n\n        if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\n          return interfaceFunction.outerRadius;\n        }\n\n        if (shape.os.ix === value) {\n          return interfaceFunction.outerRoundness;\n        }\n\n        if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\n          return interfaceFunction.innerRadius;\n        }\n\n        if (shape.is && shape.is.ix === value) {\n          return interfaceFunction.innerRoundness;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\n      prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\n      prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (shape.ir) {\n        prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\n        prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        points: {\n          get: ExpressionPropertyInterface(prop.pt)\n        },\n        outerRadius: {\n          get: ExpressionPropertyInterface(prop.or)\n        },\n        outerRoundness: {\n          get: ExpressionPropertyInterface(prop.os)\n        },\n        innerRadius: {\n          get: ExpressionPropertyInterface(prop.ir)\n        },\n        innerRoundness: {\n          get: ExpressionPropertyInterface(prop.is)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function rectInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.roundness;\n        }\n\n        if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        roundness: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function roundedInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.r.ix === value || value === 'Round Corners 1') {\n          return interfaceFunction.radius;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        radius: {\n          get: ExpressionPropertyInterface(prop.rd)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function repeaterInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.c.ix === value || value === 'Copies') {\n          return interfaceFunction.copies;\n        }\n\n        if (shape.o.ix === value || value === 'Offset') {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\n      prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        copies: {\n          get: ExpressionPropertyInterface(prop.c)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(prop.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    return function (shapes, view, propertyGroup) {\n      var interfaces;\n\n      function _interfaceFunction(value) {\n        if (typeof value === 'number') {\n          value = value === undefined ? 1 : value;\n\n          if (value === 0) {\n            return propertyGroup;\n          }\n\n          return interfaces[value - 1];\n        }\n\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      function parentGroupWrapper() {\n        return propertyGroup;\n      }\n\n      _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\n      interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\n      _interfaceFunction.numProperties = interfaces.length;\n      _interfaceFunction._name = 'Contents';\n      return _interfaceFunction;\n    };\n  }();\n\n  var TextExpressionInterface = function () {\n    return function (elem) {\n      var _prevValue;\n\n      var _sourceText;\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Text Document':\n            return _thisLayerFunction.sourceText;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisLayerFunction, 'sourceText', {\n        get: function get() {\n          elem.textProperty.getValue();\n          var stringValue = elem.textProperty.currentData.t;\n\n          if (stringValue !== _prevValue) {\n            elem.textProperty.currentData.t = _prevValue;\n            _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\n            // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\n\n            _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\n          }\n\n          return _sourceText;\n        }\n      });\n      return _thisLayerFunction;\n    };\n  }();\n\n  var getBlendMode = function () {\n    var blendModeEnums = {\n      0: 'source-over',\n      1: 'multiply',\n      2: 'screen',\n      3: 'overlay',\n      4: 'darken',\n      5: 'lighten',\n      6: 'color-dodge',\n      7: 'color-burn',\n      8: 'hard-light',\n      9: 'soft-light',\n      10: 'difference',\n      11: 'exclusion',\n      12: 'hue',\n      13: 'saturation',\n      14: 'color',\n      15: 'luminosity'\n    };\n    return function (mode) {\n      return blendModeEnums[mode] || '';\n    };\n  }();\n\n  function SliderEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function AngleEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function ColorEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function PointEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function LayerIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function MaskIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function CheckboxEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function NoValueEffect() {\n    this.p = {};\n  }\n\n  function EffectsManager(data, element) {\n    var effects = data.ef || [];\n    this.effectElements = [];\n    var i;\n    var len = effects.length;\n    var effectItem;\n\n    for (i = 0; i < len; i += 1) {\n      effectItem = new GroupEffect(effects[i], element);\n      this.effectElements.push(effectItem);\n    }\n  }\n\n  function GroupEffect(data, element) {\n    this.init(data, element);\n  }\n\n  extendPrototype([DynamicPropertyContainer], GroupEffect);\n  GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\n\n  GroupEffect.prototype.init = function (data, element) {\n    this.data = data;\n    this.effectElements = [];\n    this.initDynamicPropertyContainer(element);\n    var i;\n    var len = this.data.ef.length;\n    var eff;\n    var effects = this.data.ef;\n\n    for (i = 0; i < len; i += 1) {\n      eff = null;\n\n      switch (effects[i].ty) {\n        case 0:\n          eff = new SliderEffect(effects[i], element, this);\n          break;\n\n        case 1:\n          eff = new AngleEffect(effects[i], element, this);\n          break;\n\n        case 2:\n          eff = new ColorEffect(effects[i], element, this);\n          break;\n\n        case 3:\n          eff = new PointEffect(effects[i], element, this);\n          break;\n\n        case 4:\n        case 7:\n          eff = new CheckboxEffect(effects[i], element, this);\n          break;\n\n        case 10:\n          eff = new LayerIndexEffect(effects[i], element, this);\n          break;\n\n        case 11:\n          eff = new MaskIndexEffect(effects[i], element, this);\n          break;\n\n        case 5:\n          eff = new EffectsManager(effects[i], element, this);\n          break;\n        // case 6:\n\n        default:\n          eff = new NoValueEffect(effects[i], element, this);\n          break;\n      }\n\n      if (eff) {\n        this.effectElements.push(eff);\n      }\n    }\n  };\n\n  function BaseElement() {}\n\n  BaseElement.prototype = {\n    checkMasks: function checkMasks() {\n      if (!this.data.hasMask) {\n        return false;\n      }\n\n      var i = 0;\n      var len = this.data.masksProperties.length;\n\n      while (i < len) {\n        if (this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false) {\n          return true;\n        }\n\n        i += 1;\n      }\n\n      return false;\n    },\n    initExpressions: function initExpressions() {\n      this.layerInterface = LayerExpressionInterface(this);\n\n      if (this.data.hasMask && this.maskManager) {\n        this.layerInterface.registerMaskInterface(this.maskManager);\n      }\n\n      var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\n      this.layerInterface.registerEffectsInterface(effectsInterface);\n\n      if (this.data.ty === 0 || this.data.xt) {\n        this.compInterface = CompExpressionInterface(this);\n      } else if (this.data.ty === 4) {\n        this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\n        this.layerInterface.content = this.layerInterface.shapeInterface;\n      } else if (this.data.ty === 5) {\n        this.layerInterface.textInterface = TextExpressionInterface(this);\n        this.layerInterface.text = this.layerInterface.textInterface;\n      }\n    },\n    setBlendMode: function setBlendMode() {\n      var blendModeValue = getBlendMode(this.data.bm);\n      var elem = this.baseElement || this.layerElement;\n      elem.style['mix-blend-mode'] = blendModeValue;\n    },\n    initBaseData: function initBaseData(data, globalData, comp) {\n      this.globalData = globalData;\n      this.comp = comp;\n      this.data = data;\n      this.layerId = createElementID(); // Stretch factor for old animations missing this property.\n\n      if (!this.data.sr) {\n        this.data.sr = 1;\n      } // effects manager\n\n\n      this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\n    },\n    getType: function getType() {\n      return this.type;\n    },\n    sourceRectAtTime: function sourceRectAtTime() {}\n  };\n\n  /**\r\n   * @file\r\n   * Handles element's layer frame update.\r\n   * Checks layer in point and out point\r\n   *\r\n   */\n  function FrameElement() {}\n\n  FrameElement.prototype = {\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       */\n    initFrame: function initFrame() {\n      // set to true when inpoint is rendered\n      this._isFirstFrame = false; // list of animated properties\n\n      this.dynamicProperties = []; // If layer has been modified in current tick this will be true\n\n      this._mdf = false;\n    },\n\n    /**\r\n       * @function\r\n       * Calculates all dynamic values\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       * @param {boolean} isVisible\r\n       * if layers is currently in range\r\n       *\r\n       */\n    prepareProperties: function prepareProperties(num, isVisible) {\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (isVisible || this._isParent && this.dynamicProperties[i].propType === 'transform') {\n          this.dynamicProperties[i].getValue();\n\n          if (this.dynamicProperties[i]._mdf) {\n            this.globalData._mdf = true;\n            this._mdf = true;\n          }\n        }\n      }\n    },\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n      }\n    }\n  };\n\n  function _typeof$2(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$2 = function _typeof(obj) { return typeof obj; }; } else { _typeof$2 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$2(obj); }\n\n  var FootageInterface = function () {\n    var outlineInterfaceFactory = function outlineInterfaceFactory(elem) {\n      var currentPropertyName = '';\n      var currentProperty = elem.getFootageData();\n\n      function init() {\n        currentPropertyName = '';\n        currentProperty = elem.getFootageData();\n        return searchProperty;\n      }\n\n      function searchProperty(value) {\n        if (currentProperty[value]) {\n          currentPropertyName = value;\n          currentProperty = currentProperty[value];\n\n          if (_typeof$2(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        var propertyNameIndex = value.indexOf(currentPropertyName);\n\n        if (propertyNameIndex !== -1) {\n          var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\n          currentProperty = currentProperty[index];\n\n          if (_typeof$2(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        return '';\n      }\n\n      return init;\n    };\n\n    var dataInterfaceFactory = function dataInterfaceFactory(elem) {\n      function interfaceFunction(value) {\n        if (value === 'Outline') {\n          return interfaceFunction.outlineInterface();\n        }\n\n        return null;\n      }\n\n      interfaceFunction._name = 'Outline';\n      interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\n      return interfaceFunction;\n    };\n\n    return function (elem) {\n      function _interfaceFunction(value) {\n        if (value === 'Data') {\n          return _interfaceFunction.dataInterface;\n        }\n\n        return null;\n      }\n\n      _interfaceFunction._name = 'Data';\n      _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\n      return _interfaceFunction;\n    };\n  }();\n\n  function FootageElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.footageData = globalData.imageLoader.getAsset(this.assetData);\n    this.initBaseData(data, globalData, comp);\n  }\n\n  FootageElement.prototype.prepareFrame = function () {};\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\n\n  FootageElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  FootageElement.prototype.renderFrame = function () {};\n\n  FootageElement.prototype.destroy = function () {};\n\n  FootageElement.prototype.initExpressions = function () {\n    this.layerInterface = FootageInterface(this);\n  };\n\n  FootageElement.prototype.getFootageData = function () {\n    return this.footageData;\n  };\n\n  function AudioElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initBaseData(data, globalData, comp);\n    this._isPlaying = false;\n    this._canPlay = false;\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.audio = this.globalData.audioController.createAudio(assetPath);\n    this._currentTime = 0;\n    this.globalData.audioController.addAudio(this);\n    this._volumeMultiplier = 1;\n    this._volume = 1;\n    this._previousVolume = null;\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n    this.lv = PropertyFactory.getProp(this, data.au && data.au.lv ? data.au.lv : {\n      k: [100]\n    }, 1, 0.01, this);\n  }\n\n  AudioElement.prototype.prepareFrame = function (num) {\n    this.prepareRenderableFrame(num, true);\n    this.prepareProperties(num, true);\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n      this._currentTime = timeRemapped;\n    } else {\n      this._currentTime = num / this.data.sr;\n    }\n\n    this._volume = this.lv.v[0];\n    var totalVolume = this._volume * this._volumeMultiplier;\n\n    if (this._previousVolume !== totalVolume) {\n      this._previousVolume = totalVolume;\n      this.audio.volume(totalVolume);\n    }\n  };\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\n\n  AudioElement.prototype.renderFrame = function () {\n    if (this.isInRange && this._canPlay) {\n      if (!this._isPlaying) {\n        this.audio.play();\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n        this._isPlaying = true;\n      } else if (!this.audio.playing() || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1) {\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n      }\n    }\n  };\n\n  AudioElement.prototype.show = function () {// this.audio.play()\n  };\n\n  AudioElement.prototype.hide = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n  };\n\n  AudioElement.prototype.pause = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n    this._canPlay = false;\n  };\n\n  AudioElement.prototype.resume = function () {\n    this._canPlay = true;\n  };\n\n  AudioElement.prototype.setRate = function (rateValue) {\n    this.audio.rate(rateValue);\n  };\n\n  AudioElement.prototype.volume = function (volumeValue) {\n    this._volumeMultiplier = volumeValue;\n    this._previousVolume = volumeValue * this._volume;\n    this.audio.volume(this._previousVolume);\n  };\n\n  AudioElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  AudioElement.prototype.destroy = function () {};\n\n  AudioElement.prototype.sourceRectAtTime = function () {};\n\n  AudioElement.prototype.initExpressions = function () {};\n\n  function BaseRenderer() {}\n\n  BaseRenderer.prototype.checkLayers = function (num) {\n    var i;\n    var len = this.layers.length;\n    var data;\n    this.completeLayers = true;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (!this.elements[i]) {\n        data = this.layers[i];\n\n        if (data.ip - data.st <= num - this.layers[i].st && data.op - data.st > num - this.layers[i].st) {\n          this.buildItem(i);\n        }\n      }\n\n      this.completeLayers = this.elements[i] ? this.completeLayers : false;\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.createItem = function (layer) {\n    switch (layer.ty) {\n      case 2:\n        return this.createImage(layer);\n\n      case 0:\n        return this.createComp(layer);\n\n      case 1:\n        return this.createSolid(layer);\n\n      case 3:\n        return this.createNull(layer);\n\n      case 4:\n        return this.createShape(layer);\n\n      case 5:\n        return this.createText(layer);\n\n      case 6:\n        return this.createAudio(layer);\n\n      case 13:\n        return this.createCamera(layer);\n\n      case 15:\n        return this.createFootage(layer);\n\n      default:\n        return this.createNull(layer);\n    }\n  };\n\n  BaseRenderer.prototype.createCamera = function () {\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\n  };\n\n  BaseRenderer.prototype.createAudio = function (data) {\n    return new AudioElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.createFootage = function (data) {\n    return new FootageElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.buildAllItems = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.buildItem(i);\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.includeLayers = function (newLayers) {\n    this.completeLayers = false;\n    var i;\n    var len = newLayers.length;\n    var j;\n    var jLen = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      j = 0;\n\n      while (j < jLen) {\n        if (this.layers[j].id === newLayers[i].id) {\n          this.layers[j] = newLayers[i];\n          break;\n        }\n\n        j += 1;\n      }\n    }\n  };\n\n  BaseRenderer.prototype.setProjectInterface = function (pInterface) {\n    this.globalData.projectInterface = pInterface;\n  };\n\n  BaseRenderer.prototype.initItems = function () {\n    if (!this.globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n  };\n\n  BaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\n    var elements = this.elements;\n    var layers = this.layers;\n    var i = 0;\n    var len = layers.length;\n\n    while (i < len) {\n      if (layers[i].ind == parentName) {\n        // eslint-disable-line eqeqeq\n        if (!elements[i] || elements[i] === true) {\n          this.buildItem(i);\n          this.addPendingElement(element);\n        } else {\n          hierarchy.push(elements[i]);\n          elements[i].setAsParent();\n\n          if (layers[i].parent !== undefined) {\n            this.buildElementParenting(element, layers[i].parent, hierarchy);\n          } else {\n            element.setHierarchy(hierarchy);\n          }\n        }\n      }\n\n      i += 1;\n    }\n  };\n\n  BaseRenderer.prototype.addPendingElement = function (element) {\n    this.pendingElements.push(element);\n  };\n\n  BaseRenderer.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i]);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  BaseRenderer.prototype.getElementByPath = function (path) {\n    var pathValue = path.shift();\n    var element;\n\n    if (typeof pathValue === 'number') {\n      element = this.elements[pathValue];\n    } else {\n      var i;\n      var len = this.elements.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.elements[i].data.nm === pathValue) {\n          element = this.elements[i];\n          break;\n        }\n      }\n    }\n\n    if (path.length === 0) {\n      return element;\n    }\n\n    return element.getElementByPath(path);\n  };\n\n  BaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\n    this.globalData.fontManager = new FontManager();\n    this.globalData.fontManager.addChars(animData.chars);\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\n    this.globalData.audioController = this.animationItem.audioController;\n    this.globalData.frameId = 0;\n    this.globalData.frameRate = animData.fr;\n    this.globalData.nm = animData.nm;\n    this.globalData.compSize = {\n      w: animData.w,\n      h: animData.h\n    };\n  };\n\n  function TransformElement() {}\n\n  TransformElement.prototype = {\n    initTransform: function initTransform() {\n      this.finalTransform = {\n        mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {\n          o: 0\n        },\n        _matMdf: false,\n        _opMdf: false,\n        mat: new Matrix()\n      };\n\n      if (this.data.ao) {\n        this.finalTransform.mProp.autoOriented = true;\n      } // TODO: check TYPE 11: Guided elements\n\n\n      if (this.data.ty !== 11) {// this.createElements();\n      }\n    },\n    renderTransform: function renderTransform() {\n      this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\n      this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\n\n      if (this.hierarchy) {\n        var mat;\n        var finalMat = this.finalTransform.mat;\n        var i = 0;\n        var len = this.hierarchy.length; // Checking if any of the transformation matrices in the hierarchy chain has changed.\n\n        if (!this.finalTransform._matMdf) {\n          while (i < len) {\n            if (this.hierarchy[i].finalTransform.mProp._mdf) {\n              this.finalTransform._matMdf = true;\n              break;\n            }\n\n            i += 1;\n          }\n        }\n\n        if (this.finalTransform._matMdf) {\n          mat = this.finalTransform.mProp.v.props;\n          finalMat.cloneFromProps(mat);\n\n          for (i = 0; i < len; i += 1) {\n            mat = this.hierarchy[i].finalTransform.mProp.v.props;\n            finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\n          }\n        }\n      }\n    },\n    globalToLocal: function globalToLocal(pt) {\n      var transforms = [];\n      transforms.push(this.finalTransform);\n      var flag = true;\n      var comp = this.comp;\n\n      while (flag) {\n        if (comp.finalTransform) {\n          if (comp.data.hasMask) {\n            transforms.splice(0, 0, comp.finalTransform);\n          }\n\n          comp = comp.comp;\n        } else {\n          flag = false;\n        }\n      }\n\n      var i;\n      var len = transforms.length;\n      var ptNew;\n\n      for (i = 0; i < len; i += 1) {\n        ptNew = transforms[i].mat.applyToPointArray(0, 0, 0); // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\n\n        pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\n      }\n\n      return pt;\n    },\n    mHelper: new Matrix()\n  };\n\n  function MaskElement(data, element, globalData) {\n    this.data = data;\n    this.element = element;\n    this.globalData = globalData;\n    this.storedData = [];\n    this.masksProperties = this.data.masksProperties || [];\n    this.maskElement = null;\n    var defs = this.globalData.defs;\n    var i;\n    var len = this.masksProperties ? this.masksProperties.length : 0;\n    this.viewData = createSizedArray(len);\n    this.solidPath = '';\n    var path;\n    var properties = this.masksProperties;\n    var count = 0;\n    var currentMasks = [];\n    var j;\n    var jLen;\n    var layerId = createElementID();\n    var rect;\n    var expansor;\n    var feMorph;\n    var x;\n    var maskType = 'clipPath';\n    var maskRef = 'clip-path';\n\n    for (i = 0; i < len; i += 1) {\n      if (properties[i].mode !== 'a' && properties[i].mode !== 'n' || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\n        maskType = 'mask';\n        maskRef = 'mask';\n      }\n\n      if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\n        rect = createNS('rect');\n        rect.setAttribute('fill', '#ffffff');\n        rect.setAttribute('width', this.element.comp.data.w || 0);\n        rect.setAttribute('height', this.element.comp.data.h || 0);\n        currentMasks.push(rect);\n      } else {\n        rect = null;\n      }\n\n      path = createNS('path');\n\n      if (properties[i].mode === 'n') {\n        // TODO move this to a factory or to a constructor\n        this.viewData[i] = {\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          elem: path,\n          lastPath: ''\n        };\n        defs.appendChild(path);\n      } else {\n        count += 1;\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        path.setAttribute('clip-rule', 'nonzero');\n        var filterID;\n\n        if (properties[i].x.k !== 0) {\n          maskType = 'mask';\n          maskRef = 'mask';\n          x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\n          filterID = createElementID();\n          expansor = createNS('filter');\n          expansor.setAttribute('id', filterID);\n          feMorph = createNS('feMorphology');\n          feMorph.setAttribute('operator', 'erode');\n          feMorph.setAttribute('in', 'SourceGraphic');\n          feMorph.setAttribute('radius', '0');\n          expansor.appendChild(feMorph);\n          defs.appendChild(expansor);\n          path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        } else {\n          feMorph = null;\n          x = null;\n        } // TODO move this to a factory or to a constructor\n\n\n        this.storedData[i] = {\n          elem: path,\n          x: x,\n          expan: feMorph,\n          lastPath: '',\n          lastOperator: '',\n          filterId: filterID,\n          lastRadius: 0\n        };\n\n        if (properties[i].mode === 'i') {\n          jLen = currentMasks.length;\n          var g = createNS('g');\n\n          for (j = 0; j < jLen; j += 1) {\n            g.appendChild(currentMasks[j]);\n          }\n\n          var mask = createNS('mask');\n          mask.setAttribute('mask-type', 'alpha');\n          mask.setAttribute('id', layerId + '_' + count);\n          mask.appendChild(path);\n          defs.appendChild(mask);\n          g.setAttribute('mask', 'url(' + getLocationHref() + '#' + layerId + '_' + count + ')');\n          currentMasks.length = 0;\n          currentMasks.push(g);\n        } else {\n          currentMasks.push(path);\n        }\n\n        if (properties[i].inv && !this.solidPath) {\n          this.solidPath = this.createLayerSolidPath();\n        } // TODO move this to a factory or to a constructor\n\n\n        this.viewData[i] = {\n          elem: path,\n          lastPath: '',\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          invRect: rect\n        };\n\n        if (!this.viewData[i].prop.k) {\n          this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\n        }\n      }\n    }\n\n    this.maskElement = createNS(maskType);\n    len = currentMasks.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.maskElement.appendChild(currentMasks[i]);\n    }\n\n    if (count > 0) {\n      this.maskElement.setAttribute('id', layerId);\n      this.element.maskedElement.setAttribute(maskRef, 'url(' + getLocationHref() + '#' + layerId + ')');\n      defs.appendChild(this.maskElement);\n    }\n\n    if (this.viewData.length) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  MaskElement.prototype.getMaskProperty = function (pos) {\n    return this.viewData[pos].prop;\n  };\n\n  MaskElement.prototype.renderFrame = function (isFirstFrame) {\n    var finalMat = this.element.finalTransform.mat;\n    var i;\n    var len = this.masksProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.viewData[i].prop._mdf || isFirstFrame) {\n        this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\n      }\n\n      if (this.viewData[i].op._mdf || isFirstFrame) {\n        this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\n      }\n\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\n          this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\n        }\n\n        if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\n          var feMorph = this.storedData[i].expan;\n\n          if (this.storedData[i].x.v < 0) {\n            if (this.storedData[i].lastOperator !== 'erode') {\n              this.storedData[i].lastOperator = 'erode';\n              this.storedData[i].elem.setAttribute('filter', 'url(' + getLocationHref() + '#' + this.storedData[i].filterId + ')');\n            }\n\n            feMorph.setAttribute('radius', -this.storedData[i].x.v);\n          } else {\n            if (this.storedData[i].lastOperator !== 'dilate') {\n              this.storedData[i].lastOperator = 'dilate';\n              this.storedData[i].elem.setAttribute('filter', null);\n            }\n\n            this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\n          }\n        }\n      }\n    }\n  };\n\n  MaskElement.prototype.getMaskelement = function () {\n    return this.maskElement;\n  };\n\n  MaskElement.prototype.createLayerSolidPath = function () {\n    var path = 'M0,0 ';\n    path += ' h' + this.globalData.compSize.w;\n    path += ' v' + this.globalData.compSize.h;\n    path += ' h-' + this.globalData.compSize.w;\n    path += ' v-' + this.globalData.compSize.h + ' ';\n    return path;\n  };\n\n  MaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\n    var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    var i;\n    var len;\n    len = pathNodes._length;\n\n    for (i = 1; i < len; i += 1) {\n      // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\n    } // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\n\n\n    if (pathNodes.c && len > 1) {\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    } // pathNodes.__renderedString = pathString;\n\n\n    if (viewData.lastPath !== pathString) {\n      var pathShapeValue = '';\n\n      if (viewData.elem) {\n        if (pathNodes.c) {\n          pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\n        }\n\n        viewData.elem.setAttribute('d', pathShapeValue);\n      }\n\n      viewData.lastPath = pathString;\n    }\n  };\n\n  MaskElement.prototype.destroy = function () {\n    this.element = null;\n    this.globalData = null;\n    this.maskElement = null;\n    this.data = null;\n    this.masksProperties = null;\n  };\n\n  var filtersFactory = function () {\n    var ob = {};\n    ob.createFilter = createFilter;\n    ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\n\n    function createFilter(filId, skipCoordinates) {\n      var fil = createNS('filter');\n      fil.setAttribute('id', filId);\n\n      if (skipCoordinates !== true) {\n        fil.setAttribute('filterUnits', 'objectBoundingBox');\n        fil.setAttribute('x', '0%');\n        fil.setAttribute('y', '0%');\n        fil.setAttribute('width', '100%');\n        fil.setAttribute('height', '100%');\n      }\n\n      return fil;\n    }\n\n    function createAlphaToLuminanceFilter() {\n      var feColorMatrix = createNS('feColorMatrix');\n      feColorMatrix.setAttribute('type', 'matrix');\n      feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n      feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\n      return feColorMatrix;\n    }\n\n    return ob;\n  }();\n\n  var featureSupport = function () {\n    var ob = {\n      maskType: true\n    };\n\n    if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\n      ob.maskType = false;\n    }\n\n    return ob;\n  }();\n\n  var registeredEffects = {};\n  var idPrefix = 'filter_result_';\n\n  function SVGEffects(elem) {\n    var i;\n    var source = 'SourceGraphic';\n    var len = elem.data.ef ? elem.data.ef.length : 0;\n    var filId = createElementID();\n    var fil = filtersFactory.createFilter(filId, true);\n    var count = 0;\n    this.filters = [];\n    var filterManager;\n\n    for (i = 0; i < len; i += 1) {\n      filterManager = null;\n      var type = elem.data.ef[i].ty;\n\n      if (registeredEffects[type]) {\n        var Effect = registeredEffects[type].effect;\n        filterManager = new Effect(fil, elem.effectsManager.effectElements[i], elem, idPrefix + count, source);\n        source = idPrefix + count;\n\n        if (registeredEffects[type].countsAsEffect) {\n          count += 1;\n        }\n      }\n\n      if (filterManager) {\n        this.filters.push(filterManager);\n      }\n    }\n\n    if (count) {\n      elem.globalData.defs.appendChild(fil);\n      elem.layerElement.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n    }\n\n    if (this.filters.length) {\n      elem.addRenderableComponent(this);\n    }\n  }\n\n  SVGEffects.prototype.renderFrame = function (_isFirstFrame) {\n    var i;\n    var len = this.filters.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.filters[i].renderFrame(_isFirstFrame);\n    }\n  };\n\n  function registerEffect(id, effect, countsAsEffect) {\n    registeredEffects[id] = {\n      effect: effect,\n      countsAsEffect: countsAsEffect\n    };\n  }\n\n  function SVGBaseElement() {}\n\n  SVGBaseElement.prototype = {\n    initRendererElement: function initRendererElement() {\n      this.layerElement = createNS('g');\n    },\n    createContainerElements: function createContainerElements() {\n      this.matteElement = createNS('g');\n      this.transformedElement = this.layerElement;\n      this.maskedElement = this.layerElement;\n      this._sizeChanged = false;\n      var layerElementParent = null; // If this layer acts as a mask for the following layer\n\n      var filId;\n      var fil;\n      var gg;\n\n      if (this.data.td) {\n        if (this.data.td == 3 || this.data.td == 1) {\n          // eslint-disable-line eqeqeq\n          var masker = createNS('mask');\n          masker.setAttribute('id', this.layerId);\n          masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha'); // eslint-disable-line eqeqeq\n\n          masker.appendChild(this.layerElement);\n          layerElementParent = masker;\n          this.globalData.defs.appendChild(masker); // This is only for IE and Edge when mask if of type alpha\n\n          if (!featureSupport.maskType && this.data.td == 1) {\n            // eslint-disable-line eqeqeq\n            masker.setAttribute('mask-type', 'luminance');\n            filId = createElementID();\n            fil = filtersFactory.createFilter(filId);\n            this.globalData.defs.appendChild(fil);\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            gg.appendChild(this.layerElement);\n            layerElementParent = gg;\n            masker.appendChild(gg);\n            gg.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          }\n        } else if (this.data.td == 2) {\n          // eslint-disable-line eqeqeq\n          var maskGroup = createNS('mask');\n          maskGroup.setAttribute('id', this.layerId);\n          maskGroup.setAttribute('mask-type', 'alpha');\n          var maskGrouper = createNS('g');\n          maskGroup.appendChild(maskGrouper);\n          filId = createElementID();\n          fil = filtersFactory.createFilter(filId); /// /\n          // This solution doesn't work on Android when meta tag with viewport attribute is set\n\n          /* var feColorMatrix = createNS('feColorMatrix');\r\n                  feColorMatrix.setAttribute('type', 'matrix');\r\n                  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                  feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                  fil.appendChild(feColorMatrix); */\n          /// /\n\n          var feCTr = createNS('feComponentTransfer');\n          feCTr.setAttribute('in', 'SourceGraphic');\n          fil.appendChild(feCTr);\n          var feFunc = createNS('feFuncA');\n          feFunc.setAttribute('type', 'table');\n          feFunc.setAttribute('tableValues', '1.0 0.0');\n          feCTr.appendChild(feFunc); /// /\n\n          this.globalData.defs.appendChild(fil);\n          var alphaRect = createNS('rect');\n          alphaRect.setAttribute('width', this.comp.data.w);\n          alphaRect.setAttribute('height', this.comp.data.h);\n          alphaRect.setAttribute('x', '0');\n          alphaRect.setAttribute('y', '0');\n          alphaRect.setAttribute('fill', '#ffffff');\n          alphaRect.setAttribute('opacity', '0');\n          maskGrouper.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          maskGrouper.appendChild(alphaRect);\n          maskGrouper.appendChild(this.layerElement);\n          layerElementParent = maskGrouper;\n\n          if (!featureSupport.maskType) {\n            maskGroup.setAttribute('mask-type', 'luminance');\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            maskGrouper.appendChild(alphaRect);\n            gg.appendChild(this.layerElement);\n            layerElementParent = gg;\n            maskGrouper.appendChild(gg);\n          }\n\n          this.globalData.defs.appendChild(maskGroup);\n        }\n      } else if (this.data.tt) {\n        this.matteElement.appendChild(this.layerElement);\n        layerElementParent = this.matteElement;\n        this.baseElement = this.matteElement;\n      } else {\n        this.baseElement = this.layerElement;\n      }\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      } // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\n\n\n      if (this.data.ty === 0 && !this.data.hd) {\n        var cp = createNS('clipPath');\n        var pt = createNS('path');\n        pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\n        var clipId = createElementID();\n        cp.setAttribute('id', clipId);\n        cp.appendChild(pt);\n        this.globalData.defs.appendChild(cp);\n\n        if (this.checkMasks()) {\n          var cpGroup = createNS('g');\n          cpGroup.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n          cpGroup.appendChild(this.layerElement);\n          this.transformedElement = cpGroup;\n\n          if (layerElementParent) {\n            layerElementParent.appendChild(this.transformedElement);\n          } else {\n            this.baseElement = this.transformedElement;\n          }\n        } else {\n          this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n        }\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      if (this.finalTransform._matMdf) {\n        this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\n      }\n\n      if (this.finalTransform._opMdf) {\n        this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\n      }\n    },\n    destroyBaseElement: function destroyBaseElement() {\n      this.layerElement = null;\n      this.matteElement = null;\n      this.maskManager.destroy();\n    },\n    getBaseElement: function getBaseElement() {\n      if (this.data.hd) {\n        return null;\n      }\n\n      return this.baseElement;\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n      this.renderableEffectsManager = new SVGEffects(this);\n    },\n    setMatte: function setMatte(id) {\n      if (!this.matteElement) {\n        return;\n      }\n\n      this.matteElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n    }\n  };\n\n  /**\r\n   * @file\r\n   * Handles AE's layer parenting property.\r\n   *\r\n   */\n  function HierarchyElement() {}\n\n  HierarchyElement.prototype = {\n    /**\r\n       * @function\r\n       * Initializes hierarchy properties\r\n       *\r\n       */\n    initHierarchy: function initHierarchy() {\n      // element's parent list\n      this.hierarchy = []; // if element is parent of another layer _isParent will be true\n\n      this._isParent = false;\n      this.checkParenting();\n    },\n\n    /**\r\n       * @function\r\n       * Sets layer's hierarchy.\r\n       * @param {array} hierarch\r\n       * layer's parent list\r\n       *\r\n       */\n    setHierarchy: function setHierarchy(hierarchy) {\n      this.hierarchy = hierarchy;\n    },\n\n    /**\r\n       * @function\r\n       * Sets layer as parent.\r\n       *\r\n       */\n    setAsParent: function setAsParent() {\n      this._isParent = true;\n    },\n\n    /**\r\n       * @function\r\n       * Searches layer's parenting chain\r\n       *\r\n       */\n    checkParenting: function checkParenting() {\n      if (this.data.parent !== undefined) {\n        this.comp.buildElementParenting(this, this.data.parent, []);\n      }\n    }\n  };\n\n  function RenderableDOMElement() {}\n\n  (function () {\n    var _prototype = {\n      initElement: function initElement(data, globalData, comp) {\n        this.initFrame();\n        this.initBaseData(data, globalData, comp);\n        this.initTransform(data, globalData, comp);\n        this.initHierarchy();\n        this.initRenderable();\n        this.initRendererElement();\n        this.createContainerElements();\n        this.createRenderableComponents();\n        this.createContent();\n        this.hide();\n      },\n      hide: function hide() {\n        // console.log('HIDE', this);\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n          var elem = this.baseElement || this.layerElement;\n          elem.style.display = 'none';\n          this.hidden = true;\n        }\n      },\n      show: function show() {\n        // console.log('SHOW', this);\n        if (this.isInRange && !this.isTransparent) {\n          if (!this.data.hd) {\n            var elem = this.baseElement || this.layerElement;\n            elem.style.display = 'block';\n          }\n\n          this.hidden = false;\n          this._isFirstFrame = true;\n        }\n      },\n      renderFrame: function renderFrame() {\n        // If it is exported as hidden (data.hd === true) no need to render\n        // If it is not visible no need to render\n        if (this.data.hd || this.hidden) {\n          return;\n        }\n\n        this.renderTransform();\n        this.renderRenderable();\n        this.renderElement();\n        this.renderInnerContent();\n\n        if (this._isFirstFrame) {\n          this._isFirstFrame = false;\n        }\n      },\n      renderInnerContent: function renderInnerContent() {},\n      prepareFrame: function prepareFrame(num) {\n        this._mdf = false;\n        this.prepareRenderableFrame(num);\n        this.prepareProperties(num, this.isInRange);\n        this.checkTransparency();\n      },\n      destroy: function destroy() {\n        this.innerElem = null;\n        this.destroyBaseElement();\n      }\n    };\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\n  })();\n\n  function IImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n    this.sourceRect = {\n      top: 0,\n      left: 0,\n      width: this.assetData.w,\n      height: this.assetData.h\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\n\n  IImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.innerElem = createNS('image');\n    this.innerElem.setAttribute('width', this.assetData.w + 'px');\n    this.innerElem.setAttribute('height', this.assetData.h + 'px');\n    this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n    this.layerElement.appendChild(this.innerElem);\n  };\n\n  IImageElement.prototype.sourceRectAtTime = function () {\n    return this.sourceRect;\n  };\n\n  function ProcessedElement(element, position) {\n    this.elem = element;\n    this.pos = position;\n  }\n\n  function IShapeElement() {}\n\n  IShapeElement.prototype = {\n    addShapeToModifiers: function addShapeToModifiers(data) {\n      var i;\n      var len = this.shapeModifiers.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapeModifiers[i].addShape(data);\n      }\n    },\n    isShapeInAnimatedModifiers: function isShapeInAnimatedModifiers(data) {\n      var i = 0;\n      var len = this.shapeModifiers.length;\n\n      while (i < len) {\n        if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    renderModifiers: function renderModifiers() {\n      if (!this.shapeModifiers.length) {\n        return;\n      }\n\n      var i;\n      var len = this.shapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].sh.reset();\n      }\n\n      len = this.shapeModifiers.length;\n      var shouldBreakProcess;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame); // workaround to fix cases where a repeater resets the shape so the following processes get called twice\n        // TODO: find a better solution for this\n\n        if (shouldBreakProcess) {\n          break;\n        }\n      }\n    },\n    searchProcessedElement: function searchProcessedElement(elem) {\n      var elements = this.processedElements;\n      var i = 0;\n      var len = elements.length;\n\n      while (i < len) {\n        if (elements[i].elem === elem) {\n          return elements[i].pos;\n        }\n\n        i += 1;\n      }\n\n      return 0;\n    },\n    addProcessedElement: function addProcessedElement(elem, pos) {\n      var elements = this.processedElements;\n      var i = elements.length;\n\n      while (i) {\n        i -= 1;\n\n        if (elements[i].elem === elem) {\n          elements[i].pos = pos;\n          return;\n        }\n      }\n\n      elements.push(new ProcessedElement(elem, pos));\n    },\n    prepareFrame: function prepareFrame(num) {\n      this.prepareRenderableFrame(num);\n      this.prepareProperties(num, this.isInRange);\n    }\n  };\n\n  var lineCapEnum = {\n    1: 'butt',\n    2: 'round',\n    3: 'square'\n  };\n  var lineJoinEnum = {\n    1: 'miter',\n    2: 'round',\n    3: 'bevel'\n  };\n\n  function SVGShapeData(transformers, level, shape) {\n    this.caches = [];\n    this.styles = [];\n    this.transformers = transformers;\n    this.lStr = '';\n    this.sh = shape;\n    this.lvl = level; // TODO find if there are some cases where _isAnimated can be false.\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\n\n    this._isAnimated = !!shape.k; // TODO: commenting this for now since all shapes are animated\n\n    var i = 0;\n    var len = transformers.length;\n\n    while (i < len) {\n      if (transformers[i].mProps.dynamicProperties.length) {\n        this._isAnimated = true;\n        break;\n      }\n\n      i += 1;\n    }\n  }\n\n  SVGShapeData.prototype.setAsAnimated = function () {\n    this._isAnimated = true;\n  };\n\n  function SVGStyleData(data, level) {\n    this.data = data;\n    this.type = data.ty;\n    this.d = '';\n    this.lvl = level;\n    this._mdf = false;\n    this.closed = data.hd === true;\n    this.pElem = createNS('path');\n    this.msElem = null;\n  }\n\n  SVGStyleData.prototype.reset = function () {\n    this.d = '';\n    this._mdf = false;\n  };\n\n  function DashProperty(elem, data, renderer, container) {\n    this.elem = elem;\n    this.frameId = -1;\n    this.dataProps = createSizedArray(data.length);\n    this.renderer = renderer;\n    this.k = false;\n    this.dashStr = '';\n    this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\n    this.dashoffset = createTypedArray('float32', 1);\n    this.initDynamicPropertyContainer(container);\n    var i;\n    var len = data.length || 0;\n    var prop;\n\n    for (i = 0; i < len; i += 1) {\n      prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\n      this.k = prop.k || this.k;\n      this.dataProps[i] = {\n        n: data[i].n,\n        p: prop\n      };\n    }\n\n    if (!this.k) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = this.k;\n  }\n\n  DashProperty.prototype.getValue = function (forceRender) {\n    if (this.elem.globalData.frameId === this.frameId && !forceRender) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n    this._mdf = this._mdf || forceRender;\n\n    if (this._mdf) {\n      var i = 0;\n      var len = this.dataProps.length;\n\n      if (this.renderer === 'svg') {\n        this.dashStr = '';\n      }\n\n      for (i = 0; i < len; i += 1) {\n        if (this.dataProps[i].n !== 'o') {\n          if (this.renderer === 'svg') {\n            this.dashStr += ' ' + this.dataProps[i].p.v;\n          } else {\n            this.dashArray[i] = this.dataProps[i].p.v;\n          }\n        } else {\n          this.dashoffset[0] = this.dataProps[i].p.v;\n        }\n      }\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], DashProperty);\n\n  function SVGStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\n\n  function SVGFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGFillStyleData);\n\n  function SVGNoStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGNoStyleData);\n\n  function GradientProperty(elem, data, container) {\n    this.data = data;\n    this.c = createTypedArray('uint8c', data.p * 4);\n    var cLength = data.k.k[0].s ? data.k.k[0].s.length - data.p * 4 : data.k.k.length - data.p * 4;\n    this.o = createTypedArray('float32', cLength);\n    this._cmdf = false;\n    this._omdf = false;\n    this._collapsable = this.checkCollapsable();\n    this._hasOpacity = cLength;\n    this.initDynamicPropertyContainer(container);\n    this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\n    this.k = this.prop.k;\n    this.getValue(true);\n  }\n\n  GradientProperty.prototype.comparePoints = function (values, points) {\n    var i = 0;\n    var len = this.o.length / 2;\n    var diff;\n\n    while (i < len) {\n      diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\n\n      if (diff > 0.01) {\n        return false;\n      }\n\n      i += 1;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.checkCollapsable = function () {\n    if (this.o.length / 2 !== this.c.length / 4) {\n      return false;\n    }\n\n    if (this.data.k.k[0].s) {\n      var i = 0;\n      var len = this.data.k.k.length;\n\n      while (i < len) {\n        if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\n          return false;\n        }\n\n        i += 1;\n      }\n    } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.getValue = function (forceRender) {\n    this.prop.getValue();\n    this._mdf = false;\n    this._cmdf = false;\n    this._omdf = false;\n\n    if (this.prop._mdf || forceRender) {\n      var i;\n      var len = this.data.p * 4;\n      var mult;\n      var val;\n\n      for (i = 0; i < len; i += 1) {\n        mult = i % 4 === 0 ? 100 : 255;\n        val = Math.round(this.prop.v[i] * mult);\n\n        if (this.c[i] !== val) {\n          this.c[i] = val;\n          this._cmdf = !forceRender;\n        }\n      }\n\n      if (this.o.length) {\n        len = this.prop.v.length;\n\n        for (i = this.data.p * 4; i < len; i += 1) {\n          mult = i % 2 === 0 ? 100 : 1;\n          val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\n\n          if (this.o[i - this.data.p * 4] !== val) {\n            this.o[i - this.data.p * 4] = val;\n            this._omdf = !forceRender;\n          }\n        }\n      }\n\n      this._mdf = !forceRender;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], GradientProperty);\n\n  function SVGGradientFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.initGradientData(elem, data, styleOb);\n  }\n\n  SVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\n    this.h = PropertyFactory.getProp(elem, data.h || {\n      k: 0\n    }, 0, 0.01, this);\n    this.a = PropertyFactory.getProp(elem, data.a || {\n      k: 0\n    }, 0, degToRads, this);\n    this.g = new GradientProperty(elem, data.g, this);\n    this.style = styleOb;\n    this.stops = [];\n    this.setGradientData(styleOb.pElem, data);\n    this.setGradientOpacity(data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\n    var gradientId = createElementID();\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n    gfill.setAttribute('id', gradientId);\n    gfill.setAttribute('spreadMethod', 'pad');\n    gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\n    var stops = [];\n    var stop;\n    var j;\n    var jLen;\n    jLen = data.g.p * 4;\n\n    for (j = 0; j < jLen; j += 4) {\n      stop = createNS('stop');\n      gfill.appendChild(stop);\n      stops.push(stop);\n    }\n\n    pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + gradientId + ')');\n    this.gf = gfill;\n    this.cst = stops;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\n    if (this.g._hasOpacity && !this.g._collapsable) {\n      var stop;\n      var j;\n      var jLen;\n      var mask = createNS('mask');\n      var maskElement = createNS('path');\n      mask.appendChild(maskElement);\n      var opacityId = createElementID();\n      var maskId = createElementID();\n      mask.setAttribute('id', maskId);\n      var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n      opFill.setAttribute('id', opacityId);\n      opFill.setAttribute('spreadMethod', 'pad');\n      opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\n      jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\n      var stops = this.stops;\n\n      for (j = data.g.p * 4; j < jLen; j += 2) {\n        stop = createNS('stop');\n        stop.setAttribute('stop-color', 'rgb(255,255,255)');\n        opFill.appendChild(stop);\n        stops.push(stop);\n      }\n\n      maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + opacityId + ')');\n\n      if (data.ty === 'gs') {\n        maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n        maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n\n        if (data.lj === 1) {\n          maskElement.setAttribute('stroke-miterlimit', data.ml);\n        }\n      }\n\n      this.of = opFill;\n      this.ms = mask;\n      this.ost = stops;\n      this.maskId = maskId;\n      styleOb.msElem = maskElement;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\n\n  function SVGGradientStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.initGradientData(elem, data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\n\n  function ShapeGroupData() {\n    this.it = [];\n    this.prevViewData = [];\n    this.gr = createNS('g');\n  }\n\n  function SVGTransformData(mProps, op, container) {\n    this.transform = {\n      mProps: mProps,\n      op: op,\n      container: container\n    };\n    this.elements = [];\n    this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\n  }\n\n  var buildShapeString = function buildShapeString(pathNodes, length, closed, mat) {\n    if (length === 0) {\n      return '';\n    }\n\n    var _o = pathNodes.o;\n    var _i = pathNodes.i;\n    var _v = pathNodes.v;\n    var i;\n    var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n\n    for (i = 1; i < length; i += 1) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\n    }\n\n    if (closed && length) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n      shapeString += 'z';\n    }\n\n    return shapeString;\n  };\n\n  var SVGElementsRenderer = function () {\n    var _identityMatrix = new Matrix();\n\n    var _matrixHelper = new Matrix();\n\n    var ob = {\n      createRenderFunction: createRenderFunction\n    };\n\n    function createRenderFunction(data) {\n      switch (data.ty) {\n        case 'fl':\n          return renderFill;\n\n        case 'gf':\n          return renderGradient;\n\n        case 'gs':\n          return renderGradientStroke;\n\n        case 'st':\n          return renderStroke;\n\n        case 'sh':\n        case 'el':\n        case 'rc':\n        case 'sr':\n          return renderPath;\n\n        case 'tr':\n          return renderContentTransform;\n\n        case 'no':\n          return renderNoop;\n\n        default:\n          return null;\n      }\n    }\n\n    function renderContentTransform(styleData, itemData, isFirstFrame) {\n      if (isFirstFrame || itemData.transform.op._mdf) {\n        itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\n      }\n\n      if (isFirstFrame || itemData.transform.mProps._mdf) {\n        itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\n      }\n    }\n\n    function renderNoop() {}\n\n    function renderPath(styleData, itemData, isFirstFrame) {\n      var j;\n      var jLen;\n      var pathStringTransformed;\n      var redraw;\n      var pathNodes;\n      var l;\n      var lLen = itemData.styles.length;\n      var lvl = itemData.lvl;\n      var paths;\n      var mat;\n      var props;\n      var iterations;\n      var k;\n\n      for (l = 0; l < lLen; l += 1) {\n        redraw = itemData.sh._mdf || isFirstFrame;\n\n        if (itemData.styles[l].lvl < lvl) {\n          mat = _matrixHelper.reset();\n          iterations = lvl - itemData.styles[l].lvl;\n          k = itemData.transformers.length - 1;\n\n          while (!redraw && iterations > 0) {\n            redraw = itemData.transformers[k].mProps._mdf || redraw;\n            iterations -= 1;\n            k -= 1;\n          }\n\n          if (redraw) {\n            iterations = lvl - itemData.styles[l].lvl;\n            k = itemData.transformers.length - 1;\n\n            while (iterations > 0) {\n              props = itemData.transformers[k].mProps.v.props;\n              mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n              iterations -= 1;\n              k -= 1;\n            }\n          }\n        } else {\n          mat = _identityMatrix;\n        }\n\n        paths = itemData.sh.paths;\n        jLen = paths._length;\n\n        if (redraw) {\n          pathStringTransformed = '';\n\n          for (j = 0; j < jLen; j += 1) {\n            pathNodes = paths.shapes[j];\n\n            if (pathNodes && pathNodes._length) {\n              pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\n            }\n          }\n\n          itemData.caches[l] = pathStringTransformed;\n        } else {\n          pathStringTransformed = itemData.caches[l];\n        }\n\n        itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\n        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\n      }\n    }\n\n    function renderFill(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n\n      if (itemData.c._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\n      }\n    }\n\n    function renderGradientStroke(styleData, itemData, isFirstFrame) {\n      renderGradient(styleData, itemData, isFirstFrame);\n      renderStroke(styleData, itemData, isFirstFrame);\n    }\n\n    function renderGradient(styleData, itemData, isFirstFrame) {\n      var gfill = itemData.gf;\n      var hasOpacity = itemData.g._hasOpacity;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (itemData.o._mdf || isFirstFrame) {\n        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\n        itemData.style.pElem.setAttribute(attr, itemData.o.v);\n      }\n\n      if (itemData.s._mdf || isFirstFrame) {\n        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\n        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\n        gfill.setAttribute(attr1, pt1[0]);\n        gfill.setAttribute(attr2, pt1[1]);\n\n        if (hasOpacity && !itemData.g._collapsable) {\n          itemData.of.setAttribute(attr1, pt1[0]);\n          itemData.of.setAttribute(attr2, pt1[1]);\n        }\n      }\n\n      var stops;\n      var i;\n      var len;\n      var stop;\n\n      if (itemData.g._cmdf || isFirstFrame) {\n        stops = itemData.cst;\n        var cValues = itemData.g.c;\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n          stop.setAttribute('offset', cValues[i * 4] + '%');\n          stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\n        }\n      }\n\n      if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\n        var oValues = itemData.g.o;\n\n        if (itemData.g._collapsable) {\n          stops = itemData.cst;\n        } else {\n          stops = itemData.ost;\n        }\n\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n\n          if (!itemData.g._collapsable) {\n            stop.setAttribute('offset', oValues[i * 2] + '%');\n          }\n\n          stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\n        }\n      }\n\n      if (styleData.t === 1) {\n        if (itemData.e._mdf || isFirstFrame) {\n          gfill.setAttribute('x2', pt2[0]);\n          gfill.setAttribute('y2', pt2[1]);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('x2', pt2[0]);\n            itemData.of.setAttribute('y2', pt2[1]);\n          }\n        }\n      } else {\n        var rad;\n\n        if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          gfill.setAttribute('r', rad);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('r', rad);\n          }\n        }\n\n        if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\n          if (!rad) {\n            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          }\n\n          var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n          var percent = itemData.h.v;\n\n          if (percent >= 1) {\n            percent = 0.99;\n          } else if (percent <= -1) {\n            percent = -0.99;\n          }\n\n          var dist = rad * percent;\n          var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n          var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n          gfill.setAttribute('fx', x);\n          gfill.setAttribute('fy', y);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('fx', x);\n            itemData.of.setAttribute('fy', y);\n          }\n        } // gfill.setAttribute('fy','200');\n\n      }\n    }\n\n    function renderStroke(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n      var d = itemData.d;\n\n      if (d && (d._mdf || isFirstFrame) && d.dashStr) {\n        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\n        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\n      }\n\n      if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\n        styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\n      }\n\n      if (itemData.w._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\n\n        if (styleElem.msElem) {\n          styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\n        }\n      }\n    }\n\n    return ob;\n  }();\n\n  function SVGShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = []; // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\n\n  SVGShapeElement.prototype.initSecondaryElement = function () {};\n\n  SVGShapeElement.prototype.identityMatrix = new Matrix();\n\n  SVGShapeElement.prototype.buildExpressionInterface = function () {};\n\n  SVGShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n  };\n  /*\r\n  This method searches for multiple shapes that affect a single element and one of them is animated\r\n  */\n\n\n  SVGShapeElement.prototype.filterUniqueShapes = function () {\n    var i;\n    var len = this.shapes.length;\n    var shape;\n    var j;\n    var jLen = this.stylesList.length;\n    var style;\n    var tempShapes = [];\n    var areAnimated = false;\n\n    for (j = 0; j < jLen; j += 1) {\n      style = this.stylesList[j];\n      areAnimated = false;\n      tempShapes.length = 0;\n\n      for (i = 0; i < len; i += 1) {\n        shape = this.shapes[i];\n\n        if (shape.styles.indexOf(style) !== -1) {\n          tempShapes.push(shape);\n          areAnimated = shape._isAnimated || areAnimated;\n        }\n      }\n\n      if (tempShapes.length > 1 && areAnimated) {\n        this.setShapesAsAnimated(tempShapes);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\n    var i;\n    var len = shapes.length;\n\n    for (i = 0; i < len; i += 1) {\n      shapes[i].setAsAnimated();\n    }\n  };\n\n  SVGShapeElement.prototype.createStyleElement = function (data, level) {\n    // TODO: prevent drawing of hidden styles\n    var elementData;\n    var styleOb = new SVGStyleData(data, level);\n    var pathElement = styleOb.pElem;\n\n    if (data.ty === 'st') {\n      elementData = new SVGStrokeStyleData(this, data, styleOb);\n    } else if (data.ty === 'fl') {\n      elementData = new SVGFillStyleData(this, data, styleOb);\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\n      elementData = new GradientConstructor(this, data, styleOb);\n      this.globalData.defs.appendChild(elementData.gf);\n\n      if (elementData.maskId) {\n        this.globalData.defs.appendChild(elementData.ms);\n        this.globalData.defs.appendChild(elementData.of);\n        pathElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + elementData.maskId + ')');\n      }\n    } else if (data.ty === 'no') {\n      elementData = new SVGNoStyleData(this, data, styleOb);\n    }\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n      pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n      pathElement.setAttribute('fill-opacity', '0');\n\n      if (data.lj === 1) {\n        pathElement.setAttribute('stroke-miterlimit', data.ml);\n      }\n    }\n\n    if (data.r === 2) {\n      pathElement.setAttribute('fill-rule', 'evenodd');\n    }\n\n    if (data.ln) {\n      pathElement.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      pathElement.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    this.stylesList.push(styleOb);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createGroupElement = function (data) {\n    var elementData = new ShapeGroupData();\n\n    if (data.ln) {\n      elementData.gr.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      elementData.gr.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createTransformElement = function (data, container) {\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\n    var i = 0;\n    var len = this.animatedContents.length;\n\n    while (i < len) {\n      if (this.animatedContents[i].element === element) {\n        return;\n      }\n\n      i += 1;\n    }\n\n    this.animatedContents.push({\n      fn: SVGElementsRenderer.createRenderFunction(data),\n      element: element,\n      data: data\n    });\n  };\n\n  SVGShapeElement.prototype.setElementStyles = function (elementData) {\n    var arr = elementData.styles;\n    var j;\n    var jLen = this.stylesList.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      if (!this.stylesList[j].closed) {\n        arr.push(this.stylesList[j]);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n  };\n\n  SVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\n    var ownTransformers = [].concat(transformers);\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var currentTransform;\n    var modifier;\n    var processedPos;\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._render = render;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs' || arr[i].ty === 'no') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], level);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        if (arr[i]._render) {\n          if (itemsData[i].style.pElem.parentNode !== container) {\n            container.appendChild(itemsData[i].style.pElem);\n          }\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\n\n        if (arr[i]._render) {\n          if (itemsData[i].gr.parentNode !== container) {\n            container.appendChild(itemsData[i].gr);\n          }\n        }\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          itemsData[i] = this.createTransformElement(arr[i], container);\n        }\n\n        currentTransform = itemsData[i].transform;\n        ownTransformers.push(currentTransform);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\n        }\n\n        this.setElementStyles(itemsData[i]);\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          render = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    len = ownStyles.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownStyles[i].closed = true;\n    }\n\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  SVGShapeElement.prototype.renderInnerContent = function () {\n    this.renderModifiers();\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.stylesList[i].reset();\n    }\n\n    this.renderShape();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.stylesList[i]._mdf || this._isFirstFrame) {\n        if (this.stylesList[i].msElem) {\n          this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d); // Adding M0 0 fixes same mask bug on all browsers\n\n          this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\n        }\n\n        this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.renderShape = function () {\n    var i;\n    var len = this.animatedContents.length;\n    var animatedContent;\n\n    for (i = 0; i < len; i += 1) {\n      animatedContent = this.animatedContents[i];\n\n      if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\n        animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.destroy = function () {\n    this.destroyBaseElement();\n    this.shapesData = null;\n    this.itemsData = null;\n  };\n\n  function LetterProps(o, sw, sc, fc, m, p) {\n    this.o = o;\n    this.sw = sw;\n    this.sc = sc;\n    this.fc = fc;\n    this.m = m;\n    this.p = p;\n    this._mdf = {\n      o: true,\n      sw: !!sw,\n      sc: !!sc,\n      fc: !!fc,\n      m: true,\n      p: true\n    };\n  }\n\n  LetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\n    this._mdf.o = false;\n    this._mdf.sw = false;\n    this._mdf.sc = false;\n    this._mdf.fc = false;\n    this._mdf.m = false;\n    this._mdf.p = false;\n    var updated = false;\n\n    if (this.o !== o) {\n      this.o = o;\n      this._mdf.o = true;\n      updated = true;\n    }\n\n    if (this.sw !== sw) {\n      this.sw = sw;\n      this._mdf.sw = true;\n      updated = true;\n    }\n\n    if (this.sc !== sc) {\n      this.sc = sc;\n      this._mdf.sc = true;\n      updated = true;\n    }\n\n    if (this.fc !== fc) {\n      this.fc = fc;\n      this._mdf.fc = true;\n      updated = true;\n    }\n\n    if (this.m !== m) {\n      this.m = m;\n      this._mdf.m = true;\n      updated = true;\n    }\n\n    if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\n      this.p = p;\n      this._mdf.p = true;\n      updated = true;\n    }\n\n    return updated;\n  };\n\n  function TextProperty(elem, data) {\n    this._frameId = initialDefaultFrame;\n    this.pv = '';\n    this.v = '';\n    this.kf = false;\n    this._isFirstFrame = true;\n    this._mdf = false;\n    this.data = data;\n    this.elem = elem;\n    this.comp = this.elem.comp;\n    this.keysIndex = 0;\n    this.canResize = false;\n    this.minimumFontSize = 1;\n    this.effectsSequence = [];\n    this.currentData = {\n      ascent: 0,\n      boxWidth: this.defaultBoxWidth,\n      f: '',\n      fStyle: '',\n      fWeight: '',\n      fc: '',\n      j: '',\n      justifyOffset: '',\n      l: [],\n      lh: 0,\n      lineWidths: [],\n      ls: '',\n      of: '',\n      s: '',\n      sc: '',\n      sw: 0,\n      t: 0,\n      tr: 0,\n      sz: 0,\n      ps: null,\n      fillColorAnim: false,\n      strokeColorAnim: false,\n      strokeWidthAnim: false,\n      yOffset: 0,\n      finalSize: 0,\n      finalText: [],\n      finalLineHeight: 0,\n      __complete: false\n    };\n    this.copyData(this.currentData, this.data.d.k[0].s);\n\n    if (!this.searchProperty()) {\n      this.completeTextData(this.currentData);\n    }\n  }\n\n  TextProperty.prototype.defaultBoxWidth = [0, 0];\n\n  TextProperty.prototype.copyData = function (obj, data) {\n    for (var s in data) {\n      if (Object.prototype.hasOwnProperty.call(data, s)) {\n        obj[s] = data[s];\n      }\n    }\n\n    return obj;\n  };\n\n  TextProperty.prototype.setCurrentData = function (data) {\n    if (!data.__complete) {\n      this.completeTextData(data);\n    }\n\n    this.currentData = data;\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\n    this._mdf = true;\n  };\n\n  TextProperty.prototype.searchProperty = function () {\n    return this.searchKeyframes();\n  };\n\n  TextProperty.prototype.searchKeyframes = function () {\n    this.kf = this.data.d.k.length > 1;\n\n    if (this.kf) {\n      this.addEffect(this.getKeyframeValue.bind(this));\n    }\n\n    return this.kf;\n  };\n\n  TextProperty.prototype.addEffect = function (effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.getValue = function (_finalValue) {\n    if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\n      return;\n    }\n\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\n    var currentValue = this.currentData;\n    var currentIndex = this.keysIndex;\n\n    if (this.lock) {\n      this.setCurrentData(this.currentData);\n      return;\n    }\n\n    this.lock = true;\n    this._mdf = false;\n    var i;\n    var len = this.effectsSequence.length;\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\n\n    for (i = 0; i < len; i += 1) {\n      // Checking if index changed to prevent creating a new object every time the expression updates.\n      if (currentIndex !== this.keysIndex) {\n        finalValue = this.effectsSequence[i](finalValue, finalValue.t);\n      } else {\n        finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\n      }\n    }\n\n    if (currentValue !== finalValue) {\n      this.setCurrentData(finalValue);\n    }\n\n    this.v = this.currentData;\n    this.pv = this.v;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  };\n\n  TextProperty.prototype.getKeyframeValue = function () {\n    var textKeys = this.data.d.k;\n    var frameNum = this.elem.comp.renderedFrame;\n    var i = 0;\n    var len = textKeys.length;\n\n    while (i <= len - 1) {\n      if (i === len - 1 || textKeys[i + 1].t > frameNum) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    if (this.keysIndex !== i) {\n      this.keysIndex = i;\n    }\n\n    return this.data.d.k[this.keysIndex].s;\n  };\n\n  TextProperty.prototype.buildFinalText = function (text) {\n    var charactersArray = [];\n    var i = 0;\n    var len = text.length;\n    var charCode;\n    var secondCharCode;\n    var shouldCombine = false;\n\n    while (i < len) {\n      charCode = text.charCodeAt(i);\n\n      if (FontManager.isCombinedCharacter(charCode)) {\n        charactersArray[charactersArray.length - 1] += text.charAt(i);\n      } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n        secondCharCode = text.charCodeAt(i + 1);\n\n        if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\n          if (shouldCombine || FontManager.isModifier(charCode, secondCharCode)) {\n            charactersArray[charactersArray.length - 1] += text.substr(i, 2);\n            shouldCombine = false;\n          } else {\n            charactersArray.push(text.substr(i, 2));\n          }\n\n          i += 1;\n        } else {\n          charactersArray.push(text.charAt(i));\n        }\n      } else if (charCode > 0xDBFF) {\n        secondCharCode = text.charCodeAt(i + 1);\n\n        if (FontManager.isZeroWidthJoiner(charCode, secondCharCode)) {\n          shouldCombine = true;\n          charactersArray[charactersArray.length - 1] += text.substr(i, 2);\n          i += 1;\n        } else {\n          charactersArray.push(text.charAt(i));\n        }\n      } else if (FontManager.isZeroWidthJoiner(charCode)) {\n        charactersArray[charactersArray.length - 1] += text.charAt(i);\n        shouldCombine = true;\n      } else {\n        charactersArray.push(text.charAt(i));\n      }\n\n      i += 1;\n    }\n\n    return charactersArray;\n  };\n\n  TextProperty.prototype.completeTextData = function (documentData) {\n    documentData.__complete = true;\n    var fontManager = this.elem.globalData.fontManager;\n    var data = this.data;\n    var letters = [];\n    var i;\n    var len;\n    var newLineFlag;\n    var index = 0;\n    var val;\n    var anchorGrouping = data.m.g;\n    var currentSize = 0;\n    var currentPos = 0;\n    var currentLine = 0;\n    var lineWidths = [];\n    var lineWidth = 0;\n    var maxLineWidth = 0;\n    var j;\n    var jLen;\n    var fontData = fontManager.getFontByName(documentData.f);\n    var charData;\n    var cLength = 0;\n    var fontProps = getFontProperties(fontData);\n    documentData.fWeight = fontProps.weight;\n    documentData.fStyle = fontProps.style;\n    documentData.finalSize = documentData.s;\n    documentData.finalText = this.buildFinalText(documentData.t);\n    len = documentData.finalText.length;\n    documentData.finalLineHeight = documentData.lh;\n    var trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n    var charCode;\n\n    if (documentData.sz) {\n      var flag = true;\n      var boxWidth = documentData.sz[0];\n      var boxHeight = documentData.sz[1];\n      var currentHeight;\n      var finalText;\n\n      while (flag) {\n        finalText = this.buildFinalText(documentData.t);\n        currentHeight = 0;\n        lineWidth = 0;\n        len = finalText.length;\n        trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n        var lastSpaceIndex = -1;\n\n        for (i = 0; i < len; i += 1) {\n          charCode = finalText[i].charCodeAt(0);\n          newLineFlag = false;\n\n          if (finalText[i] === ' ') {\n            lastSpaceIndex = i;\n          } else if (charCode === 13 || charCode === 3) {\n            lineWidth = 0;\n            newLineFlag = true;\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n          }\n\n          if (fontManager.chars) {\n            charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\n            cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n          } else {\n            // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\n            cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\n          }\n\n          if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\n            if (lastSpaceIndex === -1) {\n              len += 1;\n            } else {\n              i = lastSpaceIndex;\n            }\n\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n            finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r'); // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\n\n            lastSpaceIndex = -1;\n            lineWidth = 0;\n          } else {\n            lineWidth += cLength;\n            lineWidth += trackingOffset;\n          }\n        }\n\n        currentHeight += fontData.ascent * documentData.finalSize / 100;\n\n        if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\n          documentData.finalSize -= 1;\n          documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\n        } else {\n          documentData.finalText = finalText;\n          len = documentData.finalText.length;\n          flag = false;\n        }\n      }\n    }\n\n    lineWidth = -trackingOffset;\n    cLength = 0;\n    var uncollapsedSpaces = 0;\n    var currentChar;\n\n    for (i = 0; i < len; i += 1) {\n      newLineFlag = false;\n      currentChar = documentData.finalText[i];\n      charCode = currentChar.charCodeAt(0);\n\n      if (charCode === 13 || charCode === 3) {\n        uncollapsedSpaces = 0;\n        lineWidths.push(lineWidth);\n        maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n        lineWidth = -2 * trackingOffset;\n        val = '';\n        newLineFlag = true;\n        currentLine += 1;\n      } else {\n        val = currentChar;\n      }\n\n      if (fontManager.chars) {\n        charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\n        cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n      } else {\n        // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\n        // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\n        cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\n      } //\n\n\n      if (currentChar === ' ') {\n        uncollapsedSpaces += cLength + trackingOffset;\n      } else {\n        lineWidth += cLength + trackingOffset + uncollapsedSpaces;\n        uncollapsedSpaces = 0;\n      }\n\n      letters.push({\n        l: cLength,\n        an: cLength,\n        add: currentSize,\n        n: newLineFlag,\n        anIndexes: [],\n        val: val,\n        line: currentLine,\n        animatorJustifyOffset: 0\n      });\n\n      if (anchorGrouping == 2) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || val === ' ' || i === len - 1) {\n          if (val === '' || val === ' ') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          index += 1;\n          currentSize = 0;\n        }\n      } else if (anchorGrouping == 3) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || i === len - 1) {\n          if (val === '') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          currentSize = 0;\n          index += 1;\n        }\n      } else {\n        letters[index].ind = index;\n        letters[index].extra = 0;\n        index += 1;\n      }\n    }\n\n    documentData.l = letters;\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n    lineWidths.push(lineWidth);\n\n    if (documentData.sz) {\n      documentData.boxWidth = documentData.sz[0];\n      documentData.justifyOffset = 0;\n    } else {\n      documentData.boxWidth = maxLineWidth;\n\n      switch (documentData.j) {\n        case 1:\n          documentData.justifyOffset = -documentData.boxWidth;\n          break;\n\n        case 2:\n          documentData.justifyOffset = -documentData.boxWidth / 2;\n          break;\n\n        default:\n          documentData.justifyOffset = 0;\n      }\n    }\n\n    documentData.lineWidths = lineWidths;\n    var animators = data.a;\n    var animatorData;\n    var letterData;\n    jLen = animators.length;\n    var based;\n    var ind;\n    var indexes = [];\n\n    for (j = 0; j < jLen; j += 1) {\n      animatorData = animators[j];\n\n      if (animatorData.a.sc) {\n        documentData.strokeColorAnim = true;\n      }\n\n      if (animatorData.a.sw) {\n        documentData.strokeWidthAnim = true;\n      }\n\n      if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\n        documentData.fillColorAnim = true;\n      }\n\n      ind = 0;\n      based = animatorData.s.b;\n\n      for (i = 0; i < len; i += 1) {\n        letterData = letters[i];\n        letterData.anIndexes[j] = ind;\n\n        if (based == 1 && letterData.val !== '' || based == 2 && letterData.val !== '' && letterData.val !== ' ' || based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1) || based == 4 && (letterData.n || i == len - 1)) {\n          // eslint-disable-line eqeqeq\n          if (animatorData.s.rn === 1) {\n            indexes.push(ind);\n          }\n\n          ind += 1;\n        }\n      }\n\n      data.a[j].s.totalChars = ind;\n      var currentInd = -1;\n      var newInd;\n\n      if (animatorData.s.rn === 1) {\n        for (i = 0; i < len; i += 1) {\n          letterData = letters[i];\n\n          if (currentInd != letterData.anIndexes[j]) {\n            // eslint-disable-line eqeqeq\n            currentInd = letterData.anIndexes[j];\n            newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\n          }\n\n          letterData.anIndexes[j] = newInd;\n        }\n      }\n    }\n\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\n    documentData.ls = documentData.ls || 0;\n    documentData.ascent = fontData.ascent * documentData.finalSize / 100;\n  };\n\n  TextProperty.prototype.updateDocumentData = function (newData, index) {\n    index = index === undefined ? this.keysIndex : index;\n    var dData = this.copyData({}, this.data.d.k[index].s);\n    dData = this.copyData(dData, newData);\n    this.data.d.k[index].s = dData;\n    this.recalculate(index);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.recalculate = function (index) {\n    var dData = this.data.d.k[index].s;\n    dData.__complete = false;\n    this.keysIndex = 0;\n    this._isFirstFrame = true;\n    this.getValue(dData);\n  };\n\n  TextProperty.prototype.canResizeFont = function (_canResize) {\n    this.canResize = _canResize;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.setMinimumFontSize = function (_fontValue) {\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  var TextSelectorProp = function () {\n    var max = Math.max;\n    var min = Math.min;\n    var floor = Math.floor;\n\n    function TextSelectorPropFactory(elem, data) {\n      this._currentTextLength = -1;\n      this.k = false;\n      this.data = data;\n      this.elem = elem;\n      this.comp = elem.comp;\n      this.finalS = 0;\n      this.finalE = 0;\n      this.initDynamicPropertyContainer(elem);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: 0\n      }, 0, 0, this);\n\n      if ('e' in data) {\n        this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\n      } else {\n        this.e = {\n          v: 100\n        };\n      }\n\n      this.o = PropertyFactory.getProp(elem, data.o || {\n        k: 0\n      }, 0, 0, this);\n      this.xe = PropertyFactory.getProp(elem, data.xe || {\n        k: 0\n      }, 0, 0, this);\n      this.ne = PropertyFactory.getProp(elem, data.ne || {\n        k: 0\n      }, 0, 0, this);\n      this.sm = PropertyFactory.getProp(elem, data.sm || {\n        k: 100\n      }, 0, 0, this);\n      this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\n\n      if (!this.dynamicProperties.length) {\n        this.getValue();\n      }\n    }\n\n    TextSelectorPropFactory.prototype = {\n      getMult: function getMult(ind) {\n        if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\n          this.getValue();\n        }\n\n        var x1 = 0;\n        var y1 = 0;\n        var x2 = 1;\n        var y2 = 1;\n\n        if (this.ne.v > 0) {\n          x1 = this.ne.v / 100.0;\n        } else {\n          y1 = -this.ne.v / 100.0;\n        }\n\n        if (this.xe.v > 0) {\n          x2 = 1.0 - this.xe.v / 100.0;\n        } else {\n          y2 = 1.0 + this.xe.v / 100.0;\n        }\n\n        var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\n        var mult = 0;\n        var s = this.finalS;\n        var e = this.finalE;\n        var type = this.data.sh;\n\n        if (type === 2) {\n          if (e === s) {\n            mult = ind >= e ? 1 : 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 3) {\n          if (e === s) {\n            mult = ind >= e ? 0 : 1;\n          } else {\n            mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 4) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n\n            if (mult < 0.5) {\n              mult *= 2;\n            } else {\n              mult = 1 - 2 * (mult - 0.5);\n            }\n          }\n\n          mult = easer(mult);\n        } else if (type === 5) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            var tot = e - s;\n            /* ind += 0.5;\r\n                      mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\n\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            var x = -tot / 2 + ind;\n            var a = tot / 2;\n            mult = Math.sqrt(1 - x * x / (a * a));\n          }\n\n          mult = easer(mult);\n        } else if (type === 6) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            mult = (1 + Math.cos(Math.PI + Math.PI * 2 * ind / (e - s))) / 2; // eslint-disable-line\n          }\n\n          mult = easer(mult);\n        } else {\n          if (ind >= floor(s)) {\n            if (ind - s < 0) {\n              mult = max(0, min(min(e, 1) - (s - ind), 1));\n            } else {\n              mult = max(0, min(e - ind, 1));\n            }\n          }\n\n          mult = easer(mult);\n        } // Smoothness implementation.\n        // The smoothness represents a reduced range of the original [0; 1] range.\n        // if smoothness is 25%, the new range will be [0.375; 0.625]\n        // Steps are:\n        // - find the lower value of the new range (threshold)\n        // - if multiplier is smaller than that value, floor it to 0\n        // - if it is larger,\n        //     - subtract the threshold\n        //     - divide it by the smoothness (this will return the range to [0; 1])\n        // Note: If it doesn't work on some scenarios, consider applying it before the easer.\n\n\n        if (this.sm.v !== 100) {\n          var smoothness = this.sm.v * 0.01;\n\n          if (smoothness === 0) {\n            smoothness = 0.00000001;\n          }\n\n          var threshold = 0.5 - smoothness * 0.5;\n\n          if (mult < threshold) {\n            mult = 0;\n          } else {\n            mult = (mult - threshold) / smoothness;\n\n            if (mult > 1) {\n              mult = 1;\n            }\n          }\n        }\n\n        return mult * this.a.v;\n      },\n      getValue: function getValue(newCharsFlag) {\n        this.iterateDynamicProperties();\n        this._mdf = newCharsFlag || this._mdf;\n        this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\n\n        if (newCharsFlag && this.data.r === 2) {\n          this.e.v = this._currentTextLength;\n        }\n\n        var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\n        var o = this.o.v / divisor;\n        var s = this.s.v / divisor + o;\n        var e = this.e.v / divisor + o;\n\n        if (s > e) {\n          var _s = s;\n          s = e;\n          e = _s;\n        }\n\n        this.finalS = s;\n        this.finalE = e;\n      }\n    };\n    extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\n\n    function getTextSelectorProp(elem, data, arr) {\n      return new TextSelectorPropFactory(elem, data, arr);\n    }\n\n    return {\n      getTextSelectorProp: getTextSelectorProp\n    };\n  }();\n\n  function TextAnimatorDataProperty(elem, animatorProps, container) {\n    var defaultData = {\n      propType: false\n    };\n    var getProp = PropertyFactory.getProp;\n    var textAnimatorAnimatables = animatorProps.a;\n    this.a = {\n      r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\n      rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\n      ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\n      sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\n      sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\n      s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\n      a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\n      o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\n      p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\n      sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\n      sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\n      fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\n      fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\n      fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\n      fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\n      t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData\n    };\n    this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\n    this.s.t = animatorProps.s.t;\n  }\n\n  function TextAnimatorProperty(textData, renderType, elem) {\n    this._isFirstFrame = true;\n    this._hasMaskedPath = false;\n    this._frameId = -1;\n    this._textData = textData;\n    this._renderType = renderType;\n    this._elem = elem;\n    this._animatorsData = createSizedArray(this._textData.a.length);\n    this._pathData = {};\n    this._moreOptions = {\n      alignment: {}\n    };\n    this.renderedLetters = [];\n    this.lettersChangedFlag = false;\n    this.initDynamicPropertyContainer(elem);\n  }\n\n  TextAnimatorProperty.prototype.searchProperties = function () {\n    var i;\n    var len = this._textData.a.length;\n    var animatorProps;\n    var getProp = PropertyFactory.getProp;\n\n    for (i = 0; i < len; i += 1) {\n      animatorProps = this._textData.a[i];\n      this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\n    }\n\n    if (this._textData.p && 'm' in this._textData.p) {\n      this._pathData = {\n        a: getProp(this._elem, this._textData.p.a, 0, 0, this),\n        f: getProp(this._elem, this._textData.p.f, 0, 0, this),\n        l: getProp(this._elem, this._textData.p.l, 0, 0, this),\n        r: getProp(this._elem, this._textData.p.r, 0, 0, this),\n        p: getProp(this._elem, this._textData.p.p, 0, 0, this),\n        m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\n      };\n      this._hasMaskedPath = true;\n    } else {\n      this._hasMaskedPath = false;\n    }\n\n    this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\n  };\n\n  TextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\n    this.lettersChangedFlag = lettersChangedFlag;\n\n    if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\n      return;\n    }\n\n    this._isFirstFrame = false;\n    var alignment = this._moreOptions.alignment.v;\n    var animators = this._animatorsData;\n    var textData = this._textData;\n    var matrixHelper = this.mHelper;\n    var renderType = this._renderType;\n    var renderedLettersCount = this.renderedLetters.length;\n    var xPos;\n    var yPos;\n    var i;\n    var len;\n    var letters = documentData.l;\n    var pathInfo;\n    var currentLength;\n    var currentPoint;\n    var segmentLength;\n    var flag;\n    var pointInd;\n    var segmentInd;\n    var prevPoint;\n    var points;\n    var segments;\n    var partialLength;\n    var totalLength;\n    var perc;\n    var tanAngle;\n    var mask;\n\n    if (this._hasMaskedPath) {\n      mask = this._pathData.m;\n\n      if (!this._pathData.n || this._pathData._mdf) {\n        var paths = mask.v;\n\n        if (this._pathData.r.v) {\n          paths = paths.reverse();\n        } // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\n\n\n        pathInfo = {\n          tLength: 0,\n          segments: []\n        };\n        len = paths._length - 1;\n        var bezierData;\n        totalLength = 0;\n\n        for (i = 0; i < len; i += 1) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[i + 1], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        i = len;\n\n        if (mask.v.c) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[0], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        this._pathData.pi = pathInfo;\n      }\n\n      pathInfo = this._pathData.pi;\n      currentLength = this._pathData.f.v;\n      segmentInd = 0;\n      pointInd = 1;\n      segmentLength = 0;\n      flag = true;\n      segments = pathInfo.segments;\n\n      if (currentLength < 0 && mask.v.c) {\n        if (pathInfo.tLength < Math.abs(currentLength)) {\n          currentLength = -Math.abs(currentLength) % pathInfo.tLength;\n        }\n\n        segmentInd = segments.length - 1;\n        points = segments[segmentInd].points;\n        pointInd = points.length - 1;\n\n        while (currentLength < 0) {\n          currentLength += points[pointInd].partialLength;\n          pointInd -= 1;\n\n          if (pointInd < 0) {\n            segmentInd -= 1;\n            points = segments[segmentInd].points;\n            pointInd = points.length - 1;\n          }\n        }\n      }\n\n      points = segments[segmentInd].points;\n      prevPoint = points[pointInd - 1];\n      currentPoint = points[pointInd];\n      partialLength = currentPoint.partialLength;\n    }\n\n    len = letters.length;\n    xPos = 0;\n    yPos = 0;\n    var yOff = documentData.finalSize * 1.2 * 0.714;\n    var firstLine = true;\n    var animatorProps;\n    var animatorSelector;\n    var j;\n    var jLen;\n    var letterValue;\n    jLen = animators.length;\n    var mult;\n    var ind = -1;\n    var offf;\n    var xPathPos;\n    var yPathPos;\n    var initPathPos = currentLength;\n    var initSegmentInd = segmentInd;\n    var initPointInd = pointInd;\n    var currentLine = -1;\n    var elemOpacity;\n    var sc;\n    var sw;\n    var fc;\n    var k;\n    var letterSw;\n    var letterSc;\n    var letterFc;\n    var letterM = '';\n    var letterP = this.defaultPropsArray;\n    var letterO; //\n\n    if (documentData.j === 2 || documentData.j === 1) {\n      var animatorJustifyOffset = 0;\n      var animatorFirstCharOffset = 0;\n      var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\n      var lastIndex = 0;\n      var isNewLine = true;\n\n      for (i = 0; i < len; i += 1) {\n        if (letters[i].n) {\n          if (animatorJustifyOffset) {\n            animatorJustifyOffset += animatorFirstCharOffset;\n          }\n\n          while (lastIndex < i) {\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n            lastIndex += 1;\n          }\n\n          animatorJustifyOffset = 0;\n          isNewLine = true;\n        } else {\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.t.propType) {\n              if (isNewLine && documentData.j === 2) {\n                animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\n              }\n\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\n              } else {\n                animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\n              }\n            }\n          }\n\n          isNewLine = false;\n        }\n      }\n\n      if (animatorJustifyOffset) {\n        animatorJustifyOffset += animatorFirstCharOffset;\n      }\n\n      while (lastIndex < i) {\n        letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n        lastIndex += 1;\n      }\n    } //\n\n\n    for (i = 0; i < len; i += 1) {\n      matrixHelper.reset();\n      elemOpacity = 1;\n\n      if (letters[i].n) {\n        xPos = 0;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        currentLength = initPathPos;\n        firstLine = false;\n\n        if (this._hasMaskedPath) {\n          segmentInd = initSegmentInd;\n          pointInd = initPointInd;\n          points = segments[segmentInd].points;\n          prevPoint = points[pointInd - 1];\n          currentPoint = points[pointInd];\n          partialLength = currentPoint.partialLength;\n          segmentLength = 0;\n        }\n\n        letterM = '';\n        letterFc = '';\n        letterSw = '';\n        letterO = '';\n        letterP = this.defaultPropsArray;\n      } else {\n        if (this._hasMaskedPath) {\n          if (currentLine !== letters[i].line) {\n            switch (documentData.j) {\n              case 1:\n                currentLength += totalLength - documentData.lineWidths[letters[i].line];\n                break;\n\n              case 2:\n                currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\n                break;\n\n              default:\n                break;\n            }\n\n            currentLine = letters[i].line;\n          }\n\n          if (ind !== letters[i].ind) {\n            if (letters[ind]) {\n              currentLength += letters[ind].extra;\n            }\n\n            currentLength += letters[i].an / 2;\n            ind = letters[i].ind;\n          }\n\n          currentLength += alignment[0] * letters[i].an * 0.005;\n          var animatorOffset = 0;\n\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.p.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.p.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.p.v[0] * mult;\n              }\n            }\n\n            if (animatorProps.a.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.a.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.a.v[0] * mult;\n              }\n            }\n          }\n\n          flag = true; // Force alignment only works with a single line for now\n\n          if (this._pathData.a.v) {\n            currentLength = letters[0].an * 0.5 + (totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind / (len - 1);\n            currentLength += this._pathData.f.v;\n          }\n\n          while (flag) {\n            if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\n              perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\n              xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\n              yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\n              matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -(alignment[1] * yOff) * 0.01);\n              flag = false;\n            } else if (points) {\n              segmentLength += currentPoint.partialLength;\n              pointInd += 1;\n\n              if (pointInd >= points.length) {\n                pointInd = 0;\n                segmentInd += 1;\n\n                if (!segments[segmentInd]) {\n                  if (mask.v.c) {\n                    pointInd = 0;\n                    segmentInd = 0;\n                    points = segments[segmentInd].points;\n                  } else {\n                    segmentLength -= currentPoint.partialLength;\n                    points = null;\n                  }\n                } else {\n                  points = segments[segmentInd].points;\n                }\n              }\n\n              if (points) {\n                prevPoint = currentPoint;\n                currentPoint = points[pointInd];\n                partialLength = currentPoint.partialLength;\n              }\n            }\n          }\n\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0);\n        } else {\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0); // Grouping alignment\n\n          matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -alignment[1] * yOff * 0.01, 0);\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.t.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars); // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\n\n            if (xPos !== 0 || documentData.j !== 0) {\n              if (this._hasMaskedPath) {\n                if (mult.length) {\n                  currentLength += animatorProps.t.v * mult[0];\n                } else {\n                  currentLength += animatorProps.t.v * mult;\n                }\n              } else if (mult.length) {\n                xPos += animatorProps.t.v * mult[0];\n              } else {\n                xPos += animatorProps.t.v * mult;\n              }\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          sw = documentData.sw || 0;\n        }\n\n        if (documentData.strokeColorAnim) {\n          if (documentData.sc) {\n            sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\n          } else {\n            sc = [0, 0, 0];\n          }\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.a.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.s.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult[0], 1 + (animatorProps.s.v[1] - 1) * mult[1], 1);\n            } else {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult, 1 + (animatorProps.s.v[1] - 1) * mult, 1);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          animatorSelector = animators[j].s;\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n          if (animatorProps.sk.propType) {\n            if (mult.length) {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\n            } else {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\n            }\n          }\n\n          if (animatorProps.r.propType) {\n            if (mult.length) {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\n            } else {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult);\n            }\n          }\n\n          if (animatorProps.ry.propType) {\n            if (mult.length) {\n              matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\n            } else {\n              matrixHelper.rotateY(animatorProps.ry.v * mult);\n            }\n          }\n\n          if (animatorProps.rx.propType) {\n            if (mult.length) {\n              matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\n            } else {\n              matrixHelper.rotateX(animatorProps.rx.v * mult);\n            }\n          }\n\n          if (animatorProps.o.propType) {\n            if (mult.length) {\n              elemOpacity += (animatorProps.o.v * mult[0] - elemOpacity) * mult[0];\n            } else {\n              elemOpacity += (animatorProps.o.v * mult - elemOpacity) * mult;\n            }\n          }\n\n          if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\n            if (mult.length) {\n              sw += animatorProps.sw.v * mult[0];\n            } else {\n              sw += animatorProps.sw.v * mult;\n            }\n          }\n\n          if (documentData.strokeColorAnim && animatorProps.sc.propType) {\n            for (k = 0; k < 3; k += 1) {\n              if (mult.length) {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\n              } else {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\n              }\n            }\n          }\n\n          if (documentData.fillColorAnim && documentData.fc) {\n            if (animatorProps.fc.propType) {\n              for (k = 0; k < 3; k += 1) {\n                if (mult.length) {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\n                } else {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\n                }\n              }\n            }\n\n            if (animatorProps.fh.propType) {\n              if (mult.length) {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\n              } else {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult);\n              }\n            }\n\n            if (animatorProps.fs.propType) {\n              if (mult.length) {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\n              } else {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\n              }\n            }\n\n            if (animatorProps.fb.propType) {\n              if (mult.length) {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\n              } else {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\n              }\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.p.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (this._hasMaskedPath) {\n              if (mult.length) {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\n              } else {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n              }\n            } else if (mult.length) {\n              matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          letterSw = sw < 0 ? 0 : sw;\n        }\n\n        if (documentData.strokeColorAnim) {\n          letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\n        }\n\n        if (this._hasMaskedPath) {\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(0, alignment[1] * yOff * 0.01 + yPos, 0);\n\n          if (this._pathData.p.v) {\n            tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\n            var rot = Math.atan(tanAngle) * 180 / Math.PI;\n\n            if (currentPoint.point[0] < prevPoint.point[0]) {\n              rot += 180;\n            }\n\n            matrixHelper.rotate(-rot * Math.PI / 180);\n          }\n\n          matrixHelper.translate(xPathPos, yPathPos, 0);\n          currentLength -= alignment[0] * letters[i].an * 0.005;\n\n          if (letters[i + 1] && ind !== letters[i + 1].ind) {\n            currentLength += letters[i].an / 2;\n            currentLength += documentData.tr * 0.001 * documentData.finalSize;\n          }\n        } else {\n          matrixHelper.translate(xPos, yPos, 0);\n\n          if (documentData.ps) {\n            // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\n            matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n          }\n\n          switch (documentData.j) {\n            case 1:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\n              break;\n\n            case 2:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\n              break;\n\n            default:\n              break;\n          }\n\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(offf, 0, 0);\n          matrixHelper.translate(alignment[0] * letters[i].an * 0.005, alignment[1] * yOff * 0.01, 0);\n          xPos += letters[i].l + documentData.tr * 0.001 * documentData.finalSize;\n        }\n\n        if (renderType === 'html') {\n          letterM = matrixHelper.toCSS();\n        } else if (renderType === 'svg') {\n          letterM = matrixHelper.to2dCSS();\n        } else {\n          letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\n        }\n\n        letterO = elemOpacity;\n      }\n\n      if (renderedLettersCount <= i) {\n        letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\n        this.renderedLetters.push(letterValue);\n        renderedLettersCount += 1;\n        this.lettersChangedFlag = true;\n      } else {\n        letterValue = this.renderedLetters[i];\n        this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\n      }\n    }\n  };\n\n  TextAnimatorProperty.prototype.getValue = function () {\n    if (this._elem.globalData.frameId === this._frameId) {\n      return;\n    }\n\n    this._frameId = this._elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  TextAnimatorProperty.prototype.mHelper = new Matrix();\n  TextAnimatorProperty.prototype.defaultPropsArray = [];\n  extendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\n\n  function ITextElement() {}\n\n  ITextElement.prototype.initElement = function (data, globalData, comp) {\n    this.lettersChangedFlag = true;\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n    this.initRenderable();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n    this.createContent();\n    this.hide();\n    this.textAnimator.searchProperties(this.dynamicProperties);\n  };\n\n  ITextElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n\n    if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\n      this.buildNewText();\n      this.textProperty._isFirstFrame = false;\n      this.textProperty._mdf = false;\n    }\n  };\n\n  ITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\n    var j;\n    var jLen = shapes.length;\n    var pathNodes;\n    var shapeStr = '';\n\n    for (j = 0; j < jLen; j += 1) {\n      if (shapes[j].ty === 'sh') {\n        pathNodes = shapes[j].ks.k;\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\n      }\n    }\n\n    return shapeStr;\n  };\n\n  ITextElement.prototype.updateDocumentData = function (newData, index) {\n    this.textProperty.updateDocumentData(newData, index);\n  };\n\n  ITextElement.prototype.canResizeFont = function (_canResize) {\n    this.textProperty.canResizeFont(_canResize);\n  };\n\n  ITextElement.prototype.setMinimumFontSize = function (_fontSize) {\n    this.textProperty.setMinimumFontSize(_fontSize);\n  };\n\n  ITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\n    if (documentData.ps) {\n      matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n    }\n\n    matrixHelper.translate(0, -documentData.ls, 0);\n\n    switch (documentData.j) {\n      case 1:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\n        break;\n\n      case 2:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\n        break;\n\n      default:\n        break;\n    }\n\n    matrixHelper.translate(xPos, yPos, 0);\n  };\n\n  ITextElement.prototype.buildColor = function (colorData) {\n    return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\n  };\n\n  ITextElement.prototype.emptyProp = new LetterProps();\n\n  ITextElement.prototype.destroy = function () {};\n\n  var emptyShapeData = {\n    shapes: []\n  };\n\n  function SVGTextLottieElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.renderType = 'svg';\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\n\n  SVGTextLottieElement.prototype.createContent = function () {\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\n      this.textContainer = createNS('text');\n    }\n  };\n\n  SVGTextLottieElement.prototype.buildTextContents = function (textArray) {\n    var i = 0;\n    var len = textArray.length;\n    var textContents = [];\n    var currentTextContent = '';\n\n    while (i < len) {\n      if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\n        textContents.push(currentTextContent);\n        currentTextContent = '';\n      } else {\n        currentTextContent += textArray[i];\n      }\n\n      i += 1;\n    }\n\n    textContents.push(currentTextContent);\n    return textContents;\n  };\n\n  SVGTextLottieElement.prototype.buildShapeData = function (data, scale) {\n    // data should probably be cloned to apply scale separately to each instance of a text on different layers\n    // but since text internal content gets only rendered once and then it's never rerendered,\n    // it's probably safe not to clone data and reuse always the same instance even if the object is mutated.\n    // Avoiding cloning is preferred since cloning each character shape data is expensive\n    if (data.shapes && data.shapes.length) {\n      var shape = data.shapes[0];\n\n      if (shape.it) {\n        var shapeItem = shape.it[shape.it.length - 1];\n\n        if (shapeItem.s) {\n          shapeItem.s.k[0] = scale;\n          shapeItem.s.k[1] = scale;\n        }\n      }\n    }\n\n    return data;\n  };\n\n  SVGTextLottieElement.prototype.buildNewText = function () {\n    this.addDynamicProperty(this);\n    var i;\n    var len;\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\n\n    if (documentData.fc) {\n      this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\n    } else {\n      this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\n    }\n\n    if (documentData.sc) {\n      this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\n      this.layerElement.setAttribute('stroke-width', documentData.sw);\n    }\n\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (fontData.fClass) {\n      this.layerElement.setAttribute('class', fontData.fClass);\n    } else {\n      this.layerElement.setAttribute('font-family', fontData.fFamily);\n      var fWeight = documentData.fWeight;\n      var fStyle = documentData.fStyle;\n      this.layerElement.setAttribute('font-style', fStyle);\n      this.layerElement.setAttribute('font-weight', fWeight);\n    }\n\n    this.layerElement.setAttribute('aria-label', documentData.t);\n    var letters = documentData.l || [];\n    var usesGlyphs = !!this.globalData.fontManager.chars;\n    len = letters.length;\n    var tSpan;\n    var matrixHelper = this.mHelper;\n    var shapeStr = '';\n    var singleShape = this.data.singleShape;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n\n    if (singleShape && !usesGlyphs && !documentData.sz) {\n      var tElement = this.textContainer;\n      var justify = 'start';\n\n      switch (documentData.j) {\n        case 1:\n          justify = 'end';\n          break;\n\n        case 2:\n          justify = 'middle';\n          break;\n\n        default:\n          justify = 'start';\n          break;\n      }\n\n      tElement.setAttribute('text-anchor', justify);\n      tElement.setAttribute('letter-spacing', trackingOffset);\n      var textContent = this.buildTextContents(documentData.finalText);\n      len = textContent.length;\n      yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\n\n      for (i = 0; i < len; i += 1) {\n        tSpan = this.textSpans[i].span || createNS('tspan');\n        tSpan.textContent = textContent[i];\n        tSpan.setAttribute('x', 0);\n        tSpan.setAttribute('y', yPos);\n        tSpan.style.display = 'inherit';\n        tElement.appendChild(tSpan);\n\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            glyph: null\n          };\n        }\n\n        this.textSpans[i].span = tSpan;\n        yPos += documentData.finalLineHeight;\n      }\n\n      this.layerElement.appendChild(tElement);\n    } else {\n      var cachedSpansLength = this.textSpans.length;\n      var charData;\n\n      for (i = 0; i < len; i += 1) {\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            childSpan: null,\n            glyph: null\n          };\n        }\n\n        if (!usesGlyphs || !singleShape || i === 0) {\n          tSpan = cachedSpansLength > i ? this.textSpans[i].span : createNS(usesGlyphs ? 'g' : 'text');\n\n          if (cachedSpansLength <= i) {\n            tSpan.setAttribute('stroke-linecap', 'butt');\n            tSpan.setAttribute('stroke-linejoin', 'round');\n            tSpan.setAttribute('stroke-miterlimit', '4');\n            this.textSpans[i].span = tSpan;\n\n            if (usesGlyphs) {\n              var childSpan = createNS('g');\n              tSpan.appendChild(childSpan);\n              this.textSpans[i].childSpan = childSpan;\n            }\n\n            this.textSpans[i].span = tSpan;\n            this.layerElement.appendChild(tSpan);\n          }\n\n          tSpan.style.display = 'inherit';\n        }\n\n        matrixHelper.reset();\n\n        if (singleShape) {\n          if (letters[i].n) {\n            xPos = -trackingOffset;\n            yPos += documentData.yOffset;\n            yPos += firstLine ? 1 : 0;\n            firstLine = false;\n          }\n\n          this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n          xPos += letters[i].l || 0; // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\n\n          xPos += trackingOffset;\n        }\n\n        if (usesGlyphs) {\n          charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n          var glyphElement; // t === 1 means the character has been replaced with an animated shaped\n\n          if (charData.t === 1) {\n            glyphElement = new SVGCompElement(charData.data, this.globalData, this);\n          } else {\n            var data = emptyShapeData;\n\n            if (charData.data && charData.data.shapes) {\n              data = this.buildShapeData(charData.data, documentData.finalSize);\n            }\n\n            glyphElement = new SVGShapeElement(data, this.globalData, this);\n          }\n\n          if (this.textSpans[i].glyph) {\n            var glyph = this.textSpans[i].glyph;\n            this.textSpans[i].childSpan.removeChild(glyph.layerElement);\n            glyph.destroy();\n          }\n\n          this.textSpans[i].glyph = glyphElement;\n          glyphElement._debug = true;\n          glyphElement.prepareFrame(0);\n          glyphElement.renderFrame();\n          this.textSpans[i].childSpan.appendChild(glyphElement.layerElement); // when using animated shapes, the layer will be scaled instead of replacing the internal scale\n          // this might have issues with strokes and might need a different solution\n\n          if (charData.t === 1) {\n            this.textSpans[i].childSpan.setAttribute('transform', 'scale(' + documentData.finalSize / 100 + ',' + documentData.finalSize / 100 + ')');\n          }\n        } else {\n          if (singleShape) {\n            tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\n          }\n\n          tSpan.textContent = letters[i].val;\n          tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n        } //\n\n      }\n\n      if (singleShape && tSpan) {\n        tSpan.setAttribute('d', shapeStr);\n      }\n    }\n\n    while (i < this.textSpans.length) {\n      this.textSpans[i].span.style.display = 'none';\n      i += 1;\n    }\n\n    this._sizeChanged = true;\n  };\n\n  SVGTextLottieElement.prototype.sourceRectAtTime = function () {\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\n    this.renderInnerContent();\n\n    if (this._sizeChanged) {\n      this._sizeChanged = false;\n      var textBox = this.layerElement.getBBox();\n      this.bbox = {\n        top: textBox.y,\n        left: textBox.x,\n        width: textBox.width,\n        height: textBox.height\n      };\n    }\n\n    return this.bbox;\n  };\n\n  SVGTextLottieElement.prototype.getValue = function () {\n    var i;\n    var len = this.textSpans.length;\n    var glyphElement;\n    this.renderedFrame = this.comp.renderedFrame;\n\n    for (i = 0; i < len; i += 1) {\n      glyphElement = this.textSpans[i].glyph;\n\n      if (glyphElement) {\n        glyphElement.prepareFrame(this.comp.renderedFrame - this.data.st);\n\n        if (glyphElement._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  SVGTextLottieElement.prototype.renderInnerContent = function () {\n    if (!this.data.singleShape || this._mdf) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n      if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\n        this._sizeChanged = true;\n        var i;\n        var len;\n        var renderedLetters = this.textAnimator.renderedLetters;\n        var letters = this.textProperty.currentData.l;\n        len = letters.length;\n        var renderedLetter;\n        var textSpan;\n        var glyphElement;\n\n        for (i = 0; i < len; i += 1) {\n          if (!letters[i].n) {\n            renderedLetter = renderedLetters[i];\n            textSpan = this.textSpans[i].span;\n            glyphElement = this.textSpans[i].glyph;\n\n            if (glyphElement) {\n              glyphElement.renderFrame();\n            }\n\n            if (renderedLetter._mdf.m) {\n              textSpan.setAttribute('transform', renderedLetter.m);\n            }\n\n            if (renderedLetter._mdf.o) {\n              textSpan.setAttribute('opacity', renderedLetter.o);\n            }\n\n            if (renderedLetter._mdf.sw) {\n              textSpan.setAttribute('stroke-width', renderedLetter.sw);\n            }\n\n            if (renderedLetter._mdf.sc) {\n              textSpan.setAttribute('stroke', renderedLetter.sc);\n            }\n\n            if (renderedLetter._mdf.fc) {\n              textSpan.setAttribute('fill', renderedLetter.fc);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  function ISolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([IImageElement], ISolidElement);\n\n  ISolidElement.prototype.createContent = function () {\n    var rect = createNS('rect'); /// /rect.style.width = this.data.sw;\n    /// /rect.style.height = this.data.sh;\n    /// /rect.style.fill = this.data.sc;\n\n    rect.setAttribute('width', this.data.sw);\n    rect.setAttribute('height', this.data.sh);\n    rect.setAttribute('fill', this.data.sc);\n    this.layerElement.appendChild(rect);\n  };\n\n  function NullElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initFrame();\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n  }\n\n  NullElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  NullElement.prototype.renderFrame = function () {};\n\n  NullElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  NullElement.prototype.destroy = function () {};\n\n  NullElement.prototype.sourceRectAtTime = function () {};\n\n  NullElement.prototype.hide = function () {};\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\n\n  function SVGRendererBase() {}\n\n  extendPrototype([BaseRenderer], SVGRendererBase);\n\n  SVGRendererBase.prototype.createNull = function (data) {\n    return new NullElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createShape = function (data) {\n    return new SVGShapeElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createText = function (data) {\n    return new SVGTextLottieElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createImage = function (data) {\n    return new IImageElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createSolid = function (data) {\n    return new ISolidElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.configAnimation = function (animData) {\n    this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n\n    if (this.renderConfig.viewBoxSize) {\n      this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\n    } else {\n      this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\n    }\n\n    if (!this.renderConfig.viewBoxOnly) {\n      this.svgElement.setAttribute('width', animData.w);\n      this.svgElement.setAttribute('height', animData.h);\n      this.svgElement.style.width = '100%';\n      this.svgElement.style.height = '100%';\n      this.svgElement.style.transform = 'translate3d(0,0,0)';\n      this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\n    }\n\n    if (this.renderConfig.width) {\n      this.svgElement.setAttribute('width', this.renderConfig.width);\n    }\n\n    if (this.renderConfig.height) {\n      this.svgElement.setAttribute('height', this.renderConfig.height);\n    }\n\n    if (this.renderConfig.className) {\n      this.svgElement.setAttribute('class', this.renderConfig.className);\n    }\n\n    if (this.renderConfig.id) {\n      this.svgElement.setAttribute('id', this.renderConfig.id);\n    }\n\n    if (this.renderConfig.focusable !== undefined) {\n      this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\n    }\n\n    this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio); // this.layerElement.style.transform = 'translate3d(0,0,0)';\n    // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\n\n    this.animationItem.wrapper.appendChild(this.svgElement); // Mask animation\n\n    var defs = this.globalData.defs;\n    this.setupGlobalData(animData, defs);\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.data = animData;\n    var maskElement = createNS('clipPath');\n    var rect = createNS('rect');\n    rect.setAttribute('width', animData.w);\n    rect.setAttribute('height', animData.h);\n    rect.setAttribute('x', 0);\n    rect.setAttribute('y', 0);\n    var maskId = createElementID();\n    maskElement.setAttribute('id', maskId);\n    maskElement.appendChild(rect);\n    this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + maskId + ')');\n    defs.appendChild(maskElement);\n    this.layers = animData.layers;\n    this.elements = createSizedArray(animData.layers.length);\n  };\n\n  SVGRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.layerElement = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  SVGRendererBase.prototype.updateContainerSize = function () {};\n\n  SVGRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    elements[pos] = true;\n    var element = this.createItem(this.layers[pos]);\n    elements[pos] = element;\n\n    if (getExpressionsPlugin()) {\n      if (this.layers[pos].ty === 0) {\n        this.globalData.projectInterface.registerComposition(element);\n      }\n\n      element.initExpressions();\n    }\n\n    this.appendElementInPos(element, pos);\n\n    if (this.layers[pos].tt) {\n      if (!this.elements[pos - 1] || this.elements[pos - 1] === true) {\n        this.buildItem(pos - 1);\n        this.addPendingElement(element);\n      } else {\n        element.setMatte(elements[pos - 1].layerId);\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n\n      if (element.data.tt) {\n        var i = 0;\n        var len = this.elements.length;\n\n        while (i < len) {\n          if (this.elements[i] === element) {\n            element.setMatte(this.elements[i - 1].layerId);\n            break;\n          }\n\n          i += 1;\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.renderFrame = function (num) {\n    if (this.renderedFrame === num || this.destroyed) {\n      return;\n    }\n\n    if (num === null) {\n      num = this.renderedFrame;\n    } else {\n      this.renderedFrame = num;\n    } // console.log('-------');\n    // console.log('FRAME ',num);\n\n\n    this.globalData.frameNum = num;\n    this.globalData.frameId += 1;\n    this.globalData.projectInterface.currentFrame = num;\n    this.globalData._mdf = false;\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      for (i = 0; i < len; i += 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newElement = element.getBaseElement();\n\n    if (!newElement) {\n      return;\n    }\n\n    var i = 0;\n    var nextElement;\n\n    while (i < pos) {\n      if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\n        nextElement = this.elements[i].getBaseElement();\n      }\n\n      i += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(newElement, nextElement);\n    } else {\n      this.layerElement.appendChild(newElement);\n    }\n  };\n\n  SVGRendererBase.prototype.hide = function () {\n    this.layerElement.style.display = 'none';\n  };\n\n  SVGRendererBase.prototype.show = function () {\n    this.layerElement.style.display = 'block';\n  };\n\n  function ICompElement() {}\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\n\n  ICompElement.prototype.initElement = function (data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initTransform(data, globalData, comp);\n    this.initRenderable();\n    this.initHierarchy();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n\n    if (this.data.xt || !globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n\n    this.hide();\n  };\n  /* ICompElement.prototype.hide = function(){\r\n      if(!this.hidden){\r\n          this.hideElement();\r\n          var i,len = this.elements.length;\r\n          for( i = 0; i < len; i+=1 ){\r\n              if(this.elements[i]){\r\n                  this.elements[i].hide();\r\n              }\r\n          }\r\n      }\r\n  }; */\n\n\n  ICompElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n\n    if (!this.isInRange && !this.data.xt) {\n      return;\n    }\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n\n      if (timeRemapped === this.data.op) {\n        timeRemapped = this.data.op - 1;\n      }\n\n      this.renderedFrame = timeRemapped;\n    } else {\n      this.renderedFrame = num / this.data.sr;\n    }\n\n    var i;\n    var len = this.elements.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(this.renderedFrame);\n    } // This iteration needs to be backwards because of how expressions connect between each other\n\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\n\n        if (this.elements[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  ICompElement.prototype.renderInnerContent = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  ICompElement.prototype.setElements = function (elems) {\n    this.elements = elems;\n  };\n\n  ICompElement.prototype.getElements = function () {\n    return this.elements;\n  };\n\n  ICompElement.prototype.destroyElements = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n  };\n\n  ICompElement.prototype.destroy = function () {\n    this.destroyElements();\n    this.destroyBaseElement();\n  };\n\n  function SVGCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = true;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([SVGRendererBase, ICompElement, SVGBaseElement], SVGCompElement);\n\n  SVGCompElement.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function SVGRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.svgElement = createNS('svg');\n    var ariaLabel = '';\n\n    if (config && config.title) {\n      var titleElement = createNS('title');\n      var titleId = createElementID();\n      titleElement.setAttribute('id', titleId);\n      titleElement.textContent = config.title;\n      this.svgElement.appendChild(titleElement);\n      ariaLabel += titleId;\n    }\n\n    if (config && config.description) {\n      var descElement = createNS('desc');\n      var descId = createElementID();\n      descElement.setAttribute('id', descId);\n      descElement.textContent = config.description;\n      this.svgElement.appendChild(descElement);\n      ariaLabel += ' ' + descId;\n    }\n\n    if (ariaLabel) {\n      this.svgElement.setAttribute('aria-labelledby', ariaLabel);\n    }\n\n    var defs = createNS('defs');\n    this.svgElement.appendChild(defs);\n    var maskElement = createNS('g');\n    this.svgElement.appendChild(maskElement);\n    this.layerElement = maskElement;\n    this.renderConfig = {\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      progressiveLoad: config && config.progressiveLoad || false,\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      viewBoxOnly: config && config.viewBoxOnly || false,\n      viewBoxSize: config && config.viewBoxSize || false,\n      className: config && config.className || '',\n      id: config && config.id || '',\n      focusable: config && config.focusable,\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '100%',\n        height: config && config.filterSize && config.filterSize.height || '100%',\n        x: config && config.filterSize && config.filterSize.x || '0%',\n        y: config && config.filterSize && config.filterSize.y || '0%'\n      },\n      width: config && config.width,\n      height: config && config.height\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      defs: defs,\n      renderConfig: this.renderConfig\n    };\n    this.elements = [];\n    this.pendingElements = [];\n    this.destroyed = false;\n    this.rendererType = 'svg';\n  }\n\n  extendPrototype([SVGRendererBase], SVGRenderer);\n\n  SVGRenderer.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function CVContextData() {\n    this.saved = [];\n    this.cArrPos = 0;\n    this.cTr = new Matrix();\n    this.cO = 1;\n    var i;\n    var len = 15;\n    this.savedOp = createTypedArray('float32', len);\n\n    for (i = 0; i < len; i += 1) {\n      this.saved[i] = createTypedArray('float32', 16);\n    }\n\n    this._length = len;\n  }\n\n  CVContextData.prototype.duplicate = function () {\n    var newLength = this._length * 2;\n    var currentSavedOp = this.savedOp;\n    this.savedOp = createTypedArray('float32', newLength);\n    this.savedOp.set(currentSavedOp);\n    var i = 0;\n\n    for (i = this._length; i < newLength; i += 1) {\n      this.saved[i] = createTypedArray('float32', 16);\n    }\n\n    this._length = newLength;\n  };\n\n  CVContextData.prototype.reset = function () {\n    this.cArrPos = 0;\n    this.cTr.reset();\n    this.cO = 1;\n  };\n\n  function ShapeTransformManager() {\n    this.sequences = {};\n    this.sequenceList = [];\n    this.transform_key_count = 0;\n  }\n\n  ShapeTransformManager.prototype = {\n    addTransformSequence: function addTransformSequence(transforms) {\n      var i;\n      var len = transforms.length;\n      var key = '_';\n\n      for (i = 0; i < len; i += 1) {\n        key += transforms[i].transform.key + '_';\n      }\n\n      var sequence = this.sequences[key];\n\n      if (!sequence) {\n        sequence = {\n          transforms: [].concat(transforms),\n          finalTransform: new Matrix(),\n          _mdf: false\n        };\n        this.sequences[key] = sequence;\n        this.sequenceList.push(sequence);\n      }\n\n      return sequence;\n    },\n    processSequence: function processSequence(sequence, isFirstFrame) {\n      var i = 0;\n      var len = sequence.transforms.length;\n      var _mdf = isFirstFrame;\n\n      while (i < len && !isFirstFrame) {\n        if (sequence.transforms[i].transform.mProps._mdf) {\n          _mdf = true;\n          break;\n        }\n\n        i += 1;\n      }\n\n      if (_mdf) {\n        var props;\n        sequence.finalTransform.reset();\n\n        for (i = len - 1; i >= 0; i -= 1) {\n          props = sequence.transforms[i].transform.mProps.v.props;\n          sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n        }\n      }\n\n      sequence._mdf = _mdf;\n    },\n    processSequences: function processSequences(isFirstFrame) {\n      var i;\n      var len = this.sequenceList.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.processSequence(this.sequenceList[i], isFirstFrame);\n      }\n    },\n    getNewKey: function getNewKey() {\n      this.transform_key_count += 1;\n      return '_' + this.transform_key_count;\n    }\n  };\n\n  function CVEffects() {}\n\n  CVEffects.prototype.renderFrame = function () {};\n\n  function CVMaskElement(data, element) {\n    this.data = data;\n    this.element = element;\n    this.masksProperties = this.data.masksProperties || [];\n    this.viewData = createSizedArray(this.masksProperties.length);\n    var i;\n    var len = this.masksProperties.length;\n    var hasMasks = false;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        hasMasks = true;\n      }\n\n      this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\n    }\n\n    this.hasMasks = hasMasks;\n\n    if (hasMasks) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  CVMaskElement.prototype.renderFrame = function () {\n    if (!this.hasMasks) {\n      return;\n    }\n\n    var transform = this.element.finalTransform.mat;\n    var ctx = this.element.canvasContext;\n    var i;\n    var len = this.masksProperties.length;\n    var pt;\n    var pts;\n    var data;\n    ctx.beginPath();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.masksProperties[i].inv) {\n          ctx.moveTo(0, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\n          ctx.lineTo(0, this.element.globalData.compSize.h);\n          ctx.lineTo(0, 0);\n        }\n\n        data = this.viewData[i].v;\n        pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\n        ctx.moveTo(pt[0], pt[1]);\n        var j;\n        var jLen = data._length;\n\n        for (j = 1; j < jLen; j += 1) {\n          pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\n          ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n        }\n\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n      }\n    }\n\n    this.element.globalData.renderer.save(true);\n    ctx.clip();\n  };\n\n  CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\n\n  CVMaskElement.prototype.destroy = function () {\n    this.element = null;\n  };\n\n  function CVBaseElement() {}\n\n  CVBaseElement.prototype = {\n    createElements: function createElements() {},\n    initRendererElement: function initRendererElement() {},\n    createContainerElements: function createContainerElements() {\n      this.canvasContext = this.globalData.canvasContext;\n      this.renderableEffectsManager = new CVEffects(this);\n    },\n    createContent: function createContent() {},\n    setBlendMode: function setBlendMode() {\n      var globalData = this.globalData;\n\n      if (globalData.blendMode !== this.data.bm) {\n        globalData.blendMode = this.data.bm;\n        var blendModeValue = getBlendMode(this.data.bm);\n        globalData.canvasContext.globalCompositeOperation = blendModeValue;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new CVMaskElement(this.data, this);\n    },\n    hideElement: function hideElement() {\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n        this.hidden = true;\n      }\n    },\n    showElement: function showElement() {\n      if (this.isInRange && !this.isTransparent) {\n        this.hidden = false;\n        this._isFirstFrame = true;\n        this.maskManager._isFirstFrame = true;\n      }\n    },\n    renderFrame: function renderFrame() {\n      if (this.hidden || this.data.hd) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.setBlendMode();\n      var forceRealStack = this.data.ty === 0;\n      this.globalData.renderer.save(forceRealStack);\n      this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\n      this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\n      this.renderInnerContent();\n      this.globalData.renderer.restore(forceRealStack);\n\n      if (this.maskManager.hasMasks) {\n        this.globalData.renderer.restore(true);\n      }\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.canvasContext = null;\n      this.data = null;\n      this.globalData = null;\n      this.maskManager.destroy();\n    },\n    mHelper: new Matrix()\n  };\n  CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\n  CVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\n\n  function CVShapeData(element, data, styles, transformsManager) {\n    this.styledShapes = [];\n    this.tr = [0, 0, 0, 0, 0, 0];\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\n    var i;\n    var len = styles.length;\n    var styledShape;\n\n    for (i = 0; i < len; i += 1) {\n      if (!styles[i].closed) {\n        styledShape = {\n          transforms: transformsManager.addTransformSequence(styles[i].transforms),\n          trNodes: []\n        };\n        this.styledShapes.push(styledShape);\n        styles[i].elements.push(styledShape);\n      }\n    }\n  }\n\n  CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\n\n  function CVShapeElement(data, globalData, comp) {\n    this.shapes = [];\n    this.shapesData = data.shapes;\n    this.stylesList = [];\n    this.itemsData = [];\n    this.prevViewData = [];\n    this.shapeModifiers = [];\n    this.processedElements = [];\n    this.transformsManager = new ShapeTransformManager();\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\n  CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\n  CVShapeElement.prototype.transformHelper = {\n    opacity: 1,\n    _opMdf: false\n  };\n  CVShapeElement.prototype.dashResetter = [];\n\n  CVShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n  };\n\n  CVShapeElement.prototype.createStyleElement = function (data, transforms) {\n    var styleElem = {\n      data: data,\n      type: data.ty,\n      preTransforms: this.transformsManager.addTransformSequence(transforms),\n      transforms: [],\n      elements: [],\n      closed: data.hd === true\n    };\n    var elementData = {};\n\n    if (data.ty === 'fl' || data.ty === 'st') {\n      elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\n\n      if (!elementData.c.k) {\n        styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\n      }\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\n      elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\n      elementData.h = PropertyFactory.getProp(this, data.h || {\n        k: 0\n      }, 0, 0.01, this);\n      elementData.a = PropertyFactory.getProp(this, data.a || {\n        k: 0\n      }, 0, degToRads, this);\n      elementData.g = new GradientProperty(this, data.g, this);\n    }\n\n    elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      styleElem.lc = lineCapEnum[data.lc || 2];\n      styleElem.lj = lineJoinEnum[data.lj || 2];\n\n      if (data.lj == 1) {\n        // eslint-disable-line eqeqeq\n        styleElem.ml = data.ml;\n      }\n\n      elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\n\n      if (!elementData.w.k) {\n        styleElem.wi = elementData.w.v;\n      }\n\n      if (data.d) {\n        var d = new DashProperty(this, data.d, 'canvas', this);\n        elementData.d = d;\n\n        if (!elementData.d.k) {\n          styleElem.da = elementData.d.dashArray;\n          styleElem[\"do\"] = elementData.d.dashoffset[0];\n        }\n      }\n    } else {\n      styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\n    }\n\n    this.stylesList.push(styleElem);\n    elementData.style = styleElem;\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createGroupElement = function () {\n    var elementData = {\n      it: [],\n      prevViewData: []\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createTransformElement = function (data) {\n    var elementData = {\n      transform: {\n        opacity: 1,\n        _opMdf: false,\n        key: this.transformsManager.getNewKey(),\n        op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\n        mProps: TransformPropertyFactory.getTransformProperty(this, data, this)\n      }\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createShapeElement = function (data) {\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    return elementData;\n  };\n\n  CVShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n  };\n\n  CVShapeElement.prototype.addTransformToStyleList = function (transform) {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.push(transform);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.removeTransformFromStyleList = function () {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.pop();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.closeStyles = function (styles) {\n    var i;\n    var len = styles.length;\n\n    for (i = 0; i < len; i += 1) {\n      styles[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var processedPos;\n    var modifier;\n    var currentTransform;\n    var ownTransforms = [].concat(transforms);\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._shouldRender = shouldRender;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          currentTransform = this.createTransformElement(arr[i]);\n          itemsData[i] = currentTransform;\n        }\n\n        ownTransforms.push(itemsData[i]);\n        this.addTransformToStyleList(itemsData[i]);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i]);\n        }\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          shouldRender = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    this.removeTransformFromStyleList();\n    this.closeStyles(ownStyles);\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.renderInnerContent = function () {\n    this.transformHelper.opacity = 1;\n    this.transformHelper._opMdf = false;\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n    this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\n  };\n\n  CVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\n    if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\n      groupTransform.opacity = parentTransform.opacity;\n      groupTransform.opacity *= groupTransform.op.v;\n      groupTransform._opMdf = true;\n    }\n  };\n\n  CVShapeElement.prototype.drawLayer = function () {\n    var i;\n    var len = this.stylesList.length;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var elems;\n    var nodes;\n    var renderer = this.globalData.renderer;\n    var ctx = this.globalData.canvasContext;\n    var type;\n    var currentStyle;\n\n    for (i = 0; i < len; i += 1) {\n      currentStyle = this.stylesList[i];\n      type = currentStyle.type; // Skipping style when\n      // Stroke width equals 0\n      // style should not be rendered (extra unused repeaters)\n      // current opacity equals 0\n      // global opacity equals 0\n\n      if (!((type === 'st' || type === 'gs') && currentStyle.wi === 0 || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\n        renderer.save();\n        elems = currentStyle.elements;\n\n        if (type === 'st' || type === 'gs') {\n          ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\n          ctx.lineWidth = currentStyle.wi;\n          ctx.lineCap = currentStyle.lc;\n          ctx.lineJoin = currentStyle.lj;\n          ctx.miterLimit = currentStyle.ml || 0;\n        } else {\n          ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\n        }\n\n        renderer.ctxOpacity(currentStyle.coOp);\n\n        if (type !== 'st' && type !== 'gs') {\n          ctx.beginPath();\n        }\n\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\n        jLen = elems.length;\n\n        for (j = 0; j < jLen; j += 1) {\n          if (type === 'st' || type === 'gs') {\n            ctx.beginPath();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(currentStyle.da);\n              ctx.lineDashOffset = currentStyle[\"do\"];\n            }\n          }\n\n          nodes = elems[j].trNodes;\n          kLen = nodes.length;\n\n          for (k = 0; k < kLen; k += 1) {\n            if (nodes[k].t === 'm') {\n              ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\n            } else if (nodes[k].t === 'c') {\n              ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\n            } else {\n              ctx.closePath();\n            }\n          }\n\n          if (type === 'st' || type === 'gs') {\n            ctx.stroke();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(this.dashResetter);\n            }\n          }\n        }\n\n        if (type !== 'st' && type !== 'gs') {\n          ctx.fill(currentStyle.r);\n        }\n\n        renderer.restore();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\n    var i;\n    var len = items.length - 1;\n    var groupTransform;\n    groupTransform = parentTransform;\n\n    for (i = len; i >= 0; i -= 1) {\n      if (items[i].ty === 'tr') {\n        groupTransform = data[i].transform;\n        this.renderShapeTransform(parentTransform, groupTransform);\n      } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\n        this.renderPath(items[i], data[i]);\n      } else if (items[i].ty === 'fl') {\n        this.renderFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'st') {\n        this.renderStroke(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\n        this.renderGradientFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gr') {\n        this.renderShape(groupTransform, items[i].it, data[i].it);\n      } else if (items[i].ty === 'tm') {//\n      }\n    }\n\n    if (isMain) {\n      this.drawLayer();\n    }\n  };\n\n  CVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\n    if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\n      var shapeNodes = styledShape.trNodes;\n      var paths = shape.paths;\n      var i;\n      var len;\n      var j;\n      var jLen = paths._length;\n      shapeNodes.length = 0;\n      var groupTransformMat = styledShape.transforms.finalTransform;\n\n      for (j = 0; j < jLen; j += 1) {\n        var pathNodes = paths.shapes[j];\n\n        if (pathNodes && pathNodes.v) {\n          len = pathNodes._length;\n\n          for (i = 1; i < len; i += 1) {\n            if (i === 1) {\n              shapeNodes.push({\n                t: 'm',\n                p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n              });\n            }\n\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\n            });\n          }\n\n          if (len === 1) {\n            shapeNodes.push({\n              t: 'm',\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n            });\n          }\n\n          if (pathNodes.c && len) {\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\n            });\n            shapeNodes.push({\n              t: 'z'\n            });\n          }\n        }\n      }\n\n      styledShape.trNodes = shapeNodes;\n    }\n  };\n\n  CVShapeElement.prototype.renderPath = function (pathData, itemData) {\n    if (pathData.hd !== true && pathData._shouldRender) {\n      var i;\n      var len = itemData.styledShapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n  };\n\n  CVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var grd;\n\n    if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf)) {\n      var ctx = this.globalData.canvasContext;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (styleData.t === 1) {\n        grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\n      } else {\n        var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n        var percent = itemData.h.v;\n\n        if (percent >= 1) {\n          percent = 0.99;\n        } else if (percent <= -1) {\n          percent = -0.99;\n        }\n\n        var dist = rad * percent;\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n        grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\n      }\n\n      var i;\n      var len = styleData.g.p;\n      var cValues = itemData.g.c;\n      var opacity = 1;\n\n      for (i = 0; i < len; i += 1) {\n        if (itemData.g._hasOpacity && itemData.g._collapsable) {\n          opacity = itemData.g.o[i * 2 + 1];\n        }\n\n        grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\n      }\n\n      styleElem.grd = grd;\n    }\n\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\n  };\n\n  CVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var d = itemData.d;\n\n    if (d && (d._mdf || this._isFirstFrame)) {\n      styleElem.da = d.dashArray;\n      styleElem[\"do\"] = d.dashoffset[0];\n    }\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n\n    if (itemData.w._mdf || this._isFirstFrame) {\n      styleElem.wi = itemData.w.v;\n    }\n  };\n\n  CVShapeElement.prototype.destroy = function () {\n    this.shapesData = null;\n    this.globalData = null;\n    this.canvasContext = null;\n    this.stylesList.length = 0;\n    this.itemsData.length = 0;\n  };\n\n  function CVTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.yOffset = 0;\n    this.fillColorAnim = false;\n    this.strokeColorAnim = false;\n    this.strokeWidthAnim = false;\n    this.stroke = false;\n    this.fill = false;\n    this.justifyOffset = 0;\n    this.currentRender = null;\n    this.renderType = 'canvas';\n    this.values = {\n      fill: 'rgba(0,0,0,0)',\n      stroke: 'rgba(0,0,0,0)',\n      sWidth: 0,\n      fValue: ''\n    };\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\n  CVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\n\n  CVTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var hasFill = false;\n\n    if (documentData.fc) {\n      hasFill = true;\n      this.values.fill = this.buildColor(documentData.fc);\n    } else {\n      this.values.fill = 'rgba(0,0,0,0)';\n    }\n\n    this.fill = hasFill;\n    var hasStroke = false;\n\n    if (documentData.sc) {\n      hasStroke = true;\n      this.values.stroke = this.buildColor(documentData.sc);\n      this.values.sWidth = documentData.sw;\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n    var i;\n    var len;\n    var letters = documentData.l;\n    var matrixHelper = this.mHelper;\n    this.stroke = hasStroke;\n    this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\n    len = documentData.finalText.length; // this.tHelper.font = this.values.fValue;\n\n    var charData;\n    var shapeData;\n    var k;\n    var kLen;\n    var shapes;\n    var j;\n    var jLen;\n    var pathNodes;\n    var commands;\n    var pathArr;\n    var singleShape = this.data.singleShape;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n      shapeData = charData && charData.data || {};\n      matrixHelper.reset();\n\n      if (singleShape && letters[i].n) {\n        xPos = -trackingOffset;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        firstLine = false;\n      }\n\n      shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\n      jLen = shapes.length;\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n\n      if (singleShape) {\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n      }\n\n      commands = createSizedArray(jLen - 1);\n      var commandsCounter = 0;\n\n      for (j = 0; j < jLen; j += 1) {\n        if (shapes[j].ty === 'sh') {\n          kLen = shapes[j].ks.k.i.length;\n          pathNodes = shapes[j].ks.k;\n          pathArr = [];\n\n          for (k = 1; k < kLen; k += 1) {\n            if (k === 1) {\n              pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n            }\n\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\n          }\n\n          pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n          commands[commandsCounter] = pathArr;\n          commandsCounter += 1;\n        }\n      }\n\n      if (singleShape) {\n        xPos += letters[i].l;\n        xPos += trackingOffset;\n      }\n\n      if (this.textSpans[cnt]) {\n        this.textSpans[cnt].elem = commands;\n      } else {\n        this.textSpans[cnt] = {\n          elem: commands\n        };\n      }\n\n      cnt += 1;\n    }\n  };\n\n  CVTextElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.font = this.values.fValue;\n    ctx.lineCap = 'butt';\n    ctx.lineJoin = 'miter';\n    ctx.miterLimit = 4;\n\n    if (!this.data.singleShape) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n    }\n\n    var i;\n    var len;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var lastFill = null;\n    var lastStroke = null;\n    var lastStrokeW = null;\n    var commands;\n    var pathArr;\n\n    for (i = 0; i < len; i += 1) {\n      if (!letters[i].n) {\n        renderedLetter = renderedLetters[i];\n\n        if (renderedLetter) {\n          this.globalData.renderer.save();\n          this.globalData.renderer.ctxTransform(renderedLetter.p);\n          this.globalData.renderer.ctxOpacity(renderedLetter.o);\n        }\n\n        if (this.fill) {\n          if (renderedLetter && renderedLetter.fc) {\n            if (lastFill !== renderedLetter.fc) {\n              lastFill = renderedLetter.fc;\n              ctx.fillStyle = renderedLetter.fc;\n            }\n          } else if (lastFill !== this.values.fill) {\n            lastFill = this.values.fill;\n            ctx.fillStyle = this.values.fill;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          this.globalData.canvasContext.fill(); /// ctx.fillText(this.textSpans[i].val,0,0);\n        }\n\n        if (this.stroke) {\n          if (renderedLetter && renderedLetter.sw) {\n            if (lastStrokeW !== renderedLetter.sw) {\n              lastStrokeW = renderedLetter.sw;\n              ctx.lineWidth = renderedLetter.sw;\n            }\n          } else if (lastStrokeW !== this.values.sWidth) {\n            lastStrokeW = this.values.sWidth;\n            ctx.lineWidth = this.values.sWidth;\n          }\n\n          if (renderedLetter && renderedLetter.sc) {\n            if (lastStroke !== renderedLetter.sc) {\n              lastStroke = renderedLetter.sc;\n              ctx.strokeStyle = renderedLetter.sc;\n            }\n          } else if (lastStroke !== this.values.stroke) {\n            lastStroke = this.values.stroke;\n            ctx.strokeStyle = this.values.stroke;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          this.globalData.canvasContext.stroke(); /// ctx.strokeText(letters[i].val,0,0);\n        }\n\n        if (renderedLetter) {\n          this.globalData.renderer.restore();\n        }\n      }\n    }\n  };\n\n  function CVImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.img = globalData.imageLoader.getAsset(this.assetData);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\n  CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVImageElement.prototype.createContent = function () {\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\n      var canvas = createTag('canvas');\n      canvas.width = this.assetData.w;\n      canvas.height = this.assetData.h;\n      var ctx = canvas.getContext('2d');\n      var imgW = this.img.width;\n      var imgH = this.img.height;\n      var imgRel = imgW / imgH;\n      var canvasRel = this.assetData.w / this.assetData.h;\n      var widthCrop;\n      var heightCrop;\n      var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\n\n      if (imgRel > canvasRel && par === 'xMidYMid slice' || imgRel < canvasRel && par !== 'xMidYMid slice') {\n        heightCrop = imgH;\n        widthCrop = heightCrop * canvasRel;\n      } else {\n        widthCrop = imgW;\n        heightCrop = widthCrop / canvasRel;\n      }\n\n      ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\n      this.img = canvas;\n    }\n  };\n\n  CVImageElement.prototype.renderInnerContent = function () {\n    this.canvasContext.drawImage(this.img, 0, 0);\n  };\n\n  CVImageElement.prototype.destroy = function () {\n    this.img = null;\n  };\n\n  function CVSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\n  CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVSolidElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.fillStyle = this.data.sc;\n    ctx.fillRect(0, 0, this.data.sw, this.data.sh); //\n  };\n\n  function CanvasRendererBase(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n      context: config && config.context || null,\n      progressiveLoad: config && config.progressiveLoad || false,\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      className: config && config.className || '',\n      id: config && config.id || ''\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n\n    if (this.animationItem.wrapper) {\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n\n    this.renderedFrame = -1;\n    this.globalData = {\n      frameNum: -1,\n      _mdf: false,\n      renderConfig: this.renderConfig,\n      currentGlobalAlpha: -1\n    };\n    this.contextData = new CVContextData();\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n    this.rendererType = 'canvas';\n  }\n\n  extendPrototype([BaseRenderer], CanvasRendererBase);\n\n  CanvasRendererBase.prototype.createShape = function (data) {\n    return new CVShapeElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createText = function (data) {\n    return new CVTextElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createImage = function (data) {\n    return new CVImageElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createSolid = function (data) {\n    return new CVSolidElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  CanvasRendererBase.prototype.ctxTransform = function (props) {\n    if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\n      return;\n    }\n\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\n      return;\n    }\n\n    this.transformMat.cloneFromProps(props);\n    var cProps = this.contextData.cTr.props;\n    this.transformMat.transform(cProps[0], cProps[1], cProps[2], cProps[3], cProps[4], cProps[5], cProps[6], cProps[7], cProps[8], cProps[9], cProps[10], cProps[11], cProps[12], cProps[13], cProps[14], cProps[15]); // this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\n\n    this.contextData.cTr.cloneFromProps(this.transformMat.props);\n    var trProps = this.contextData.cTr.props;\n    this.canvasContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\n  };\n\n  CanvasRendererBase.prototype.ctxOpacity = function (op) {\n    /* if(op === 1){\r\n          return;\r\n      } */\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\n      this.globalData.currentGlobalAlpha = this.contextData.cO;\n      return;\n    }\n\n    this.contextData.cO *= op < 0 ? 0 : op;\n\n    if (this.globalData.currentGlobalAlpha !== this.contextData.cO) {\n      this.canvasContext.globalAlpha = this.contextData.cO;\n      this.globalData.currentGlobalAlpha = this.contextData.cO;\n    }\n  };\n\n  CanvasRendererBase.prototype.reset = function () {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    this.contextData.reset();\n  };\n\n  CanvasRendererBase.prototype.save = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.save();\n      return;\n    }\n\n    if (actionFlag) {\n      this.canvasContext.save();\n    }\n\n    var props = this.contextData.cTr.props;\n\n    if (this.contextData._length <= this.contextData.cArrPos) {\n      this.contextData.duplicate();\n    }\n\n    var i;\n    var arr = this.contextData.saved[this.contextData.cArrPos];\n\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = props[i];\n    }\n\n    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\n    this.contextData.cArrPos += 1;\n  };\n\n  CanvasRendererBase.prototype.restore = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    if (actionFlag) {\n      this.canvasContext.restore();\n      this.globalData.blendMode = 'source-over';\n    }\n\n    this.contextData.cArrPos -= 1;\n    var popped = this.contextData.saved[this.contextData.cArrPos];\n    var i;\n    var arr = this.contextData.cTr.props;\n\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = popped[i];\n    }\n\n    this.canvasContext.setTransform(popped[0], popped[1], popped[4], popped[5], popped[12], popped[13]);\n    popped = this.contextData.savedOp[this.contextData.cArrPos];\n    this.contextData.cO = popped;\n\n    if (this.globalData.currentGlobalAlpha !== popped) {\n      this.canvasContext.globalAlpha = popped;\n      this.globalData.currentGlobalAlpha = popped;\n    }\n  };\n\n  CanvasRendererBase.prototype.configAnimation = function (animData) {\n    if (this.animationItem.wrapper) {\n      this.animationItem.container = createTag('canvas');\n      var containerStyle = this.animationItem.container.style;\n      containerStyle.width = '100%';\n      containerStyle.height = '100%';\n      var origin = '0px 0px 0px';\n      containerStyle.transformOrigin = origin;\n      containerStyle.mozTransformOrigin = origin;\n      containerStyle.webkitTransformOrigin = origin;\n      containerStyle['-webkit-transform'] = origin;\n      containerStyle.contentVisibility = this.renderConfig.contentVisibility;\n      this.animationItem.wrapper.appendChild(this.animationItem.container);\n      this.canvasContext = this.animationItem.container.getContext('2d');\n\n      if (this.renderConfig.className) {\n        this.animationItem.container.setAttribute('class', this.renderConfig.className);\n      }\n\n      if (this.renderConfig.id) {\n        this.animationItem.container.setAttribute('id', this.renderConfig.id);\n      }\n    } else {\n      this.canvasContext = this.renderConfig.context;\n    }\n\n    this.data = animData;\n    this.layers = animData.layers;\n    this.transformCanvas = {\n      w: animData.w,\n      h: animData.h,\n      sx: 0,\n      sy: 0,\n      tx: 0,\n      ty: 0\n    };\n    this.setupGlobalData(animData, document.body);\n    this.globalData.canvasContext = this.canvasContext;\n    this.globalData.renderer = this;\n    this.globalData.isDashed = false;\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.globalData.transformCanvas = this.transformCanvas;\n    this.elements = createSizedArray(animData.layers.length);\n    this.updateContainerSize();\n  };\n\n  CanvasRendererBase.prototype.updateContainerSize = function () {\n    this.reset();\n    var elementWidth;\n    var elementHeight;\n\n    if (this.animationItem.wrapper && this.animationItem.container) {\n      elementWidth = this.animationItem.wrapper.offsetWidth;\n      elementHeight = this.animationItem.wrapper.offsetHeight;\n      this.animationItem.container.setAttribute('width', elementWidth * this.renderConfig.dpr);\n      this.animationItem.container.setAttribute('height', elementHeight * this.renderConfig.dpr);\n    } else {\n      elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\n      elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\n    }\n\n    var elementRel;\n    var animationRel;\n\n    if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\n      var par = this.renderConfig.preserveAspectRatio.split(' ');\n      var fillType = par[1] || 'meet';\n      var pos = par[0] || 'xMidYMid';\n      var xPos = pos.substr(0, 4);\n      var yPos = pos.substr(4);\n      elementRel = elementWidth / elementHeight;\n      animationRel = this.transformCanvas.w / this.transformCanvas.h;\n\n      if (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice') {\n        this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      } else {\n        this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      }\n\n      if (xPos === 'xMid' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2 * this.renderConfig.dpr;\n      } else if (xPos === 'xMax' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.tx = 0;\n      }\n\n      if (yPos === 'YMid' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2 * this.renderConfig.dpr;\n      } else if (yPos === 'YMax' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.ty = 0;\n      }\n    } else if (this.renderConfig.preserveAspectRatio === 'none') {\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    } else {\n      this.transformCanvas.sx = this.renderConfig.dpr;\n      this.transformCanvas.sy = this.renderConfig.dpr;\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    }\n\n    this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\n    /* var i, len = this.elements.length;\r\n      for(i=0;i<len;i+=1){\r\n          if(this.elements[i] && this.elements[i].data.ty === 0){\r\n              this.elements[i].resize(this.globalData.transformCanvas);\r\n          }\r\n      } */\n\n    this.ctxTransform(this.transformCanvas.props);\n    this.canvasContext.beginPath();\n    this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n    this.canvasContext.closePath();\n    this.canvasContext.clip();\n    this.renderFrame(this.renderedFrame, true);\n  };\n\n  CanvasRendererBase.prototype.destroy = function () {\n    if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.globalData.canvasContext = null;\n    this.animationItem.container = null;\n    this.destroyed = true;\n  };\n\n  CanvasRendererBase.prototype.renderFrame = function (num, forceRender) {\n    if (this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender || this.destroyed || num === -1) {\n      return;\n    }\n\n    this.renderedFrame = num;\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\n    this.globalData.frameId += 1;\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\n    this.globalData.projectInterface.currentFrame = num; // console.log('--------');\n    // console.log('NEW: ',num);\n\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      if (this.renderConfig.clearCanvas === true) {\n        this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n      } else {\n        this.save();\n      }\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n\n      if (this.renderConfig.clearCanvas !== true) {\n        this.restore();\n      }\n    }\n  };\n\n  CanvasRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    var element = this.createItem(this.layers[pos], this, this.globalData);\n    elements[pos] = element;\n    element.initExpressions();\n    /* if(this.layers[pos].ty === 0){\r\n          element.resize(this.globalData.transformCanvas);\r\n      } */\n  };\n\n  CanvasRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  CanvasRendererBase.prototype.hide = function () {\n    this.animationItem.container.style.display = 'none';\n  };\n\n  CanvasRendererBase.prototype.show = function () {\n    this.animationItem.container.style.display = 'block';\n  };\n\n  function CVCompElement(data, globalData, comp) {\n    this.completeLayers = false;\n    this.layers = data.layers;\n    this.pendingElements = [];\n    this.elements = createSizedArray(this.layers.length);\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([CanvasRendererBase, ICompElement, CVBaseElement], CVCompElement);\n\n  CVCompElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(this.data.w, 0);\n    ctx.lineTo(this.data.w, this.data.h);\n    ctx.lineTo(0, this.data.h);\n    ctx.lineTo(0, 0);\n    ctx.clip();\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  CVCompElement.prototype.destroy = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.layers = null;\n    this.elements = null;\n  };\n\n  CVCompElement.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function CanvasRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n      context: config && config.context || null,\n      progressiveLoad: config && config.progressiveLoad || false,\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      className: config && config.className || '',\n      id: config && config.id || ''\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n\n    if (this.animationItem.wrapper) {\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n\n    this.renderedFrame = -1;\n    this.globalData = {\n      frameNum: -1,\n      _mdf: false,\n      renderConfig: this.renderConfig,\n      currentGlobalAlpha: -1\n    };\n    this.contextData = new CVContextData();\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n    this.rendererType = 'canvas';\n  }\n\n  extendPrototype([CanvasRendererBase], CanvasRenderer);\n\n  CanvasRenderer.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function HBaseElement() {}\n\n  HBaseElement.prototype = {\n    checkBlendMode: function checkBlendMode() {},\n    initRendererElement: function initRendererElement() {\n      this.baseElement = createTag(this.data.tg || 'div');\n\n      if (this.data.hasMask) {\n        this.svgElement = createNS('svg');\n        this.layerElement = createNS('g');\n        this.maskedElement = this.layerElement;\n        this.svgElement.appendChild(this.layerElement);\n        this.baseElement.appendChild(this.svgElement);\n      } else {\n        this.layerElement = this.baseElement;\n      }\n\n      styleDiv(this.baseElement);\n    },\n    createContainerElements: function createContainerElements() {\n      this.renderableEffectsManager = new CVEffects(this);\n      this.transformedElement = this.baseElement;\n      this.maskedElement = this.layerElement;\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\n\n      if (this.finalTransform._matMdf) {\n        var matrixValue = this.finalTransform.mat.toCSS();\n        transformedElementStyle.transform = matrixValue;\n        transformedElementStyle.webkitTransform = matrixValue;\n      }\n\n      if (this.finalTransform._opMdf) {\n        transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\n      }\n    },\n    renderFrame: function renderFrame() {\n      // If it is exported as hidden (data.hd === true) no need to render\n      // If it is not visible no need to render\n      if (this.data.hd || this.hidden) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderElement();\n      this.renderInnerContent();\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.layerElement = null;\n      this.transformedElement = null;\n\n      if (this.matteElement) {\n        this.matteElement = null;\n      }\n\n      if (this.maskManager) {\n        this.maskManager.destroy();\n        this.maskManager = null;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n    },\n    addEffects: function addEffects() {},\n    setMatte: function setMatte() {}\n  };\n  HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\n  HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\n  HBaseElement.prototype.buildElementParenting = BaseRenderer.prototype.buildElementParenting;\n\n  function HSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\n\n  HSolidElement.prototype.createContent = function () {\n    var rect;\n\n    if (this.data.hasMask) {\n      rect = createNS('rect');\n      rect.setAttribute('width', this.data.sw);\n      rect.setAttribute('height', this.data.sh);\n      rect.setAttribute('fill', this.data.sc);\n      this.svgElement.setAttribute('width', this.data.sw);\n      this.svgElement.setAttribute('height', this.data.sh);\n    } else {\n      rect = createTag('div');\n      rect.style.width = this.data.sw + 'px';\n      rect.style.height = this.data.sh + 'px';\n      rect.style.backgroundColor = this.data.sc;\n    }\n\n    this.layerElement.appendChild(rect);\n  };\n\n  function HShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.shapesContainer = createNS('g');\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\n  HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\n\n  HShapeElement.prototype.createContent = function () {\n    var cont;\n    this.baseElement.style.fontSize = 0;\n\n    if (this.data.hasMask) {\n      this.layerElement.appendChild(this.shapesContainer);\n      cont = this.svgElement;\n    } else {\n      cont = createNS('svg');\n      var size = this.comp.data ? this.comp.data : this.globalData.compSize;\n      cont.setAttribute('width', size.w);\n      cont.setAttribute('height', size.h);\n      cont.appendChild(this.shapesContainer);\n      this.layerElement.appendChild(cont);\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\n    this.filterUniqueShapes();\n    this.shapeCont = cont;\n  };\n\n  HShapeElement.prototype.getTransformedPoint = function (transformers, point) {\n    var i;\n    var len = transformers.length;\n\n    for (i = 0; i < len; i += 1) {\n      point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\n    }\n\n    return point;\n  };\n\n  HShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\n    var shape = item.sh.v;\n    var transformers = item.transformers;\n    var i;\n    var len = shape._length;\n    var vPoint;\n    var oPoint;\n    var nextIPoint;\n    var nextVPoint;\n\n    if (len <= 1) {\n      return;\n    }\n\n    for (i = 0; i < len - 1; i += 1) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n\n    if (shape.c) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n  };\n\n  HShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\n    this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\n    var bounds = this.shapeBoundingBox;\n    boundingBox.x = bmMin(bounds.left, boundingBox.x);\n    boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\n    boundingBox.y = bmMin(bounds.top, boundingBox.y);\n    boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\n  };\n\n  HShapeElement.prototype.shapeBoundingBox = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n  HShapeElement.prototype.tempBoundingBox = {\n    x: 0,\n    xMax: 0,\n    y: 0,\n    yMax: 0,\n    width: 0,\n    height: 0\n  };\n\n  HShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\n    var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\n\n    for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) {\n      // eslint-disable-line no-plusplus\n      b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n      a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n      c = 3 * p1[i] - 3 * p0[i];\n      b |= 0; // eslint-disable-line no-bitwise\n\n      a |= 0; // eslint-disable-line no-bitwise\n\n      c |= 0; // eslint-disable-line no-bitwise\n\n      if (a === 0 && b === 0) {//\n      } else if (a === 0) {\n        t = -c / b;\n\n        if (t > 0 && t < 1) {\n          bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\n        }\n      } else {\n        b2ac = b * b - 4 * c * a;\n\n        if (b2ac >= 0) {\n          t1 = (-b + bmSqrt(b2ac)) / (2 * a);\n          if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\n          t2 = (-b - bmSqrt(b2ac)) / (2 * a);\n          if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\n        }\n      }\n    }\n\n    this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\n    this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\n    this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\n    this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\n  };\n\n  HShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\n    return bmPow(1 - t, 3) * p0[i] + 3 * bmPow(1 - t, 2) * t * p1[i] + 3 * (1 - t) * bmPow(t, 2) * p2[i] + bmPow(t, 3) * p3[i];\n  };\n\n  HShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\n    var i;\n    var len = itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (itemsData[i] && itemsData[i].sh) {\n        this.calculateShapeBoundingBox(itemsData[i], boundingBox);\n      } else if (itemsData[i] && itemsData[i].it) {\n        this.calculateBoundingBox(itemsData[i].it, boundingBox);\n      }\n    }\n  };\n\n  HShapeElement.prototype.currentBoxContains = function (box) {\n    return this.currentBBox.x <= box.x && this.currentBBox.y <= box.y && this.currentBBox.width + this.currentBBox.x >= box.x + box.width && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\n  };\n\n  HShapeElement.prototype.renderInnerContent = function () {\n    this._renderShapeFrame();\n\n    if (!this.hidden && (this._isFirstFrame || this._mdf)) {\n      var tempBoundingBox = this.tempBoundingBox;\n      var max = 999999;\n      tempBoundingBox.x = max;\n      tempBoundingBox.xMax = -max;\n      tempBoundingBox.y = max;\n      tempBoundingBox.yMax = -max;\n      this.calculateBoundingBox(this.itemsData, tempBoundingBox);\n      tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\n      tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y; // var tempBoundingBox = this.shapeCont.getBBox();\n\n      if (this.currentBoxContains(tempBoundingBox)) {\n        return;\n      }\n\n      var changed = false;\n\n      if (this.currentBBox.w !== tempBoundingBox.width) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.shapeCont.setAttribute('width', tempBoundingBox.width);\n        changed = true;\n      }\n\n      if (this.currentBBox.h !== tempBoundingBox.height) {\n        this.currentBBox.h = tempBoundingBox.height;\n        this.shapeCont.setAttribute('height', tempBoundingBox.height);\n        changed = true;\n      }\n\n      if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.currentBBox.h = tempBoundingBox.height;\n        this.currentBBox.x = tempBoundingBox.x;\n        this.currentBBox.y = tempBoundingBox.y;\n        this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        var shapeStyle = this.shapeCont.style;\n        var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        shapeStyle.transform = shapeTransform;\n        shapeStyle.webkitTransform = shapeTransform;\n      }\n    }\n  };\n\n  function HTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.textPaths = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n    this.renderType = 'svg';\n    this.isMasked = false;\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\n\n  HTextElement.prototype.createContent = function () {\n    this.isMasked = this.checkMasks();\n\n    if (this.isMasked) {\n      this.renderType = 'svg';\n      this.compW = this.comp.data.w;\n      this.compH = this.comp.data.h;\n      this.svgElement.setAttribute('width', this.compW);\n      this.svgElement.setAttribute('height', this.compH);\n      var g = createNS('g');\n      this.maskedElement.appendChild(g);\n      this.innerElem = g;\n    } else {\n      this.renderType = 'html';\n      this.innerElem = this.layerElement;\n    }\n\n    this.checkParenting();\n  };\n\n  HTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var innerElemStyle = this.innerElem.style;\n    var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\n    innerElemStyle.fill = textColor;\n    innerElemStyle.color = textColor;\n\n    if (documentData.sc) {\n      innerElemStyle.stroke = this.buildColor(documentData.sc);\n      innerElemStyle.strokeWidth = documentData.sw + 'px';\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (!this.globalData.fontManager.chars) {\n      innerElemStyle.fontSize = documentData.finalSize + 'px';\n      innerElemStyle.lineHeight = documentData.finalSize + 'px';\n\n      if (fontData.fClass) {\n        this.innerElem.className = fontData.fClass;\n      } else {\n        innerElemStyle.fontFamily = fontData.fFamily;\n        var fWeight = documentData.fWeight;\n        var fStyle = documentData.fStyle;\n        innerElemStyle.fontStyle = fStyle;\n        innerElemStyle.fontWeight = fWeight;\n      }\n    }\n\n    var i;\n    var len;\n    var letters = documentData.l;\n    len = letters.length;\n    var tSpan;\n    var tParent;\n    var tCont;\n    var matrixHelper = this.mHelper;\n    var shapes;\n    var shapeStr = '';\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.globalData.fontManager.chars) {\n        if (!this.textPaths[cnt]) {\n          tSpan = createNS('path');\n          tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\n          tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\n          tSpan.setAttribute('stroke-miterlimit', '4');\n        } else {\n          tSpan = this.textPaths[cnt];\n        }\n\n        if (!this.isMasked) {\n          if (this.textSpans[cnt]) {\n            tParent = this.textSpans[cnt];\n            tCont = tParent.children[0];\n          } else {\n            tParent = createTag('div');\n            tParent.style.lineHeight = 0;\n            tCont = createNS('svg');\n            tCont.appendChild(tSpan);\n            styleDiv(tParent);\n          }\n        }\n      } else if (!this.isMasked) {\n        if (this.textSpans[cnt]) {\n          tParent = this.textSpans[cnt];\n          tSpan = this.textPaths[cnt];\n        } else {\n          tParent = createTag('span');\n          styleDiv(tParent);\n          tSpan = createTag('span');\n          styleDiv(tSpan);\n          tParent.appendChild(tSpan);\n        }\n      } else {\n        tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\n      } // tSpan.setAttribute('visibility', 'hidden');\n\n\n      if (this.globalData.fontManager.chars) {\n        var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n        var shapeData;\n\n        if (charData) {\n          shapeData = charData.data;\n        } else {\n          shapeData = null;\n        }\n\n        matrixHelper.reset();\n\n        if (shapeData && shapeData.shapes && shapeData.shapes.length) {\n          shapes = shapeData.shapes[0].it;\n          matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n          shapeStr = this.createPathShape(matrixHelper, shapes);\n          tSpan.setAttribute('d', shapeStr);\n        }\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent);\n\n          if (shapeData && shapeData.shapes) {\n            // document.body.appendChild is needed to get exact measure of shape\n            document.body.appendChild(tCont);\n            var boundingBox = tCont.getBBox();\n            tCont.setAttribute('width', boundingBox.width + 2);\n            tCont.setAttribute('height', boundingBox.height + 2);\n            tCont.setAttribute('viewBox', boundingBox.x - 1 + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\n            var tContStyle = tCont.style;\n            var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\n            tContStyle.transform = tContTranslation;\n            tContStyle.webkitTransform = tContTranslation;\n            letters[i].yOffset = boundingBox.y - 1;\n          } else {\n            tCont.setAttribute('width', 1);\n            tCont.setAttribute('height', 1);\n          }\n\n          tParent.appendChild(tCont);\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } else {\n        tSpan.textContent = letters[i].val;\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent); //\n\n          var tStyle = tSpan.style;\n          var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\n          tStyle.transform = tSpanTranslation;\n          tStyle.webkitTransform = tSpanTranslation;\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } //\n\n\n      if (!this.isMasked) {\n        this.textSpans[cnt] = tParent;\n      } else {\n        this.textSpans[cnt] = tSpan;\n      }\n\n      this.textSpans[cnt].style.display = 'block';\n      this.textPaths[cnt] = tSpan;\n      cnt += 1;\n    }\n\n    while (cnt < this.textSpans.length) {\n      this.textSpans[cnt].style.display = 'none';\n      cnt += 1;\n    }\n  };\n\n  HTextElement.prototype.renderInnerContent = function () {\n    var svgStyle;\n\n    if (this.data.singleShape) {\n      if (!this._isFirstFrame && !this.lettersChangedFlag) {\n        return;\n      }\n\n      if (this.isMasked && this.finalTransform._matMdf) {\n        // Todo Benchmark if using this is better than getBBox\n        this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\n        svgStyle = this.svgElement.style;\n        var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\n        svgStyle.transform = translation;\n        svgStyle.webkitTransform = translation;\n      }\n    }\n\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n    if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\n      return;\n    }\n\n    var i;\n    var len;\n    var count = 0;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var textSpan;\n    var textPath;\n\n    for (i = 0; i < len; i += 1) {\n      if (letters[i].n) {\n        count += 1;\n      } else {\n        textSpan = this.textSpans[i];\n        textPath = this.textPaths[i];\n        renderedLetter = renderedLetters[count];\n        count += 1;\n\n        if (renderedLetter._mdf.m) {\n          if (!this.isMasked) {\n            textSpan.style.webkitTransform = renderedLetter.m;\n            textSpan.style.transform = renderedLetter.m;\n          } else {\n            textSpan.setAttribute('transform', renderedLetter.m);\n          }\n        } /// /textSpan.setAttribute('opacity',renderedLetter.o);\n\n\n        textSpan.style.opacity = renderedLetter.o;\n\n        if (renderedLetter.sw && renderedLetter._mdf.sw) {\n          textPath.setAttribute('stroke-width', renderedLetter.sw);\n        }\n\n        if (renderedLetter.sc && renderedLetter._mdf.sc) {\n          textPath.setAttribute('stroke', renderedLetter.sc);\n        }\n\n        if (renderedLetter.fc && renderedLetter._mdf.fc) {\n          textPath.setAttribute('fill', renderedLetter.fc);\n          textPath.style.color = renderedLetter.fc;\n        }\n      }\n    }\n\n    if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\n      var boundingBox = this.innerElem.getBBox();\n\n      if (this.currentBBox.w !== boundingBox.width) {\n        this.currentBBox.w = boundingBox.width;\n        this.svgElement.setAttribute('width', boundingBox.width);\n      }\n\n      if (this.currentBBox.h !== boundingBox.height) {\n        this.currentBBox.h = boundingBox.height;\n        this.svgElement.setAttribute('height', boundingBox.height);\n      }\n\n      var margin = 1;\n\n      if (this.currentBBox.w !== boundingBox.width + margin * 2 || this.currentBBox.h !== boundingBox.height + margin * 2 || this.currentBBox.x !== boundingBox.x - margin || this.currentBBox.y !== boundingBox.y - margin) {\n        this.currentBBox.w = boundingBox.width + margin * 2;\n        this.currentBBox.h = boundingBox.height + margin * 2;\n        this.currentBBox.x = boundingBox.x - margin;\n        this.currentBBox.y = boundingBox.y - margin;\n        this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        svgStyle = this.svgElement.style;\n        var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        svgStyle.transform = svgTransform;\n        svgStyle.webkitTransform = svgTransform;\n      }\n    }\n  };\n\n  function HCameraElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initHierarchy();\n    var getProp = PropertyFactory.getProp;\n    this.pe = getProp(this, data.pe, 0, 0, this);\n\n    if (data.ks.p.s) {\n      this.px = getProp(this, data.ks.p.x, 1, 0, this);\n      this.py = getProp(this, data.ks.p.y, 1, 0, this);\n      this.pz = getProp(this, data.ks.p.z, 1, 0, this);\n    } else {\n      this.p = getProp(this, data.ks.p, 1, 0, this);\n    }\n\n    if (data.ks.a) {\n      this.a = getProp(this, data.ks.a, 1, 0, this);\n    }\n\n    if (data.ks.or.k.length && data.ks.or.k[0].to) {\n      var i;\n      var len = data.ks.or.k.length;\n\n      for (i = 0; i < len; i += 1) {\n        data.ks.or.k[i].to = null;\n        data.ks.or.k[i].ti = null;\n      }\n    }\n\n    this.or = getProp(this, data.ks.or, 1, degToRads, this);\n    this.or.sh = true;\n    this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\n    this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\n    this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\n    this.mat = new Matrix();\n    this._prevMat = new Matrix();\n    this._isFirstFrame = true; // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\n\n    this.finalTransform = {\n      mProp: this\n    };\n  }\n\n  extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\n\n  HCameraElement.prototype.setup = function () {\n    var i;\n    var len = this.comp.threeDElements.length;\n    var comp;\n    var perspectiveStyle;\n    var containerStyle;\n\n    for (i = 0; i < len; i += 1) {\n      // [perspectiveElem,container]\n      comp = this.comp.threeDElements[i];\n\n      if (comp.type === '3d') {\n        perspectiveStyle = comp.perspectiveElem.style;\n        containerStyle = comp.container.style;\n        var perspective = this.pe.v + 'px';\n        var origin = '0px 0px 0px';\n        var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n        perspectiveStyle.perspective = perspective;\n        perspectiveStyle.webkitPerspective = perspective;\n        containerStyle.transformOrigin = origin;\n        containerStyle.mozTransformOrigin = origin;\n        containerStyle.webkitTransformOrigin = origin;\n        perspectiveStyle.transform = matrix;\n        perspectiveStyle.webkitTransform = matrix;\n      }\n    }\n  };\n\n  HCameraElement.prototype.createElements = function () {};\n\n  HCameraElement.prototype.hide = function () {};\n\n  HCameraElement.prototype.renderFrame = function () {\n    var _mdf = this._isFirstFrame;\n    var i;\n    var len;\n\n    if (this.hierarchy) {\n      len = this.hierarchy.length;\n\n      for (i = 0; i < len; i += 1) {\n        _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\n      }\n    }\n\n    if (_mdf || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {\n      this.mat.reset();\n\n      if (this.hierarchy) {\n        len = this.hierarchy.length - 1;\n\n        for (i = len; i >= 0; i -= 1) {\n          var mTransf = this.hierarchy[i].finalTransform.mProp;\n          this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\n          this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\n          this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\n          this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\n          this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\n        }\n      }\n\n      if (this.p) {\n        this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\n      } else {\n        this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\n      }\n\n      if (this.a) {\n        var diffVector;\n\n        if (this.p) {\n          diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\n        } else {\n          diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\n        }\n\n        var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2)); // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\n\n        var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\n        var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\n        var mRotationX = Math.atan2(lookDir[1], lookLengthOnXZ);\n        var mRotationY = Math.atan2(lookDir[0], -lookDir[2]);\n        this.mat.rotateY(mRotationY).rotateX(-mRotationX);\n      }\n\n      this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\n      this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\n      this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\n      this.mat.translate(0, 0, this.pe.v);\n      var hasMatrixChanged = !this._prevMat.equals(this.mat);\n\n      if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\n        len = this.comp.threeDElements.length;\n        var comp;\n        var perspectiveStyle;\n        var containerStyle;\n\n        for (i = 0; i < len; i += 1) {\n          comp = this.comp.threeDElements[i];\n\n          if (comp.type === '3d') {\n            if (hasMatrixChanged) {\n              var matValue = this.mat.toCSS();\n              containerStyle = comp.container.style;\n              containerStyle.transform = matValue;\n              containerStyle.webkitTransform = matValue;\n            }\n\n            if (this.pe._mdf) {\n              perspectiveStyle = comp.perspectiveElem.style;\n              perspectiveStyle.perspective = this.pe.v + 'px';\n              perspectiveStyle.webkitPerspective = this.pe.v + 'px';\n            }\n          }\n        }\n\n        this.mat.clone(this._prevMat);\n      }\n    }\n\n    this._isFirstFrame = false;\n  };\n\n  HCameraElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  HCameraElement.prototype.destroy = function () {};\n\n  HCameraElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  function HImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\n\n  HImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    var img = new Image();\n\n    if (this.data.hasMask) {\n      this.imageElem = createNS('image');\n      this.imageElem.setAttribute('width', this.assetData.w + 'px');\n      this.imageElem.setAttribute('height', this.assetData.h + 'px');\n      this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n      this.layerElement.appendChild(this.imageElem);\n      this.baseElement.setAttribute('width', this.assetData.w);\n      this.baseElement.setAttribute('height', this.assetData.h);\n    } else {\n      this.layerElement.appendChild(img);\n    }\n\n    img.crossOrigin = 'anonymous';\n    img.src = assetPath;\n\n    if (this.data.ln) {\n      this.baseElement.setAttribute('id', this.data.ln);\n    }\n  };\n\n  function HybridRendererBase(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([BaseRenderer], HybridRendererBase);\n  HybridRendererBase.prototype.buildItem = SVGRenderer.prototype.buildItem;\n\n  HybridRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  HybridRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newDOMElement = element.getBaseElement();\n\n    if (!newDOMElement) {\n      return;\n    }\n\n    var layer = this.layers[pos];\n\n    if (!layer.ddd || !this.supports3d) {\n      if (this.threeDElements) {\n        this.addTo3dContainer(newDOMElement, pos);\n      } else {\n        var i = 0;\n        var nextDOMElement;\n        var nextLayer;\n        var tmpDOMElement;\n\n        while (i < pos) {\n          if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\n            nextLayer = this.elements[i];\n            tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\n            nextDOMElement = tmpDOMElement || nextDOMElement;\n          }\n\n          i += 1;\n        }\n\n        if (nextDOMElement) {\n          if (!layer.ddd || !this.supports3d) {\n            this.layerElement.insertBefore(newDOMElement, nextDOMElement);\n          }\n        } else if (!layer.ddd || !this.supports3d) {\n          this.layerElement.appendChild(newDOMElement);\n        }\n      }\n    } else {\n      this.addTo3dContainer(newDOMElement, pos);\n    }\n  };\n\n  HybridRendererBase.prototype.createShape = function (data) {\n    if (!this.supports3d) {\n      return new SVGShapeElement(data, this.globalData, this);\n    }\n\n    return new HShapeElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createText = function (data) {\n    if (!this.supports3d) {\n      return new SVGTextLottieElement(data, this.globalData, this);\n    }\n\n    return new HTextElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createCamera = function (data) {\n    this.camera = new HCameraElement(data, this.globalData, this);\n    return this.camera;\n  };\n\n  HybridRendererBase.prototype.createImage = function (data) {\n    if (!this.supports3d) {\n      return new IImageElement(data, this.globalData, this);\n    }\n\n    return new HImageElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createSolid = function (data) {\n    if (!this.supports3d) {\n      return new ISolidElement(data, this.globalData, this);\n    }\n\n    return new HSolidElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  HybridRendererBase.prototype.getThreeDContainerByPos = function (pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\n        return this.threeDElements[i].perspectiveElem;\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  HybridRendererBase.prototype.createThreeDContainer = function (pos, type) {\n    var perspectiveElem = createTag('div');\n    var style;\n    var containerStyle;\n    styleDiv(perspectiveElem);\n    var container = createTag('div');\n    styleDiv(container);\n\n    if (type === '3d') {\n      style = perspectiveElem.style;\n      style.width = this.globalData.compSize.w + 'px';\n      style.height = this.globalData.compSize.h + 'px';\n      var center = '50% 50%';\n      style.webkitTransformOrigin = center;\n      style.mozTransformOrigin = center;\n      style.transformOrigin = center;\n      containerStyle = container.style;\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n      containerStyle.transform = matrix;\n      containerStyle.webkitTransform = matrix;\n    }\n\n    perspectiveElem.appendChild(container); // this.resizerElem.appendChild(perspectiveElem);\n\n    var threeDContainerData = {\n      container: container,\n      perspectiveElem: perspectiveElem,\n      startPos: pos,\n      endPos: pos,\n      type: type\n    };\n    this.threeDElements.push(threeDContainerData);\n    return threeDContainerData;\n  };\n\n  HybridRendererBase.prototype.build3dContainers = function () {\n    var i;\n    var len = this.layers.length;\n    var lastThreeDContainerData;\n    var currentContainer = '';\n\n    for (i = 0; i < len; i += 1) {\n      if (this.layers[i].ddd && this.layers[i].ty !== 3) {\n        if (currentContainer !== '3d') {\n          currentContainer = '3d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '3d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      } else {\n        if (currentContainer !== '2d') {\n          currentContainer = '2d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '2d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      }\n    }\n\n    len = this.threeDElements.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\n    }\n  };\n\n  HybridRendererBase.prototype.addTo3dContainer = function (elem, pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (pos <= this.threeDElements[i].endPos) {\n        var j = this.threeDElements[i].startPos;\n        var nextElement;\n\n        while (j < pos) {\n          if (this.elements[j] && this.elements[j].getBaseElement) {\n            nextElement = this.elements[j].getBaseElement();\n          }\n\n          j += 1;\n        }\n\n        if (nextElement) {\n          this.threeDElements[i].container.insertBefore(elem, nextElement);\n        } else {\n          this.threeDElements[i].container.appendChild(elem);\n        }\n\n        break;\n      }\n\n      i += 1;\n    }\n  };\n\n  HybridRendererBase.prototype.configAnimation = function (animData) {\n    var resizerElem = createTag('div');\n    var wrapper = this.animationItem.wrapper;\n    var style = resizerElem.style;\n    style.width = animData.w + 'px';\n    style.height = animData.h + 'px';\n    this.resizerElem = resizerElem;\n    styleDiv(resizerElem);\n    style.transformStyle = 'flat';\n    style.mozTransformStyle = 'flat';\n    style.webkitTransformStyle = 'flat';\n\n    if (this.renderConfig.className) {\n      resizerElem.setAttribute('class', this.renderConfig.className);\n    }\n\n    wrapper.appendChild(resizerElem);\n    style.overflow = 'hidden';\n    var svg = createNS('svg');\n    svg.setAttribute('width', '1');\n    svg.setAttribute('height', '1');\n    styleDiv(svg);\n    this.resizerElem.appendChild(svg);\n    var defs = createNS('defs');\n    svg.appendChild(defs);\n    this.data = animData; // Mask animation\n\n    this.setupGlobalData(animData, svg);\n    this.globalData.defs = defs;\n    this.layers = animData.layers;\n    this.layerElement = this.resizerElem;\n    this.build3dContainers();\n    this.updateContainerSize();\n  };\n\n  HybridRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.animationItem.container = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      this.elements[i].destroy();\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  HybridRendererBase.prototype.updateContainerSize = function () {\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\n    var elementRel = elementWidth / elementHeight;\n    var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\n    var sx;\n    var sy;\n    var tx;\n    var ty;\n\n    if (animationRel > elementRel) {\n      sx = elementWidth / this.globalData.compSize.w;\n      sy = elementWidth / this.globalData.compSize.w;\n      tx = 0;\n      ty = (elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2;\n    } else {\n      sx = elementHeight / this.globalData.compSize.h;\n      sy = elementHeight / this.globalData.compSize.h;\n      tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\n      ty = 0;\n    }\n\n    var style = this.resizerElem.style;\n    style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\n    style.transform = style.webkitTransform;\n  };\n\n  HybridRendererBase.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\n\n  HybridRendererBase.prototype.hide = function () {\n    this.resizerElem.style.display = 'none';\n  };\n\n  HybridRendererBase.prototype.show = function () {\n    this.resizerElem.style.display = 'block';\n  };\n\n  HybridRendererBase.prototype.initItems = function () {\n    this.buildAllItems();\n\n    if (this.camera) {\n      this.camera.setup();\n    } else {\n      var cWidth = this.globalData.compSize.w;\n      var cHeight = this.globalData.compSize.h;\n      var i;\n      var len = this.threeDElements.length;\n\n      for (i = 0; i < len; i += 1) {\n        var style = this.threeDElements[i].perspectiveElem.style;\n        style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\n        style.perspective = style.webkitPerspective;\n      }\n    }\n  };\n\n  HybridRendererBase.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n    var floatingContainer = createTag('div');\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  function HCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = !data.hasMask;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([HybridRendererBase, ICompElement, HBaseElement], HCompElement);\n  HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\n\n  HCompElement.prototype.createContainerElements = function () {\n    this._createBaseContainerElements(); // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\n\n\n    if (this.data.hasMask) {\n      this.svgElement.setAttribute('width', this.data.w);\n      this.svgElement.setAttribute('height', this.data.h);\n      this.transformedElement = this.baseElement;\n    } else {\n      this.transformedElement = this.layerElement;\n    }\n  };\n\n  HCompElement.prototype.addTo3dContainer = function (elem, pos) {\n    var j = 0;\n    var nextElement;\n\n    while (j < pos) {\n      if (this.elements[j] && this.elements[j].getBaseElement) {\n        nextElement = this.elements[j].getBaseElement();\n      }\n\n      j += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(elem, nextElement);\n    } else {\n      this.layerElement.appendChild(elem);\n    }\n  };\n\n  HCompElement.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  function HybridRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([HybridRendererBase], HybridRenderer);\n\n  HybridRenderer.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  var Expressions = function () {\n    var ob = {};\n    ob.initExpressions = initExpressions;\n\n    function initExpressions(animation) {\n      var stackCount = 0;\n      var registers = [];\n\n      function pushExpression() {\n        stackCount += 1;\n      }\n\n      function popExpression() {\n        stackCount -= 1;\n\n        if (stackCount === 0) {\n          releaseInstances();\n        }\n      }\n\n      function registerExpressionProperty(expression) {\n        if (registers.indexOf(expression) === -1) {\n          registers.push(expression);\n        }\n      }\n\n      function releaseInstances() {\n        var i;\n        var len = registers.length;\n\n        for (i = 0; i < len; i += 1) {\n          registers[i].release();\n        }\n\n        registers.length = 0;\n      }\n\n      animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\n      animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\n      animation.renderer.globalData.pushExpression = pushExpression;\n      animation.renderer.globalData.popExpression = popExpression;\n      animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\n    }\n\n    return ob;\n  }();\n\n  function _typeof$1(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$1 = function _typeof(obj) { return typeof obj; }; } else { _typeof$1 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$1(obj); }\n\n  /* eslint-disable */\n\n  /*\r\n   Copyright 2014 David Bau.\r\n\r\n   Permission is hereby granted, free of charge, to any person obtaining\r\n   a copy of this software and associated documentation files (the\r\n   \"Software\"), to deal in the Software without restriction, including\r\n   without limitation the rights to use, copy, modify, merge, publish,\r\n   distribute, sublicense, and/or sell copies of the Software, and to\r\n   permit persons to whom the Software is furnished to do so, subject to\r\n   the following conditions:\r\n\r\n   The above copyright notice and this permission notice shall be\r\n   included in all copies or substantial portions of the Software.\r\n\r\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n   */\n  function seedRandom(pool, math) {\n    //\n    // The following constants are related to IEEE 754 limits.\n    //\n    var global = this,\n        width = 256,\n        // each RC4 output is 0 <= x < 256\n    chunks = 6,\n        // at least six RC4 outputs for each double\n    digits = 52,\n        // there are 52 significant digits in a double\n    rngname = 'random',\n        // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n        significance = math.pow(2, digits),\n        overflow = significance * 2,\n        mask = width - 1,\n        nodecrypto; // node.js crypto module, initialized at the bottom.\n    //\n    // seedrandom()\n    // This is the seedrandom function described above.\n    //\n\n    function seedrandom(seed, options, callback) {\n      var key = [];\n      options = options === true ? {\n        entropy: true\n      } : options || {}; // Flatten the seed string or build one from local entropy if needed.\n\n      var shortseed = mixkey(flatten(options.entropy ? [seed, tostring(pool)] : seed === null ? autoseed() : seed, 3), key); // Use the seed to initialize an ARC4 generator.\n\n      var arc4 = new ARC4(key); // This function returns a random double in [0, 1) that contains\n      // randomness in every bit of the mantissa of the IEEE 754 value.\n\n      var prng = function prng() {\n        var n = arc4.g(chunks),\n            // Start with a numerator n < 2 ^ 48\n        d = startdenom,\n            //   and denominator d = 2 ^ 48.\n        x = 0; //   and no 'extra last byte'.\n\n        while (n < significance) {\n          // Fill up all significant digits by\n          n = (n + x) * width; //   shifting numerator and\n\n          d *= width; //   denominator and generating a\n\n          x = arc4.g(1); //   new least-significant-byte.\n        }\n\n        while (n >= overflow) {\n          // To avoid rounding up, before adding\n          n /= 2; //   last byte, shift everything\n\n          d /= 2; //   right using integer math until\n\n          x >>>= 1; //   we have exactly the desired bits.\n        }\n\n        return (n + x) / d; // Form the number within [0, 1).\n      };\n\n      prng.int32 = function () {\n        return arc4.g(4) | 0;\n      };\n\n      prng.quick = function () {\n        return arc4.g(4) / 0x100000000;\n      };\n\n      prng[\"double\"] = prng; // Mix the randomness into accumulated entropy.\n\n      mixkey(tostring(arc4.S), pool); // Calling convention: what to return as a function of prng, seed, is_math.\n\n      return (options.pass || callback || function (prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) {\n            copy(state, arc4);\n          } // Only provide the .state method if requested via options.state.\n\n\n          prng.state = function () {\n            return copy(arc4, {});\n          };\n        } // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n\n\n        if (is_math_call) {\n          math[rngname] = prng;\n          return seed;\n        } // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(prng, shortseed, 'global' in options ? options.global : this == math, options.state);\n    }\n\n    math['seed' + rngname] = seedrandom; //\n    // ARC4\n    //\n    // An ARC4 implementation.  The constructor takes a key in the form of\n    // an array of at most (width) integers that should be 0 <= x < (width).\n    //\n    // The g(count) method returns a pseudorandom integer that concatenates\n    // the next (count) outputs from ARC4.  Its return value is a number x\n    // that is in the range 0 <= x < (width ^ count).\n    //\n\n    function ARC4(key) {\n      var t,\n          keylen = key.length,\n          me = this,\n          i = 0,\n          j = me.i = me.j = 0,\n          s = me.S = []; // The empty key [] is treated as [0].\n\n      if (!keylen) {\n        key = [keylen++];\n      } // Set up S using the standard key scheduling algorithm.\n\n\n      while (i < width) {\n        s[i] = i++;\n      }\n\n      for (i = 0; i < width; i++) {\n        s[i] = s[j = mask & j + key[i % keylen] + (t = s[i])];\n        s[j] = t;\n      } // The \"g\" method returns the next (count) outputs as one number.\n\n\n      me.g = function (count) {\n        // Using instance members instead of closure state nearly doubles speed.\n        var t,\n            r = 0,\n            i = me.i,\n            j = me.j,\n            s = me.S;\n\n        while (count--) {\n          t = s[i = mask & i + 1];\n          r = r * width + s[mask & (s[i] = s[j = mask & j + t]) + (s[j] = t)];\n        }\n\n        me.i = i;\n        me.j = j;\n        return r; // For robust unpredictability, the function call below automatically\n        // discards an initial batch of values.  This is called RC4-drop[256].\n        // See http://google.com/search?q=rsa+fluhrer+response&btnI\n      };\n    } //\n    // copy()\n    // Copies internal state of ARC4 to or from a plain object.\n    //\n\n\n    function copy(f, t) {\n      t.i = f.i;\n      t.j = f.j;\n      t.S = f.S.slice();\n      return t;\n    } //\n    // flatten()\n    // Converts an object tree to nested arrays of strings.\n    //\n\n\n    function flatten(obj, depth) {\n      var result = [],\n          typ = _typeof$1(obj),\n          prop;\n\n      if (depth && typ == 'object') {\n        for (prop in obj) {\n          try {\n            result.push(flatten(obj[prop], depth - 1));\n          } catch (e) {}\n        }\n      }\n\n      return result.length ? result : typ == 'string' ? obj : obj + '\\0';\n    } //\n    // mixkey()\n    // Mixes a string seed into a key that is an array of integers, and\n    // returns a shortened string seed that is equivalent to the result key.\n    //\n\n\n    function mixkey(seed, key) {\n      var stringseed = seed + '',\n          smear,\n          j = 0;\n\n      while (j < stringseed.length) {\n        key[mask & j] = mask & (smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++);\n      }\n\n      return tostring(key);\n    } //\n    // autoseed()\n    // Returns an object for autoseeding, using window.crypto and Node crypto\n    // module if available.\n    //\n\n\n    function autoseed() {\n      try {\n        if (nodecrypto) {\n          return tostring(nodecrypto.randomBytes(width));\n        }\n\n        var out = new Uint8Array(width);\n        (global.crypto || global.msCrypto).getRandomValues(out);\n        return tostring(out);\n      } catch (e) {\n        var browser = global.navigator,\n            plugins = browser && browser.plugins;\n        return [+new Date(), global, plugins, global.screen, tostring(pool)];\n      }\n    } //\n    // tostring()\n    // Converts an array of charcodes to a string\n    //\n\n\n    function tostring(a) {\n      return String.fromCharCode.apply(0, a);\n    } //\n    // When seedrandom.js is loaded, we immediately mix a few bits\n    // from the built-in RNG into the entropy pool.  Because we do\n    // not want to interfere with deterministic PRNG state later,\n    // seedrandom will not call math.random on its own again after\n    // initialization.\n    //\n\n\n    mixkey(math.random(), pool); //\n    // Nodejs and AMD support: export the implementation as a module using\n    // either convention.\n    //\n    // End anonymous scope, and pass initial values.\n  }\n\n  ;\n\n  function initialize$2(BMMath) {\n    seedRandom([], BMMath);\n  }\n\n  var propTypes = {\n    SHAPE: 'shape'\n  };\n\n  function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n  var ExpressionManager = function () {\n    'use strict';\n\n    var ob = {};\n    var Math = BMMath;\n    var window = null;\n    var document = null;\n    var XMLHttpRequest = null;\n    var fetch = null;\n    var frames = null;\n    initialize$2(BMMath);\n\n    function $bm_isInstanceOfArray(arr) {\n      return arr.constructor === Array || arr.constructor === Float32Array;\n    }\n\n    function isNumerable(tOfV, v) {\n      return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\n    }\n\n    function $bm_neg(a) {\n      var tOfA = _typeof(a);\n\n      if (tOfA === 'number' || tOfA === 'boolean' || a instanceof Number) {\n        return -a;\n      }\n\n      if ($bm_isInstanceOfArray(a)) {\n        var i;\n        var lenA = a.length;\n        var retArr = [];\n\n        for (i = 0; i < lenA; i += 1) {\n          retArr[i] = -a[i];\n        }\n\n        return retArr;\n      }\n\n      if (a.propType) {\n        return a.v;\n      }\n\n      return -a;\n    }\n\n    var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\n    var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\n    var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\n\n    function sum(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      if (tOfA === 'string' || tOfB === 'string') {\n        return a + b;\n      }\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a + b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] += b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a + b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] + b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    var add = sum;\n\n    function sub(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        if (tOfA === 'string') {\n          a = parseInt(a, 10);\n        }\n\n        if (tOfB === 'string') {\n          b = parseInt(b, 10);\n        }\n\n        return a - b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] -= b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a - b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] - b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    function mul(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a * b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] * b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a * b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function div(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a / b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] / b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a / b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function mod(a, b) {\n      if (typeof a === 'string') {\n        a = parseInt(a, 10);\n      }\n\n      if (typeof b === 'string') {\n        b = parseInt(b, 10);\n      }\n\n      return a % b;\n    }\n\n    var $bm_sum = sum;\n    var $bm_sub = sub;\n    var $bm_mul = mul;\n    var $bm_div = div;\n    var $bm_mod = mod;\n\n    function clamp(num, min, max) {\n      if (min > max) {\n        var mm = max;\n        max = min;\n        min = mm;\n      }\n\n      return Math.min(Math.max(num, min), max);\n    }\n\n    function radiansToDegrees(val) {\n      return val / degToRads;\n    }\n\n    var radians_to_degrees = radiansToDegrees;\n\n    function degreesToRadians(val) {\n      return val * degToRads;\n    }\n\n    var degrees_to_radians = radiansToDegrees;\n    var helperLengthArray = [0, 0, 0, 0, 0, 0];\n\n    function length(arr1, arr2) {\n      if (typeof arr1 === 'number' || arr1 instanceof Number) {\n        arr2 = arr2 || 0;\n        return Math.abs(arr1 - arr2);\n      }\n\n      if (!arr2) {\n        arr2 = helperLengthArray;\n      }\n\n      var i;\n      var len = Math.min(arr1.length, arr2.length);\n      var addedLength = 0;\n\n      for (i = 0; i < len; i += 1) {\n        addedLength += Math.pow(arr2[i] - arr1[i], 2);\n      }\n\n      return Math.sqrt(addedLength);\n    }\n\n    function normalize(vec) {\n      return div(vec, length(vec));\n    }\n\n    function rgbToHsl(val) {\n      var r = val[0];\n      var g = val[1];\n      var b = val[2];\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n      var h;\n      var s;\n      var l = (max + min) / 2;\n\n      if (max === min) {\n        h = 0; // achromatic\n\n        s = 0; // achromatic\n      } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n        switch (max) {\n          case r:\n            h = (g - b) / d + (g < b ? 6 : 0);\n            break;\n\n          case g:\n            h = (b - r) / d + 2;\n            break;\n\n          case b:\n            h = (r - g) / d + 4;\n            break;\n\n          default:\n            break;\n        }\n\n        h /= 6;\n      }\n\n      return [h, s, l, val[3]];\n    }\n\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n\n    function hslToRgb(val) {\n      var h = val[0];\n      var s = val[1];\n      var l = val[2];\n      var r;\n      var g;\n      var b;\n\n      if (s === 0) {\n        r = l; // achromatic\n\n        b = l; // achromatic\n\n        g = l; // achromatic\n      } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n      }\n\n      return [r, g, b, val[3]];\n    }\n\n    function linear(t, tMin, tMax, value1, value2) {\n      if (value1 === undefined || value2 === undefined) {\n        value1 = tMin;\n        value2 = tMax;\n        tMin = 0;\n        tMax = 1;\n      }\n\n      if (tMax < tMin) {\n        var _tMin = tMax;\n        tMax = tMin;\n        tMin = _tMin;\n      }\n\n      if (t <= tMin) {\n        return value1;\n      }\n\n      if (t >= tMax) {\n        return value2;\n      }\n\n      var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\n\n      if (!value1.length) {\n        return value1 + (value2 - value1) * perc;\n      }\n\n      var i;\n      var len = value1.length;\n      var arr = createTypedArray('float32', len);\n\n      for (i = 0; i < len; i += 1) {\n        arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\n      }\n\n      return arr;\n    }\n\n    function random(min, max) {\n      if (max === undefined) {\n        if (min === undefined) {\n          min = 0;\n          max = 1;\n        } else {\n          max = min;\n          min = undefined;\n        }\n      }\n\n      if (max.length) {\n        var i;\n        var len = max.length;\n\n        if (!min) {\n          min = createTypedArray('float32', len);\n        }\n\n        var arr = createTypedArray('float32', len);\n        var rnd = BMMath.random();\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = min[i] + rnd * (max[i] - min[i]);\n        }\n\n        return arr;\n      }\n\n      if (min === undefined) {\n        min = 0;\n      }\n\n      var rndm = BMMath.random();\n      return min + rndm * (max - min);\n    }\n\n    function createPath(points, inTangents, outTangents, closed) {\n      var i;\n      var len = points.length;\n      var path = shapePool.newElement();\n      path.setPathData(!!closed, len);\n      var arrPlaceholder = [0, 0];\n      var inVertexPoint;\n      var outVertexPoint;\n\n      for (i = 0; i < len; i += 1) {\n        inVertexPoint = inTangents && inTangents[i] ? inTangents[i] : arrPlaceholder;\n        outVertexPoint = outTangents && outTangents[i] ? outTangents[i] : arrPlaceholder;\n        path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\n      }\n\n      return path;\n    }\n\n    function initiateExpression(elem, data, property) {\n      var val = data.x;\n      var needsVelocity = /velocity(?![\\w\\d])/.test(val);\n\n      var _needsRandom = val.indexOf('random') !== -1;\n\n      var elemType = elem.data.ty;\n      var transform;\n      var $bm_transform;\n      var content;\n      var effect;\n      var thisProperty = property;\n      thisProperty.valueAtTime = thisProperty.getValueAtTime;\n      Object.defineProperty(thisProperty, 'value', {\n        get: function get() {\n          return thisProperty.v;\n        }\n      });\n      elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\n      elem.comp.displayStartTime = 0;\n      var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      var outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      var width = elem.data.sw ? elem.data.sw : 0;\n      var height = elem.data.sh ? elem.data.sh : 0;\n      var name = elem.data.nm;\n      var loopIn;\n      var loop_in;\n      var loopOut;\n      var loop_out;\n      var smooth;\n      var toWorld;\n      var fromWorld;\n      var fromComp;\n      var toComp;\n      var fromCompToSurface;\n      var position;\n      var rotation;\n      var anchorPoint;\n      var scale;\n      var thisLayer;\n      var thisComp;\n      var mask;\n      var valueAtTime;\n      var velocityAtTime;\n      var scoped_bm_rt; // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\n\n      var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\n\n      var numKeys = property.kf ? data.k.length : 0;\n      var active = !this.data || this.data.hd !== true;\n\n      var wiggle = function wiggle(freq, amp) {\n        var iWiggle;\n        var j;\n        var lenWiggle = this.pv.length ? this.pv.length : 1;\n        var addedAmps = createTypedArray('float32', lenWiggle);\n        freq = 5;\n        var iterations = Math.floor(time * freq);\n        iWiggle = 0;\n        j = 0;\n\n        while (iWiggle < iterations) {\n          // var rnd = BMMath.random();\n          for (j = 0; j < lenWiggle; j += 1) {\n            addedAmps[j] += -amp + amp * 2 * BMMath.random(); // addedAmps[j] += -amp + amp*2*rnd;\n          }\n\n          iWiggle += 1;\n        } // var rnd2 = BMMath.random();\n\n\n        var periods = time * freq;\n        var perc = periods - Math.floor(periods);\n        var arr = createTypedArray('float32', lenWiggle);\n\n        if (lenWiggle > 1) {\n          for (j = 0; j < lenWiggle; j += 1) {\n            arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc; // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\n            // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\n          }\n\n          return arr;\n        }\n\n        return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\n      }.bind(this);\n\n      if (thisProperty.loopIn) {\n        loopIn = thisProperty.loopIn.bind(thisProperty);\n        loop_in = loopIn;\n      }\n\n      if (thisProperty.loopOut) {\n        loopOut = thisProperty.loopOut.bind(thisProperty);\n        loop_out = loopOut;\n      }\n\n      if (thisProperty.smooth) {\n        smooth = thisProperty.smooth.bind(thisProperty);\n      }\n\n      function loopInDuration(type, duration) {\n        return loopIn(type, duration, true);\n      }\n\n      function loopOutDuration(type, duration) {\n        return loopOut(type, duration, true);\n      }\n\n      if (this.getValueAtTime) {\n        valueAtTime = this.getValueAtTime.bind(this);\n      }\n\n      if (this.getVelocityAtTime) {\n        velocityAtTime = this.getVelocityAtTime.bind(this);\n      }\n\n      var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\n\n      function lookAt(elem1, elem2) {\n        var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\n        var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\n        var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\n        return [yaw, pitch, 0];\n      }\n\n      function easeOut(t, tMin, tMax, val1, val2) {\n        return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function easeIn(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInBez, t, tMin, tMax, val1, val2);\n      }\n\n      function ease(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function applyEase(fn, t, tMin, tMax, val1, val2) {\n        if (val1 === undefined) {\n          val1 = tMin;\n          val2 = tMax;\n        } else {\n          t = (t - tMin) / (tMax - tMin);\n        }\n\n        if (t > 1) {\n          t = 1;\n        } else if (t < 0) {\n          t = 0;\n        }\n\n        var mult = fn(t);\n\n        if ($bm_isInstanceOfArray(val1)) {\n          var iKey;\n          var lenKey = val1.length;\n          var arr = createTypedArray('float32', lenKey);\n\n          for (iKey = 0; iKey < lenKey; iKey += 1) {\n            arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\n          }\n\n          return arr;\n        }\n\n        return (val2 - val1) * mult + val1;\n      }\n\n      function nearestKey(time) {\n        var iKey;\n        var lenKey = data.k.length;\n        var index;\n        var keyTime;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          index = 0;\n          keyTime = 0;\n        } else {\n          index = -1;\n          time *= elem.comp.globalData.frameRate;\n\n          if (time < data.k[0].t) {\n            index = 1;\n            keyTime = data.k[0].t;\n          } else {\n            for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\n              if (time === data.k[iKey].t) {\n                index = iKey + 1;\n                keyTime = data.k[iKey].t;\n                break;\n              } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\n                if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\n                  index = iKey + 2;\n                  keyTime = data.k[iKey + 1].t;\n                } else {\n                  index = iKey + 1;\n                  keyTime = data.k[iKey].t;\n                }\n\n                break;\n              }\n            }\n\n            if (index === -1) {\n              index = iKey + 1;\n              keyTime = data.k[iKey].t;\n            }\n          }\n        }\n\n        var obKey = {};\n        obKey.index = index;\n        obKey.time = keyTime / elem.comp.globalData.frameRate;\n        return obKey;\n      }\n\n      function key(ind) {\n        var obKey;\n        var iKey;\n        var lenKey;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          throw new Error('The property has no keyframe at index ' + ind);\n        }\n\n        ind -= 1;\n        obKey = {\n          time: data.k[ind].t / elem.comp.globalData.frameRate,\n          value: []\n        };\n        var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\n        lenKey = arr.length;\n\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\n          obKey[iKey] = arr[iKey];\n          obKey.value[iKey] = arr[iKey];\n        }\n\n        return obKey;\n      }\n\n      function framesToTime(fr, fps) {\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return fr / fps;\n      }\n\n      function timeToFrames(t, fps) {\n        if (!t && t !== 0) {\n          t = time;\n        }\n\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return t * fps;\n      }\n\n      function seedRandom(seed) {\n        BMMath.seedrandom(randSeed + seed);\n      }\n\n      function sourceRectAtTime() {\n        return elem.sourceRectAtTime();\n      }\n\n      function substring(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substring(init);\n          }\n\n          return value.substring(init, end);\n        }\n\n        return '';\n      }\n\n      function substr(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substr(init);\n          }\n\n          return value.substr(init, end);\n        }\n\n        return '';\n      }\n\n      function posterizeTime(framesPerSecond) {\n        time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\n        value = valueAtTime(time);\n      }\n\n      var time;\n      var velocity;\n      var value;\n      var text;\n      var textIndex;\n      var textTotal;\n      var selectorValue;\n      var index = elem.data.ind;\n      var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n      var parent;\n      var randSeed = Math.floor(Math.random() * 1000000);\n      var globalData = elem.globalData;\n\n      function executeExpression(_value) {\n        // globalData.pushExpression();\n        value = _value;\n\n        if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\n          return value;\n        }\n\n        if (this.propType === 'textSelector') {\n          textIndex = this.textIndex;\n          textTotal = this.textTotal;\n          selectorValue = this.selectorValue;\n        }\n\n        if (!thisLayer) {\n          text = elem.layerInterface.text;\n          thisLayer = elem.layerInterface;\n          thisComp = elem.comp.compInterface;\n          toWorld = thisLayer.toWorld.bind(thisLayer);\n          fromWorld = thisLayer.fromWorld.bind(thisLayer);\n          fromComp = thisLayer.fromComp.bind(thisLayer);\n          toComp = thisLayer.toComp.bind(thisLayer);\n          mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\n          fromCompToSurface = fromComp;\n        }\n\n        if (!transform) {\n          transform = elem.layerInterface('ADBE Transform Group');\n          $bm_transform = transform;\n\n          if (transform) {\n            anchorPoint = transform.anchorPoint;\n            /* position = transform.position;\r\n                      rotation = transform.rotation;\r\n                      scale = transform.scale; */\n          }\n        }\n\n        if (elemType === 4 && !content) {\n          content = thisLayer('ADBE Root Vectors Group');\n        }\n\n        if (!effect) {\n          effect = thisLayer(4);\n        }\n\n        hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n\n        if (hasParent && !parent) {\n          parent = elem.hierarchy[0].layerInterface;\n        }\n\n        time = this.comp.renderedFrame / this.comp.globalData.frameRate;\n\n        if (_needsRandom) {\n          seedRandom(randSeed + time);\n        }\n\n        if (needsVelocity) {\n          velocity = velocityAtTime(time);\n        }\n\n        expression_function();\n        this.frameExpressionId = elem.globalData.frameId; // TODO: Check if it's possible to return on ShapeInterface the .v value\n        // Changed this to a ternary operation because Rollup failed compiling it correctly\n\n        scoped_bm_rt = scoped_bm_rt.propType === propTypes.SHAPE ? scoped_bm_rt.v : scoped_bm_rt;\n        return scoped_bm_rt;\n      } // Bundlers will see these as dead code and unless we reference them\n\n\n      executeExpression.__preventDeadCodeRemoval = [$bm_transform, anchorPoint, time, velocity, inPoint, outPoint, width, height, name, loop_in, loop_out, smooth, toComp, fromCompToSurface, toWorld, fromWorld, mask, position, rotation, scale, thisComp, numKeys, active, wiggle, loopInDuration, loopOutDuration, comp, lookAt, easeOut, easeIn, ease, nearestKey, key, text, textIndex, textTotal, selectorValue, framesToTime, timeToFrames, sourceRectAtTime, substring, substr, posterizeTime, index, globalData];\n      return executeExpression;\n    }\n\n    ob.initiateExpression = initiateExpression;\n    ob.__preventDeadCodeRemoval = [window, document, XMLHttpRequest, fetch, frames, $bm_neg, add, $bm_sum, $bm_sub, $bm_mul, $bm_div, $bm_mod, clamp, radians_to_degrees, degreesToRadians, degrees_to_radians, normalize, rgbToHsl, hslToRgb, linear, random, createPath];\n    return ob;\n  }();\n\n  var expressionHelpers = function () {\n    function searchExpressions(elem, data, prop) {\n      if (data.x) {\n        prop.k = true;\n        prop.x = true;\n        prop.initiateExpression = ExpressionManager.initiateExpression;\n        prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\n      }\n    }\n\n    function getValueAtTime(frameNum) {\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastFrame) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\n        this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\n        this._cachingAtTime.lastFrame = frameNum;\n      }\n\n      return this._cachingAtTime.value;\n    }\n\n    function getSpeedAtTime(frameNum) {\n      var delta = -0.01;\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var speed = 0;\n\n      if (v1.length) {\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          speed += Math.pow(v2[i] - v1[i], 2);\n        }\n\n        speed = Math.sqrt(speed) * 100;\n      } else {\n        speed = 0;\n      }\n\n      return speed;\n    }\n\n    function getVelocityAtTime(frameNum) {\n      if (this.vel !== undefined) {\n        return this.vel;\n      }\n\n      var delta = -0.001; // frameNum += this.elem.data.st;\n\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var velocity;\n\n      if (v1.length) {\n        velocity = createTypedArray('float32', v1.length);\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          // removing frameRate\n          // if needed, don't add it here\n          // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\n          velocity[i] = (v2[i] - v1[i]) / delta;\n        }\n      } else {\n        velocity = (v2 - v1) / delta;\n      }\n\n      return velocity;\n    }\n\n    function getStaticValueAtTime() {\n      return this.pv;\n    }\n\n    function setGroupProperty(propertyGroup) {\n      this.propertyGroup = propertyGroup;\n    }\n\n    return {\n      searchExpressions: searchExpressions,\n      getSpeedAtTime: getSpeedAtTime,\n      getVelocityAtTime: getVelocityAtTime,\n      getValueAtTime: getValueAtTime,\n      getStaticValueAtTime: getStaticValueAtTime,\n      setGroupProperty: setGroupProperty\n    };\n  }();\n\n  function addPropertyDecorator() {\n    function loopOut(type, duration, durationFlag) {\n      if (!this.k || !this.keyframes) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var lastKeyFrame = keyframes[keyframes.length - 1].t;\n\n      if (currentFrame <= lastKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var firstKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\n        } else {\n          cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\n        }\n\n        firstKeyFrame = lastKeyFrame - cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (iterations % 2 !== 0) {\n          return this.getValueAtTime((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n\n        var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = (endV[i] - initV[i]) * repeats + current[i];\n          }\n\n          return ret;\n        }\n\n        return (endV - initV) * repeats + current;\n      } else if (type === 'continue') {\n        var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(lastValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\n          }\n\n          return ret;\n        }\n\n        return lastValue + (lastValue - nextLastValue) * ((currentFrame - lastKeyFrame) / 0.001);\n      }\n\n      return this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function loopIn(type, duration, durationFlag) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var firstKeyFrame = keyframes[0].t;\n\n      if (currentFrame >= firstKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var lastKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        lastKeyFrame = keyframes[duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\n        } else {\n          cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\n        }\n\n        lastKeyFrame = firstKeyFrame + cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\n\n        if (iterations % 2 === 0) {\n          return this.getValueAtTime(((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n        var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\n          }\n\n          return ret;\n        }\n\n        return current - (endV - initV) * repeats;\n      } else if (type === 'continue') {\n        var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(firstValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = firstValue[i] + (firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame) / 0.001;\n          }\n\n          return ret;\n        }\n\n        return firstValue + (firstValue - nextFirstValue) * (firstKeyFrame - currentFrame) / 0.001;\n      }\n\n      return this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function smooth(width, samples) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      width = (width || 0.4) * 0.5;\n      samples = Math.floor(samples || 5);\n\n      if (samples <= 1) {\n        return this.pv;\n      }\n\n      var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\n      var initFrame = currentTime - width;\n      var endFrame = currentTime + width;\n      var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\n      var i = 0;\n      var j = 0;\n      var value;\n\n      if (this.pv.length) {\n        value = createTypedArray('float32', this.pv.length);\n      } else {\n        value = 0;\n      }\n\n      var sampleValue;\n\n      while (i < samples) {\n        sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\n\n        if (this.pv.length) {\n          for (j = 0; j < this.pv.length; j += 1) {\n            value[j] += sampleValue[j];\n          }\n        } else {\n          value += sampleValue;\n        }\n\n        i += 1;\n      }\n\n      if (this.pv.length) {\n        for (j = 0; j < this.pv.length; j += 1) {\n          value[j] /= samples;\n        }\n      } else {\n        value /= samples;\n      }\n\n      return value;\n    }\n\n    function getTransformValueAtTime(time) {\n      if (!this._transformCachingAtTime) {\n        this._transformCachingAtTime = {\n          v: new Matrix()\n        };\n      } /// /\n\n\n      var matrix = this._transformCachingAtTime.v;\n      matrix.cloneFromProps(this.pre.props);\n\n      if (this.appliedTransformations < 1) {\n        var anchor = this.a.getValueAtTime(time);\n        matrix.translate(-anchor[0] * this.a.mult, -anchor[1] * this.a.mult, anchor[2] * this.a.mult);\n      }\n\n      if (this.appliedTransformations < 2) {\n        var scale = this.s.getValueAtTime(time);\n        matrix.scale(scale[0] * this.s.mult, scale[1] * this.s.mult, scale[2] * this.s.mult);\n      }\n\n      if (this.sk && this.appliedTransformations < 3) {\n        var skew = this.sk.getValueAtTime(time);\n        var skewAxis = this.sa.getValueAtTime(time);\n        matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\n      }\n\n      if (this.r && this.appliedTransformations < 4) {\n        var rotation = this.r.getValueAtTime(time);\n        matrix.rotate(-rotation * this.r.mult);\n      } else if (!this.r && this.appliedTransformations < 4) {\n        var rotationZ = this.rz.getValueAtTime(time);\n        var rotationY = this.ry.getValueAtTime(time);\n        var rotationX = this.rx.getValueAtTime(time);\n        var orientation = this.or.getValueAtTime(time);\n        matrix.rotateZ(-rotationZ * this.rz.mult).rotateY(rotationY * this.ry.mult).rotateX(rotationX * this.rx.mult).rotateZ(-orientation[2] * this.or.mult).rotateY(orientation[1] * this.or.mult).rotateX(orientation[0] * this.or.mult);\n      }\n\n      if (this.data.p && this.data.p.s) {\n        var positionX = this.px.getValueAtTime(time);\n        var positionY = this.py.getValueAtTime(time);\n\n        if (this.data.p.z) {\n          var positionZ = this.pz.getValueAtTime(time);\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, -positionZ * this.pz.mult);\n        } else {\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\n        }\n      } else {\n        var position = this.p.getValueAtTime(time);\n        matrix.translate(position[0] * this.p.mult, position[1] * this.p.mult, -position[2] * this.p.mult);\n      }\n\n      return matrix; /// /\n    }\n\n    function getTransformStaticValueAtTime() {\n      return this.v.clone(new Matrix());\n    }\n\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\n\n    TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\n      var prop = getTransformProperty(elem, data, container);\n\n      if (prop.dynamicProperties.length) {\n        prop.getValueAtTime = getTransformValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      return prop;\n    };\n\n    var propertyGetProp = PropertyFactory.getProp;\n\n    PropertyFactory.getProp = function (elem, data, type, mult, container) {\n      var prop = propertyGetProp(elem, data, type, mult, container); // prop.getVelocityAtTime = getVelocityAtTime;\n      // prop.loopOut = loopOut;\n      // prop.loopIn = loopIn;\n\n      if (prop.kf) {\n        prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      prop.loopOut = loopOut;\n      prop.loopIn = loopIn;\n      prop.smooth = smooth;\n      prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\n      prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\n      prop.numKeys = data.a === 1 ? data.k.length : 0;\n      prop.propertyIndex = data.ix;\n      var value = 0;\n\n      if (type !== 0) {\n        value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\n      }\n\n      prop._cachingAtTime = {\n        lastFrame: initialDefaultFrame,\n        lastIndex: 0,\n        value: value\n      };\n      expressionHelpers.searchExpressions(elem, data, prop);\n\n      if (prop.k) {\n        container.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n\n    function getShapeValueAtTime(frameNum) {\n      // For now this caching object is created only when needed instead of creating it when the shape is initialized.\n      if (!this._cachingAtTime) {\n        this._cachingAtTime = {\n          shapeValue: shapePool.clone(this.pv),\n          lastIndex: 0,\n          lastTime: initialDefaultFrame\n        };\n      }\n\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastTime) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\n        this._cachingAtTime.lastTime = frameNum;\n        this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\n      }\n\n      return this._cachingAtTime.shapeValue;\n    }\n\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\n\n    function ShapeExpressions() {}\n\n    ShapeExpressions.prototype = {\n      vertices: function vertices(prop, time) {\n        if (this.k) {\n          this.getValue();\n        }\n\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        var i;\n        var len = shapePath._length;\n        var vertices = shapePath[prop];\n        var points = shapePath.v;\n        var arr = createSizedArray(len);\n\n        for (i = 0; i < len; i += 1) {\n          if (prop === 'i' || prop === 'o') {\n            arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\n          } else {\n            arr[i] = [vertices[i][0], vertices[i][1]];\n          }\n        }\n\n        return arr;\n      },\n      points: function points(time) {\n        return this.vertices('v', time);\n      },\n      inTangents: function inTangents(time) {\n        return this.vertices('i', time);\n      },\n      outTangents: function outTangents(time) {\n        return this.vertices('o', time);\n      },\n      isClosed: function isClosed() {\n        return this.v.c;\n      },\n      pointOnPath: function pointOnPath(perc, time) {\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        if (!this._segmentsLength) {\n          this._segmentsLength = bez.getSegmentsLength(shapePath);\n        }\n\n        var segmentsLength = this._segmentsLength;\n        var lengths = segmentsLength.lengths;\n        var lengthPos = segmentsLength.totalLength * perc;\n        var i = 0;\n        var len = lengths.length;\n        var accumulatedLength = 0;\n        var pt;\n\n        while (i < len) {\n          if (accumulatedLength + lengths[i].addedLength > lengthPos) {\n            var initIndex = i;\n            var endIndex = shapePath.c && i === len - 1 ? 0 : i + 1;\n            var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\n            pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\n            break;\n          } else {\n            accumulatedLength += lengths[i].addedLength;\n          }\n\n          i += 1;\n        }\n\n        if (!pt) {\n          pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\n        }\n\n        return pt;\n      },\n      vectorOnPath: function vectorOnPath(perc, time, vectorType) {\n        // perc doesn't use triple equality because it can be a Number object as well as a primitive.\n        if (perc == 1) {\n          // eslint-disable-line eqeqeq\n          perc = this.v.c;\n        } else if (perc == 0) {\n          // eslint-disable-line eqeqeq\n          perc = 0.999;\n        }\n\n        var pt1 = this.pointOnPath(perc, time);\n        var pt2 = this.pointOnPath(perc + 0.001, time);\n        var xLength = pt2[0] - pt1[0];\n        var yLength = pt2[1] - pt1[1];\n        var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\n\n        if (magnitude === 0) {\n          return [0, 0];\n        }\n\n        var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\n        return unitVector;\n      },\n      tangentOnPath: function tangentOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'tangent');\n      },\n      normalOnPath: function normalOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'normal');\n      },\n      setGroupProperty: expressionHelpers.setGroupProperty,\n      getValueAtTime: expressionHelpers.getStaticValueAtTime\n    };\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\n\n    ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\n      var prop = propertyGetShapeProp(elem, data, type, arr, trims);\n      prop.propertyIndex = data.ix;\n      prop.lock = false;\n\n      if (type === 3) {\n        expressionHelpers.searchExpressions(elem, data.pt, prop);\n      } else if (type === 4) {\n        expressionHelpers.searchExpressions(elem, data.ks, prop);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n  }\n\n  function initialize$1() {\n    addPropertyDecorator();\n  }\n\n  function addDecorator() {\n    function searchExpressions() {\n      if (this.data.d.x) {\n        this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\n        this.addEffect(this.getExpressionValue.bind(this));\n        return true;\n      }\n\n      return null;\n    }\n\n    TextProperty.prototype.getExpressionValue = function (currentValue, text) {\n      var newValue = this.calculateExpression(text);\n\n      if (currentValue.t !== newValue) {\n        var newData = {};\n        this.copyData(newData, currentValue);\n        newData.t = newValue.toString();\n        newData.__complete = false;\n        return newData;\n      }\n\n      return currentValue;\n    };\n\n    TextProperty.prototype.searchProperty = function () {\n      var isKeyframed = this.searchKeyframes();\n      var hasExpressions = this.searchExpressions();\n      this.kf = isKeyframed || hasExpressions;\n      return this.kf;\n    };\n\n    TextProperty.prototype.searchExpressions = searchExpressions;\n  }\n\n  function initialize() {\n    addDecorator();\n  }\n\n  function SVGComposableEffect() {}\n\n  SVGComposableEffect.prototype = {\n    createMergeNode: function createMergeNode(resultId, ins) {\n      var feMerge = createNS('feMerge');\n      feMerge.setAttribute('result', resultId);\n      var feMergeNode;\n      var i;\n\n      for (i = 0; i < ins.length; i += 1) {\n        feMergeNode = createNS('feMergeNode');\n        feMergeNode.setAttribute('in', ins[i]);\n        feMerge.appendChild(feMergeNode);\n        feMerge.appendChild(feMergeNode);\n      }\n\n      return feMerge;\n    }\n  };\n\n  function SVGTintFilter(filter, filterManager, elem, id, source) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id + '_tint_1');\n    filter.appendChild(feColorMatrix);\n    feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id + '_tint_2');\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n    var feMerge = this.createMergeNode(id, [source, id + '_tint_1', id + '_tint_2']);\n    filter.appendChild(feMerge);\n  }\n\n  extendPrototype([SVGComposableEffect], SVGTintFilter);\n\n  SVGTintFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var colorBlack = this.filterManager.effectElements[0].p.v;\n      var colorWhite = this.filterManager.effectElements[1].p.v;\n      var opacity = this.filterManager.effectElements[2].p.v / 100;\n      this.matrixFilter.setAttribute('values', colorWhite[0] - colorBlack[0] + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGFillFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id);\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n  }\n\n  SVGFillFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color = this.filterManager.effectElements[2].p.v;\n      var opacity = this.filterManager.effectElements[6].p.v;\n      this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGStrokeEffect(fil, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.elem = elem;\n    this.paths = [];\n  }\n\n  SVGStrokeEffect.prototype.initialize = function () {\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n    var path;\n    var groupPath;\n    var i;\n    var len;\n\n    if (this.filterManager.effectElements[1].p.v === 1) {\n      len = this.elem.maskManager.masksProperties.length;\n      i = 0;\n    } else {\n      i = this.filterManager.effectElements[0].p.v - 1;\n      len = i + 1;\n    }\n\n    groupPath = createNS('g');\n    groupPath.setAttribute('fill', 'none');\n    groupPath.setAttribute('stroke-linecap', 'round');\n    groupPath.setAttribute('stroke-dashoffset', 1);\n\n    for (i; i < len; i += 1) {\n      path = createNS('path');\n      groupPath.appendChild(path);\n      this.paths.push({\n        p: path,\n        m: i\n      });\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 3) {\n      var mask = createNS('mask');\n      var id = createElementID();\n      mask.setAttribute('id', id);\n      mask.setAttribute('mask-type', 'alpha');\n      mask.appendChild(groupPath);\n      this.elem.globalData.defs.appendChild(mask);\n      var g = createNS('g');\n      g.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n\n      while (elemChildren[0]) {\n        g.appendChild(elemChildren[0]);\n      }\n\n      this.elem.layerElement.appendChild(g);\n      this.masker = mask;\n      groupPath.setAttribute('stroke', '#fff');\n    } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (this.filterManager.effectElements[10].p.v === 2) {\n        elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n\n        while (elemChildren.length) {\n          this.elem.layerElement.removeChild(elemChildren[0]);\n        }\n      }\n\n      this.elem.layerElement.appendChild(groupPath);\n      this.elem.layerElement.removeAttribute('mask');\n      groupPath.setAttribute('stroke', '#fff');\n    }\n\n    this.initialized = true;\n    this.pathMasker = groupPath;\n  };\n\n  SVGStrokeEffect.prototype.renderFrame = function (forceRender) {\n    if (!this.initialized) {\n      this.initialize();\n    }\n\n    var i;\n    var len = this.paths.length;\n    var mask;\n    var path;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.paths[i].m !== -1) {\n        mask = this.elem.maskManager.viewData[this.paths[i].m];\n        path = this.paths[i].p;\n\n        if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\n          path.setAttribute('d', mask.lastPath);\n        }\n\n        if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\n          var dasharrayValue;\n\n          if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\n            var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var l = path.getTotalLength();\n            dasharrayValue = '0 0 0 ' + l * s + ' ';\n            var lineLength = l * (e - s);\n            var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n            var units = Math.floor(lineLength / segment);\n            var j;\n\n            for (j = 0; j < units; j += 1) {\n              dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\n            }\n\n            dasharrayValue += '0 ' + l * 10 + ' 0 0';\n          } else {\n            dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n          }\n\n          path.setAttribute('stroke-dasharray', dasharrayValue);\n        }\n      }\n    }\n\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n      this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\n    }\n\n    if (forceRender || this.filterManager.effectElements[6].p._mdf) {\n      this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (forceRender || this.filterManager.effectElements[3].p._mdf) {\n        var color = this.filterManager.effectElements[3].p.v;\n        this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\n      }\n    }\n  };\n\n  function SVGTritoneFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    filter.appendChild(feColorMatrix);\n    var feComponentTransfer = createNS('feComponentTransfer');\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n    feComponentTransfer.setAttribute('result', id);\n    this.matrixFilter = feComponentTransfer;\n    var feFuncR = createNS('feFuncR');\n    feFuncR.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncR);\n    this.feFuncR = feFuncR;\n    var feFuncG = createNS('feFuncG');\n    feFuncG.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncG);\n    this.feFuncG = feFuncG;\n    var feFuncB = createNS('feFuncB');\n    feFuncB.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncB);\n    this.feFuncB = feFuncB;\n    filter.appendChild(feComponentTransfer);\n  }\n\n  SVGTritoneFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color1 = this.filterManager.effectElements[0].p.v;\n      var color2 = this.filterManager.effectElements[1].p.v;\n      var color3 = this.filterManager.effectElements[2].p.v;\n      var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\n      var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\n      var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\n      this.feFuncR.setAttribute('tableValues', tableR);\n      this.feFuncG.setAttribute('tableValues', tableG);\n      this.feFuncB.setAttribute('tableValues', tableB);\n    }\n  };\n\n  function SVGProLevelsFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var effectElements = this.filterManager.effectElements;\n    var feComponentTransfer = createNS('feComponentTransfer'); // Red\n\n    if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\n      this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\n    } // Green\n\n\n    if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\n      this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\n    } // Blue\n\n\n    if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\n      this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\n    } // Alpha\n\n\n    if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\n      this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\n    } // RGB\n\n\n    if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      filter.appendChild(feComponentTransfer);\n    }\n\n    if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\n      feComponentTransfer = createNS('feComponentTransfer');\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      feComponentTransfer.setAttribute('result', id);\n      filter.appendChild(feComponentTransfer);\n      this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\n      this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\n      this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\n    }\n  }\n\n  SVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\n    var feFunc = createNS(type);\n    feFunc.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFunc);\n    return feFunc;\n  };\n\n  SVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\n    var cnt = 0;\n    var segments = 256;\n    var perc;\n    var min = Math.min(inputBlack, inputWhite);\n    var max = Math.max(inputBlack, inputWhite);\n    var table = Array.call(null, {\n      length: segments\n    });\n    var colorValue;\n    var pos = 0;\n    var outputDelta = outputWhite - outputBlack;\n    var inputDelta = inputWhite - inputBlack;\n\n    while (cnt <= 256) {\n      perc = cnt / 256;\n\n      if (perc <= min) {\n        colorValue = inputDelta < 0 ? outputWhite : outputBlack;\n      } else if (perc >= max) {\n        colorValue = inputDelta < 0 ? outputBlack : outputWhite;\n      } else {\n        colorValue = outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma);\n      }\n\n      table[pos] = colorValue;\n      pos += 1;\n      cnt += 256 / (segments - 1);\n    }\n\n    return table.join(' ');\n  };\n\n  SVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var val;\n      var effectElements = this.filterManager.effectElements;\n\n      if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\n        val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\n        this.feFuncRComposed.setAttribute('tableValues', val);\n        this.feFuncGComposed.setAttribute('tableValues', val);\n        this.feFuncBComposed.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\n        val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\n        this.feFuncR.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\n        val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\n        this.feFuncG.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\n        val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\n        this.feFuncB.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\n        val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\n        this.feFuncA.setAttribute('tableValues', val);\n      }\n    }\n  };\n\n  function SVGDropShadowEffect(filter, filterManager, elem, id, source) {\n    var filterSize = filterManager.container.globalData.renderConfig.filterSize;\n    filter.setAttribute('x', filterSize.x);\n    filter.setAttribute('y', filterSize.y);\n    filter.setAttribute('width', filterSize.width);\n    filter.setAttribute('height', filterSize.height);\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('in', 'SourceAlpha');\n    feGaussianBlur.setAttribute('result', id + '_drop_shadow_1');\n    feGaussianBlur.setAttribute('stdDeviation', '0');\n    this.feGaussianBlur = feGaussianBlur;\n    filter.appendChild(feGaussianBlur);\n    var feOffset = createNS('feOffset');\n    feOffset.setAttribute('dx', '25');\n    feOffset.setAttribute('dy', '0');\n    feOffset.setAttribute('in', id + '_drop_shadow_1');\n    feOffset.setAttribute('result', id + '_drop_shadow_2');\n    this.feOffset = feOffset;\n    filter.appendChild(feOffset);\n    var feFlood = createNS('feFlood');\n    feFlood.setAttribute('flood-color', '#00ff00');\n    feFlood.setAttribute('flood-opacity', '1');\n    feFlood.setAttribute('result', id + '_drop_shadow_3');\n    this.feFlood = feFlood;\n    filter.appendChild(feFlood);\n    var feComposite = createNS('feComposite');\n    feComposite.setAttribute('in', id + '_drop_shadow_3');\n    feComposite.setAttribute('in2', id + '_drop_shadow_2');\n    feComposite.setAttribute('operator', 'in');\n    feComposite.setAttribute('result', id + '_drop_shadow_4');\n    filter.appendChild(feComposite);\n    var feMerge = this.createMergeNode(id, [id + '_drop_shadow_4', source]);\n    filter.appendChild(feMerge); //\n  }\n\n  extendPrototype([SVGComposableEffect], SVGDropShadowEffect);\n\n  SVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n        this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\n      }\n\n      if (forceRender || this.filterManager.effectElements[0].p._mdf) {\n        var col = this.filterManager.effectElements[0].p.v;\n        this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\n      }\n\n      if (forceRender || this.filterManager.effectElements[1].p._mdf) {\n        this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\n      }\n\n      if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\n        var distance = this.filterManager.effectElements[3].p.v;\n        var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\n        var x = distance * Math.cos(angle);\n        var y = distance * Math.sin(angle);\n        this.feOffset.setAttribute('dx', x);\n        this.feOffset.setAttribute('dy', y);\n      }\n    }\n  };\n\n  var _svgMatteSymbols = [];\n\n  function SVGMatte3Effect(filterElem, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.filterElem = filterElem;\n    this.elem = elem;\n    elem.matteElement = createNS('g');\n    elem.matteElement.appendChild(elem.layerElement);\n    elem.matteElement.appendChild(elem.transformedElement);\n    elem.baseElement = elem.matteElement;\n  }\n\n  SVGMatte3Effect.prototype.findSymbol = function (mask) {\n    var i = 0;\n    var len = _svgMatteSymbols.length;\n\n    while (i < len) {\n      if (_svgMatteSymbols[i] === mask) {\n        return _svgMatteSymbols[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  SVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\n    var parentNode = mask.layerElement.parentNode;\n\n    if (!parentNode) {\n      return;\n    }\n\n    var children = parentNode.children;\n    var i = 0;\n    var len = children.length;\n\n    while (i < len) {\n      if (children[i] === mask.layerElement) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    var nextChild;\n\n    if (i <= len - 2) {\n      nextChild = children[i + 1];\n    }\n\n    var useElem = createNS('use');\n    useElem.setAttribute('href', '#' + symbolId);\n\n    if (nextChild) {\n      parentNode.insertBefore(useElem, nextChild);\n    } else {\n      parentNode.appendChild(useElem);\n    }\n  };\n\n  SVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\n    if (!this.findSymbol(mask)) {\n      var symbolId = createElementID();\n      var masker = createNS('mask');\n      masker.setAttribute('id', mask.layerId);\n      masker.setAttribute('mask-type', 'alpha');\n\n      _svgMatteSymbols.push(mask);\n\n      var defs = elem.globalData.defs;\n      defs.appendChild(masker);\n      var symbol = createNS('symbol');\n      symbol.setAttribute('id', symbolId);\n      this.replaceInParent(mask, symbolId);\n      symbol.appendChild(mask.layerElement);\n      defs.appendChild(symbol);\n      var useElem = createNS('use');\n      useElem.setAttribute('href', '#' + symbolId);\n      masker.appendChild(useElem);\n      mask.data.hd = false;\n      mask.show();\n    }\n\n    elem.setMatte(mask.layerId);\n  };\n\n  SVGMatte3Effect.prototype.initialize = function () {\n    var ind = this.filterManager.effectElements[0].p.v;\n    var elements = this.elem.comp.elements;\n    var i = 0;\n    var len = elements.length;\n\n    while (i < len) {\n      if (elements[i] && elements[i].data.ind === ind) {\n        this.setElementAsMask(this.elem, elements[i]);\n      }\n\n      i += 1;\n    }\n\n    this.initialized = true;\n  };\n\n  SVGMatte3Effect.prototype.renderFrame = function () {\n    if (!this.initialized) {\n      this.initialize();\n    }\n  };\n\n  function SVGGaussianBlurEffect(filter, filterManager, elem, id) {\n    // Outset the filter region by 100% on all sides to accommodate blur expansion.\n    filter.setAttribute('x', '-100%');\n    filter.setAttribute('y', '-100%');\n    filter.setAttribute('width', '300%');\n    filter.setAttribute('height', '300%');\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('result', id);\n    filter.appendChild(feGaussianBlur);\n    this.feGaussianBlur = feGaussianBlur;\n  }\n\n  SVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      // Empirical value, matching AE's blur appearance.\n      var kBlurrinessToSigma = 0.3;\n      var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma; // Dimensions mapping:\n      //\n      //   1 -> horizontal & vertical\n      //   2 -> horizontal only\n      //   3 -> vertical only\n      //\n\n      var dimensions = this.filterManager.effectElements[1].p.v;\n      var sigmaX = dimensions == 3 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      var sigmaY = dimensions == 2 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY); // Repeat edges mapping:\n      //\n      //   0 -> off -> duplicate\n      //   1 -> on  -> wrap\n\n      var edgeMode = this.filterManager.effectElements[2].p.v == 1 ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\n    }\n  };\n\n  registerRenderer('canvas', CanvasRenderer);\n  registerRenderer('html', HybridRenderer);\n  registerRenderer('svg', SVGRenderer); // Registering shape modifiers\n\n  ShapeModifiers.registerModifier('tm', TrimModifier);\n  ShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\n  ShapeModifiers.registerModifier('rp', RepeaterModifier);\n  ShapeModifiers.registerModifier('rd', RoundCornersModifier); // Registering expression plugin\n\n  setExpressionsPlugin(Expressions);\n  initialize$1();\n  initialize(); // Registering svg effects\n\n  registerEffect(20, SVGTintFilter, true);\n  registerEffect(21, SVGFillFilter, true);\n  registerEffect(22, SVGStrokeEffect, false);\n  registerEffect(23, SVGTritoneFilter, true);\n  registerEffect(24, SVGProLevelsFilter, true);\n  registerEffect(25, SVGDropShadowEffect, true);\n  registerEffect(28, SVGMatte3Effect, false);\n  registerEffect(29, SVGGaussianBlurEffect, true);\n\n  return lottie;\n\n}));\n"]},"metadata":{},"sourceType":"script"}