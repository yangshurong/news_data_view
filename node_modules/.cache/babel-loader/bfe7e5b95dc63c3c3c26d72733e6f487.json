{"ast":null,"code":"import * as echarts from 'echarts/lib/echarts';\nimport { getItemVisualColor } from '../../util/visual';\n\nfunction otherDimToDataDim(data, otherDim) {\n  var dataDim = [];\n  echarts.util.each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n    var otherDims = dimItem.otherDims;\n    var dimIndex = otherDims[otherDim];\n\n    if (dimIndex != null && dimIndex !== false) {\n      dataDim[dimIndex] = dimItem.name;\n    }\n  });\n  return dataDim;\n}\n\nexport default function (seriesModel, dataIndex, multipleSeries) {\n  function formatArrayValue(value) {\n    var vertially = true;\n    var result = [];\n    var tooltipDims = otherDimToDataDim(data, 'tooltip');\n    tooltipDims.length ? echarts.util.each(tooltipDims, function (dimIdx) {\n      setEachItem(data.get(dimIdx, dataIndex), dimIdx);\n    }) // By default, all dims is used on tooltip.\n    : echarts.util.each(value, setEachItem);\n\n    function setEachItem(val, dimIdx) {\n      var dimInfo = data.getDimensionInfo(dimIdx); // If `dimInfo.tooltip` is not set, show tooltip.\n\n      if (!dimInfo || dimInfo.otherDims.tooltip === false) {\n        return;\n      }\n\n      var dimType = dimInfo.type;\n      var valStr = (vertially ? '- ' + (dimInfo.tooltipName || dimInfo.name) + ': ' : '') + (dimType === 'ordinal' ? val + '' : dimType === 'time' ? multipleSeries ? '' : echarts.format.formatTime('yyyy/MM/dd hh:mm:ss', val) : echarts.format.addCommas(val));\n      valStr && result.push(echarts.format.encodeHTML(valStr));\n    }\n\n    return (vertially ? '<br/>' : '') + result.join(vertially ? '<br/>' : ', ');\n  }\n\n  var data = seriesModel.getData();\n  var value = seriesModel.getRawValue(dataIndex);\n  var formattedValue = echarts.util.isArray(value) ? formatArrayValue(value) : echarts.format.encodeHTML(echarts.format.addCommas(value));\n  var name = data.getName(dataIndex);\n  var color = getItemVisualColor(data, dataIndex);\n\n  if (echarts.util.isObject(color) && color.colorStops) {\n    color = (color.colorStops[0] || {}).color;\n  }\n\n  color = color || 'transparent';\n  var colorEl = echarts.format.getTooltipMarker(color);\n  var seriesName = seriesModel.name; // FIXME\n\n  if (seriesName === '\\0-') {\n    // Not show '-'\n    seriesName = '';\n  }\n\n  seriesName = seriesName ? echarts.format.encodeHTML(seriesName) + (!multipleSeries ? '<br/>' : ': ') : '';\n  return !multipleSeries ? seriesName + colorEl + (name ? echarts.format.encodeHTML(name) + ': ' + formattedValue : formattedValue) : colorEl + seriesName + formattedValue;\n}\n;","map":{"version":3,"sources":["C:/Users/Administrator/Desktop/data_view/my_project/vue2_app/myapp/node_modules/echarts-gl/lib/chart/common/formatTooltip.js"],"names":["echarts","getItemVisualColor","otherDimToDataDim","data","otherDim","dataDim","util","each","dimensions","dimName","dimItem","getDimensionInfo","otherDims","dimIndex","name","seriesModel","dataIndex","multipleSeries","formatArrayValue","value","vertially","result","tooltipDims","length","dimIdx","setEachItem","get","val","dimInfo","tooltip","dimType","type","valStr","tooltipName","format","formatTime","addCommas","push","encodeHTML","join","getData","getRawValue","formattedValue","isArray","getName","color","isObject","colorStops","colorEl","getTooltipMarker","seriesName"],"mappings":"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","sourcesContent":["import * as echarts from 'echarts/lib/echarts';\nimport { getItemVisualColor } from '../../util/visual';\n\nfunction otherDimToDataDim(data, otherDim) {\n  var dataDim = [];\n  echarts.util.each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n    var otherDims = dimItem.otherDims;\n    var dimIndex = otherDims[otherDim];\n\n    if (dimIndex != null && dimIndex !== false) {\n      dataDim[dimIndex] = dimItem.name;\n    }\n  });\n  return dataDim;\n}\n\nexport default function (seriesModel, dataIndex, multipleSeries) {\n  function formatArrayValue(value) {\n    var vertially = true;\n    var result = [];\n    var tooltipDims = otherDimToDataDim(data, 'tooltip');\n    tooltipDims.length ? echarts.util.each(tooltipDims, function (dimIdx) {\n      setEachItem(data.get(dimIdx, dataIndex), dimIdx);\n    }) // By default, all dims is used on tooltip.\n    : echarts.util.each(value, setEachItem);\n\n    function setEachItem(val, dimIdx) {\n      var dimInfo = data.getDimensionInfo(dimIdx); // If `dimInfo.tooltip` is not set, show tooltip.\n\n      if (!dimInfo || dimInfo.otherDims.tooltip === false) {\n        return;\n      }\n\n      var dimType = dimInfo.type;\n      var valStr = (vertially ? '- ' + (dimInfo.tooltipName || dimInfo.name) + ': ' : '') + (dimType === 'ordinal' ? val + '' : dimType === 'time' ? multipleSeries ? '' : echarts.format.formatTime('yyyy/MM/dd hh:mm:ss', val) : echarts.format.addCommas(val));\n      valStr && result.push(echarts.format.encodeHTML(valStr));\n    }\n\n    return (vertially ? '<br/>' : '') + result.join(vertially ? '<br/>' : ', ');\n  }\n\n  var data = seriesModel.getData();\n  var value = seriesModel.getRawValue(dataIndex);\n  var formattedValue = echarts.util.isArray(value) ? formatArrayValue(value) : echarts.format.encodeHTML(echarts.format.addCommas(value));\n  var name = data.getName(dataIndex);\n  var color = getItemVisualColor(data, dataIndex);\n\n  if (echarts.util.isObject(color) && color.colorStops) {\n    color = (color.colorStops[0] || {}).color;\n  }\n\n  color = color || 'transparent';\n  var colorEl = echarts.format.getTooltipMarker(color);\n  var seriesName = seriesModel.name; // FIXME\n\n  if (seriesName === '\\0-') {\n    // Not show '-'\n    seriesName = '';\n  }\n\n  seriesName = seriesName ? echarts.format.encodeHTML(seriesName) + (!multipleSeries ? '<br/>' : ': ') : '';\n  return !multipleSeries ? seriesName + colorEl + (name ? echarts.format.encodeHTML(name) + ': ' + formattedValue : formattedValue) : colorEl + seriesName + formattedValue;\n}\n;"]},"metadata":{},"sourceType":"module"}