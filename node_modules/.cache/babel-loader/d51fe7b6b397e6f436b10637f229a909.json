{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.object.to-string.js\";\n\n/**\n * @constructor\n * @alias module:echarts-gl/component/maptalks/Maptalks3DLayer\n * @param {string} id Layer ID\n * @param {module:zrender/ZRender} zr\n */\nfunction Maptalks3DLayer(id, zr, defaultCenter, defaultZoom) {\n  this.id = id;\n  this.zr = zr;\n  this.dom = document.createElement('div');\n  this.dom.style.cssText = 'position:absolute;left:0;right:0;top:0;bottom:0;'; // FIXME If in module environment.\n\n  if (!maptalks) {\n    throw new Error('Maptalks library must be included. See https://maptalks.org');\n  }\n\n  this._maptalks = new maptalks.Map(this.dom, {\n    center: defaultCenter,\n    zoom: defaultZoom,\n    doubleClickZoom: false,\n    fog: false // fogColor: [0, 0, 0]\n\n  }); // Proxy events\n\n  this._initEvents();\n}\n\nMaptalks3DLayer.prototype.setUnpainted = function () {};\n\nMaptalks3DLayer.prototype.resize = function () {\n  this._maptalks.checkSize();\n};\n\nMaptalks3DLayer.prototype.getMaptalks = function () {\n  return this._maptalks;\n};\n\nMaptalks3DLayer.prototype.clear = function () {};\n\nMaptalks3DLayer.prototype.refresh = function () {\n  this._maptalks.checkSize();\n};\n\nvar EVENTS = ['mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mousewheel', 'DOMMouseScroll', 'touchstart', 'touchend', 'touchmove', 'touchcancel'];\n\nMaptalks3DLayer.prototype._initEvents = function () {\n  // Event is bound on canvas container.\n  var maptalksRoot = this.dom;\n  this._handlers = this._handlers || {\n    contextmenu: function contextmenu(e) {\n      e.preventDefault();\n      return false;\n    }\n  };\n  EVENTS.forEach(function (eName) {\n    this._handlers[eName] = function (e) {\n      var obj = {};\n\n      for (var name in e) {\n        obj[name] = e[name];\n      }\n\n      obj.bubbles = false;\n      var newE = new e.constructor(e.type, obj);\n\n      if (eName === 'mousewheel' || eName === 'DOMMouseScroll') {\n        // maptalks listens events to different elements?\n        maptalksRoot.dispatchEvent(newE);\n      } else {\n        maptalksRoot.firstElementChild.dispatchEvent(newE);\n      }\n    };\n\n    this.zr.dom.addEventListener(eName, this._handlers[eName]);\n  }, this); // PENDING\n\n  this.zr.dom.addEventListener('contextmenu', this._handlers.contextmenu);\n};\n\nMaptalks3DLayer.prototype.dispose = function () {\n  EVENTS.forEach(function (eName) {\n    this.zr.dom.removeEventListener(eName, this._handlers[eName]);\n  }, this);\n\n  this._maptalks.remove();\n};\n\nexport default Maptalks3DLayer;","map":{"version":3,"sources":["C:/Users/Administrator/Desktop/data_view/my_project/vue2_app/myapp/node_modules/_echarts-gl@2.0.9@echarts-gl/lib/component/maptalks3D/Maptalks3DLayer.js"],"names":["Maptalks3DLayer","id","zr","defaultCenter","defaultZoom","dom","document","createElement","style","cssText","maptalks","Error","_maptalks","Map","center","zoom","doubleClickZoom","fog","_initEvents","prototype","setUnpainted","resize","checkSize","getMaptalks","clear","refresh","EVENTS","maptalksRoot","_handlers","contextmenu","e","preventDefault","forEach","eName","obj","name","bubbles","newE","constructor","type","dispatchEvent","firstElementChild","addEventListener","dispose","removeEventListener","remove"],"mappings":"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","sourcesContent":["/**\n * @constructor\n * @alias module:echarts-gl/component/maptalks/Maptalks3DLayer\n * @param {string} id Layer ID\n * @param {module:zrender/ZRender} zr\n */\nfunction Maptalks3DLayer(id, zr, defaultCenter, defaultZoom) {\n  this.id = id;\n  this.zr = zr;\n  this.dom = document.createElement('div');\n  this.dom.style.cssText = 'position:absolute;left:0;right:0;top:0;bottom:0;'; // FIXME If in module environment.\n\n  if (!maptalks) {\n    throw new Error('Maptalks library must be included. See https://maptalks.org');\n  }\n\n  this._maptalks = new maptalks.Map(this.dom, {\n    center: defaultCenter,\n    zoom: defaultZoom,\n    doubleClickZoom: false,\n    fog: false // fogColor: [0, 0, 0]\n\n  }); // Proxy events\n\n  this._initEvents();\n}\n\nMaptalks3DLayer.prototype.setUnpainted = function () {};\n\nMaptalks3DLayer.prototype.resize = function () {\n  this._maptalks.checkSize();\n};\n\nMaptalks3DLayer.prototype.getMaptalks = function () {\n  return this._maptalks;\n};\n\nMaptalks3DLayer.prototype.clear = function () {};\n\nMaptalks3DLayer.prototype.refresh = function () {\n  this._maptalks.checkSize();\n};\n\nvar EVENTS = ['mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mousewheel', 'DOMMouseScroll', 'touchstart', 'touchend', 'touchmove', 'touchcancel'];\n\nMaptalks3DLayer.prototype._initEvents = function () {\n  // Event is bound on canvas container.\n  var maptalksRoot = this.dom;\n  this._handlers = this._handlers || {\n    contextmenu: function (e) {\n      e.preventDefault();\n      return false;\n    }\n  };\n  EVENTS.forEach(function (eName) {\n    this._handlers[eName] = function (e) {\n      var obj = {};\n\n      for (var name in e) {\n        obj[name] = e[name];\n      }\n\n      obj.bubbles = false;\n      var newE = new e.constructor(e.type, obj);\n\n      if (eName === 'mousewheel' || eName === 'DOMMouseScroll') {\n        // maptalks listens events to different elements?\n        maptalksRoot.dispatchEvent(newE);\n      } else {\n        maptalksRoot.firstElementChild.dispatchEvent(newE);\n      }\n    };\n\n    this.zr.dom.addEventListener(eName, this._handlers[eName]);\n  }, this); // PENDING\n\n  this.zr.dom.addEventListener('contextmenu', this._handlers.contextmenu);\n};\n\nMaptalks3DLayer.prototype.dispose = function () {\n  EVENTS.forEach(function (eName) {\n    this.zr.dom.removeEventListener(eName, this._handlers[eName]);\n  }, this);\n\n  this._maptalks.remove();\n};\n\nexport default Maptalks3DLayer;"]},"metadata":{},"sourceType":"module"}